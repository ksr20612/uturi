"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@zag-js+number-input@1.21.7";
exports.ids = ["vendor-chunks/@zag-js+number-input@1.21.7"];
exports.modules = {

/***/ "(ssr)/../../node_modules/.pnpm/@zag-js+number-input@1.21.7/node_modules/@zag-js/number-input/dist/index.mjs":
/*!*************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@zag-js+number-input@1.21.7/node_modules/@zag-js/number-input/dist/index.mjs ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   anatomy: () => (/* binding */ anatomy),\n/* harmony export */   connect: () => (/* binding */ connect),\n/* harmony export */   machine: () => (/* binding */ machine),\n/* harmony export */   props: () => (/* binding */ props),\n/* harmony export */   splitProps: () => (/* binding */ splitProps)\n/* harmony export */ });\n/* harmony import */ var _zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/anatomy */ \"(ssr)/../../node_modules/.pnpm/@zag-js+anatomy@1.21.7/node_modules/@zag-js/anatomy/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zag-js/dom-query */ \"(ssr)/../../node_modules/.pnpm/@zag-js+dom-query@1.21.7/node_modules/@zag-js/dom-query/dist/index.mjs\");\n/* harmony import */ var _zag_js_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zag-js/utils */ \"(ssr)/../../node_modules/.pnpm/@zag-js+utils@1.21.7/node_modules/@zag-js/utils/dist/index.mjs\");\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/../../node_modules/.pnpm/@zag-js+core@1.21.7/node_modules/@zag-js/core/dist/index.mjs\");\n/* harmony import */ var _internationalized_number__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @internationalized/number */ \"(ssr)/../../node_modules/.pnpm/@internationalized+number@3.6.4/node_modules/@internationalized/number/dist/NumberParser.mjs\");\n/* harmony import */ var _zag_js_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @zag-js/types */ \"(ssr)/../../node_modules/.pnpm/@zag-js+types@1.21.7/node_modules/@zag-js/types/dist/index.mjs\");\n\n\n\n\n\n\n\n// src/number-input.anatomy.ts\nvar anatomy = (0,_zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__.createAnatomy)(\"numberInput\").parts(\n  \"root\",\n  \"label\",\n  \"input\",\n  \"control\",\n  \"valueText\",\n  \"incrementTrigger\",\n  \"decrementTrigger\",\n  \"scrubber\"\n);\nvar parts = anatomy.build();\nvar getRootId = (ctx) => ctx.ids?.root ?? `number-input:${ctx.id}`;\nvar getInputId = (ctx) => ctx.ids?.input ?? `number-input:${ctx.id}:input`;\nvar getIncrementTriggerId = (ctx) => ctx.ids?.incrementTrigger ?? `number-input:${ctx.id}:inc`;\nvar getDecrementTriggerId = (ctx) => ctx.ids?.decrementTrigger ?? `number-input:${ctx.id}:dec`;\nvar getScrubberId = (ctx) => ctx.ids?.scrubber ?? `number-input:${ctx.id}:scrubber`;\nvar getCursorId = (ctx) => `number-input:${ctx.id}:cursor`;\nvar getLabelId = (ctx) => ctx.ids?.label ?? `number-input:${ctx.id}:label`;\nvar getInputEl = (ctx) => ctx.getById(getInputId(ctx));\nvar getIncrementTriggerEl = (ctx) => ctx.getById(getIncrementTriggerId(ctx));\nvar getDecrementTriggerEl = (ctx) => ctx.getById(getDecrementTriggerId(ctx));\nvar getCursorEl = (ctx) => ctx.getDoc().getElementById(getCursorId(ctx));\nvar getPressedTriggerEl = (ctx, hint) => {\n  let btnEl = null;\n  if (hint === \"increment\") {\n    btnEl = getIncrementTriggerEl(ctx);\n  }\n  if (hint === \"decrement\") {\n    btnEl = getDecrementTriggerEl(ctx);\n  }\n  return btnEl;\n};\nvar setupVirtualCursor = (ctx, point) => {\n  if ((0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.isSafari)()) return;\n  createVirtualCursor(ctx, point);\n  return () => {\n    getCursorEl(ctx)?.remove();\n  };\n};\nvar preventTextSelection = (ctx) => {\n  const doc = ctx.getDoc();\n  const html = doc.documentElement;\n  const body = doc.body;\n  body.style.pointerEvents = \"none\";\n  html.style.userSelect = \"none\";\n  html.style.cursor = \"ew-resize\";\n  return () => {\n    body.style.pointerEvents = \"\";\n    html.style.userSelect = \"\";\n    html.style.cursor = \"\";\n    if (!html.style.length) {\n      html.removeAttribute(\"style\");\n    }\n    if (!body.style.length) {\n      body.removeAttribute(\"style\");\n    }\n  };\n};\nvar getMousemoveValue = (ctx, opts) => {\n  const { point, isRtl, event } = opts;\n  const win = ctx.getWin();\n  const x = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.roundToDpr)(event.movementX, win.devicePixelRatio);\n  const y = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.roundToDpr)(event.movementY, win.devicePixelRatio);\n  let hint = x > 0 ? \"increment\" : x < 0 ? \"decrement\" : null;\n  if (isRtl && hint === \"increment\") hint = \"decrement\";\n  if (isRtl && hint === \"decrement\") hint = \"increment\";\n  const newPoint = { x: point.x + x, y: point.y + y };\n  const width = win.innerWidth;\n  const half = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.roundToDpr)(7.5, win.devicePixelRatio);\n  newPoint.x = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.wrap)(newPoint.x + half, width) - half;\n  return { hint, point: newPoint };\n};\nvar createVirtualCursor = (ctx, point) => {\n  const doc = ctx.getDoc();\n  const el = doc.createElement(\"div\");\n  el.className = \"scrubber--cursor\";\n  el.id = getCursorId(ctx);\n  Object.assign(el.style, {\n    width: \"15px\",\n    height: \"15px\",\n    position: \"fixed\",\n    pointerEvents: \"none\",\n    left: \"0px\",\n    top: \"0px\",\n    zIndex: _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.MAX_Z_INDEX,\n    transform: point ? `translate3d(${point.x}px, ${point.y}px, 0px)` : void 0,\n    willChange: \"transform\"\n  });\n  el.innerHTML = `\n      <svg width=\"46\" height=\"15\" style=\"left: -15.5px; position: absolute; top: 0; filter: drop-shadow(rgba(0, 0, 0, 0.4) 0px 1px 1.1px);\">\n        <g transform=\"translate(2 3)\">\n          <path fill-rule=\"evenodd\" d=\"M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z\" style=\"stroke-width: 2px; stroke: white;\"></path>\n          <path fill-rule=\"evenodd\" d=\"M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z\"></path>\n        </g>\n      </svg>`;\n  doc.body.appendChild(el);\n};\n\n// src/number-input.connect.ts\nfunction connect(service, normalize) {\n  const { state, send, prop, scope, computed } = service;\n  const focused = state.hasTag(\"focus\");\n  const disabled = computed(\"isDisabled\");\n  const readOnly = prop(\"readOnly\");\n  const empty = computed(\"isValueEmpty\");\n  const invalid = computed(\"isOutOfRange\") || !!prop(\"invalid\");\n  const isIncrementDisabled = disabled || !computed(\"canIncrement\") || readOnly;\n  const isDecrementDisabled = disabled || !computed(\"canDecrement\") || readOnly;\n  const translations = prop(\"translations\");\n  return {\n    focused,\n    invalid,\n    empty,\n    value: computed(\"formattedValue\"),\n    valueAsNumber: computed(\"valueAsNumber\"),\n    setValue(value) {\n      send({ type: \"VALUE.SET\", value });\n    },\n    clearValue() {\n      send({ type: \"VALUE.CLEAR\" });\n    },\n    increment() {\n      send({ type: \"VALUE.INCREMENT\" });\n    },\n    decrement() {\n      send({ type: \"VALUE.DECREMENT\" });\n    },\n    setToMax() {\n      send({ type: \"VALUE.SET\", value: prop(\"max\") });\n    },\n    setToMin() {\n      send({ type: \"VALUE.SET\", value: prop(\"min\") });\n    },\n    focus() {\n      getInputEl(scope)?.focus();\n    },\n    getRootProps() {\n      return normalize.element({\n        id: getRootId(scope),\n        ...parts.root.attrs,\n        dir: prop(\"dir\"),\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(disabled),\n        \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(focused),\n        \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(invalid)\n      });\n    },\n    getLabelProps() {\n      return normalize.label({\n        ...parts.label.attrs,\n        dir: prop(\"dir\"),\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(disabled),\n        \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(focused),\n        \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(invalid),\n        id: getLabelId(scope),\n        htmlFor: getInputId(scope)\n      });\n    },\n    getControlProps() {\n      return normalize.element({\n        ...parts.control.attrs,\n        dir: prop(\"dir\"),\n        role: \"group\",\n        \"aria-disabled\": disabled,\n        \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(focused),\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(disabled),\n        \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(invalid),\n        \"aria-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.ariaAttr)(invalid)\n      });\n    },\n    getValueTextProps() {\n      return normalize.element({\n        ...parts.valueText.attrs,\n        dir: prop(\"dir\"),\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(disabled),\n        \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(invalid),\n        \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(focused)\n      });\n    },\n    getInputProps() {\n      return normalize.input({\n        ...parts.input.attrs,\n        dir: prop(\"dir\"),\n        name: prop(\"name\"),\n        form: prop(\"form\"),\n        id: getInputId(scope),\n        role: \"spinbutton\",\n        defaultValue: computed(\"formattedValue\"),\n        pattern: prop(\"pattern\"),\n        inputMode: prop(\"inputMode\"),\n        \"aria-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.ariaAttr)(invalid),\n        \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(invalid),\n        disabled,\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(disabled),\n        readOnly,\n        required: prop(\"required\"),\n        autoComplete: \"off\",\n        autoCorrect: \"off\",\n        spellCheck: \"false\",\n        type: \"text\",\n        \"aria-roledescription\": \"numberfield\",\n        \"aria-valuemin\": prop(\"min\"),\n        \"aria-valuemax\": prop(\"max\"),\n        \"aria-valuenow\": Number.isNaN(computed(\"valueAsNumber\")) ? void 0 : computed(\"valueAsNumber\"),\n        \"aria-valuetext\": computed(\"valueText\"),\n        onFocus() {\n          send({ type: \"INPUT.FOCUS\" });\n        },\n        onBlur() {\n          send({ type: \"INPUT.BLUR\" });\n        },\n        onInput(event) {\n          send({ type: \"INPUT.CHANGE\", target: event.currentTarget, hint: \"set\" });\n        },\n        onBeforeInput(event) {\n          try {\n            const { selectionStart, selectionEnd, value } = event.currentTarget;\n            const nextValue = value.slice(0, selectionStart) + (event.data ?? \"\") + value.slice(selectionEnd);\n            const isValid = computed(\"parser\").isValidPartialNumber(nextValue);\n            if (!isValid) {\n              event.preventDefault();\n            }\n          } catch {\n          }\n        },\n        onKeyDown(event) {\n          if (event.defaultPrevented) return;\n          if (readOnly) return;\n          if ((0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.isComposingEvent)(event)) return;\n          const step = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.getEventStep)(event) * prop(\"step\");\n          const keyMap = {\n            ArrowUp() {\n              send({ type: \"INPUT.ARROW_UP\", step });\n              event.preventDefault();\n            },\n            ArrowDown() {\n              send({ type: \"INPUT.ARROW_DOWN\", step });\n              event.preventDefault();\n            },\n            Home() {\n              if ((0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.isModifierKey)(event)) return;\n              send({ type: \"INPUT.HOME\" });\n              event.preventDefault();\n            },\n            End() {\n              if ((0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.isModifierKey)(event)) return;\n              send({ type: \"INPUT.END\" });\n              event.preventDefault();\n            },\n            Enter() {\n              send({ type: \"INPUT.ENTER\" });\n            }\n          };\n          const exec = keyMap[event.key];\n          exec?.(event);\n        }\n      });\n    },\n    getDecrementTriggerProps() {\n      return normalize.button({\n        ...parts.decrementTrigger.attrs,\n        dir: prop(\"dir\"),\n        id: getDecrementTriggerId(scope),\n        disabled: isDecrementDisabled,\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isDecrementDisabled),\n        \"aria-label\": translations.decrementLabel,\n        type: \"button\",\n        tabIndex: -1,\n        \"aria-controls\": getInputId(scope),\n        onPointerDown(event) {\n          if (isDecrementDisabled) return;\n          if (!(0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.isLeftClick)(event)) return;\n          send({ type: \"TRIGGER.PRESS_DOWN\", hint: \"decrement\", pointerType: event.pointerType });\n          if (event.pointerType === \"mouse\") {\n            event.preventDefault();\n          }\n          if (event.pointerType === \"touch\") {\n            event.currentTarget?.focus({ preventScroll: true });\n          }\n        },\n        onPointerUp(event) {\n          send({ type: \"TRIGGER.PRESS_UP\", hint: \"decrement\", pointerType: event.pointerType });\n        },\n        onPointerLeave() {\n          if (isDecrementDisabled) return;\n          send({ type: \"TRIGGER.PRESS_UP\", hint: \"decrement\" });\n        }\n      });\n    },\n    getIncrementTriggerProps() {\n      return normalize.button({\n        ...parts.incrementTrigger.attrs,\n        dir: prop(\"dir\"),\n        id: getIncrementTriggerId(scope),\n        disabled: isIncrementDisabled,\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isIncrementDisabled),\n        \"aria-label\": translations.incrementLabel,\n        type: \"button\",\n        tabIndex: -1,\n        \"aria-controls\": getInputId(scope),\n        onPointerDown(event) {\n          if (isIncrementDisabled || !(0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.isLeftClick)(event)) return;\n          send({ type: \"TRIGGER.PRESS_DOWN\", hint: \"increment\", pointerType: event.pointerType });\n          if (event.pointerType === \"mouse\") {\n            event.preventDefault();\n          }\n          if (event.pointerType === \"touch\") {\n            event.currentTarget?.focus({ preventScroll: true });\n          }\n        },\n        onPointerUp(event) {\n          send({ type: \"TRIGGER.PRESS_UP\", hint: \"increment\", pointerType: event.pointerType });\n        },\n        onPointerLeave(event) {\n          send({ type: \"TRIGGER.PRESS_UP\", hint: \"increment\", pointerType: event.pointerType });\n        }\n      });\n    },\n    getScrubberProps() {\n      return normalize.element({\n        ...parts.scrubber.attrs,\n        dir: prop(\"dir\"),\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(disabled),\n        id: getScrubberId(scope),\n        role: \"presentation\",\n        onMouseDown(event) {\n          if (disabled) return;\n          if (!(0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.isLeftClick)(event)) return;\n          const point = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.getEventPoint)(event);\n          const win = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.getWindow)(event.currentTarget);\n          const dpr = win.devicePixelRatio;\n          point.x = point.x - (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.roundToDpr)(7.5, dpr);\n          point.y = point.y - (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.roundToDpr)(7.5, dpr);\n          send({ type: \"SCRUBBER.PRESS_DOWN\", point });\n          event.preventDefault();\n        },\n        style: {\n          cursor: disabled ? void 0 : \"ew-resize\"\n        }\n      });\n    }\n  };\n}\n\n// src/cursor.ts\nfunction recordCursor(inputEl) {\n  if (!inputEl || inputEl.ownerDocument.activeElement !== inputEl) return;\n  try {\n    const { selectionStart: start, selectionEnd: end, value } = inputEl;\n    const beforeTxt = value.substring(0, start);\n    const afterTxt = value.substring(end);\n    return {\n      start,\n      end,\n      value,\n      beforeTxt,\n      afterTxt\n    };\n  } catch {\n  }\n}\nfunction restoreCursor(inputEl, selection) {\n  if (!inputEl || inputEl.ownerDocument.activeElement !== inputEl) return;\n  if (!selection) {\n    inputEl.setSelectionRange(inputEl.value.length, inputEl.value.length);\n    return;\n  }\n  try {\n    const { value } = inputEl;\n    const { beforeTxt = \"\", afterTxt = \"\", start } = selection;\n    let startPos = value.length;\n    if (value.endsWith(afterTxt)) {\n      startPos = value.length - afterTxt.length;\n    } else if (value.startsWith(beforeTxt)) {\n      startPos = beforeTxt.length;\n    } else if (start != null) {\n      const beforeLastChar = beforeTxt[start - 1];\n      const newIndex = value.indexOf(beforeLastChar, start - 1);\n      if (newIndex !== -1) {\n        startPos = newIndex + 1;\n      }\n    }\n    inputEl.setSelectionRange(startPos, startPos);\n  } catch {\n  }\n}\nvar createFormatter = (locale, options = {}) => {\n  return new Intl.NumberFormat(locale, options);\n};\nvar createParser = (locale, options = {}) => {\n  return new _internationalized_number__WEBPACK_IMPORTED_MODULE_3__.NumberParser(locale, options);\n};\nvar parseValue = (value, params) => {\n  const { prop, computed } = params;\n  if (!prop(\"formatOptions\")) return parseFloat(value);\n  return computed(\"parser\").parse(String(value));\n};\nvar formatValue = (value, params) => {\n  const { prop, computed } = params;\n  if (Number.isNaN(value)) return \"\";\n  if (!prop(\"formatOptions\")) return value.toString();\n  return computed(\"formatter\").format(value);\n};\nvar getDefaultStep = (step, formatOptions) => {\n  let defaultStep = step !== void 0 && !Number.isNaN(step) ? step : 1;\n  if (formatOptions?.style === \"percent\" && (step === void 0 || Number.isNaN(step))) {\n    defaultStep = 0.01;\n  }\n  return defaultStep;\n};\n\n// src/number-input.machine.ts\nvar { choose, guards, createMachine } = (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_4__.setup)();\nvar { not, and } = guards;\nvar machine = createMachine({\n  props({ props: props2 }) {\n    const step = getDefaultStep(props2.step, props2.formatOptions);\n    return {\n      dir: \"ltr\",\n      locale: \"en-US\",\n      focusInputOnChange: true,\n      clampValueOnBlur: !props2.allowOverflow,\n      allowOverflow: false,\n      inputMode: \"decimal\",\n      pattern: \"-?[0-9]*(.[0-9]+)?\",\n      defaultValue: \"\",\n      step,\n      min: Number.MIN_SAFE_INTEGER,\n      max: Number.MAX_SAFE_INTEGER,\n      spinOnPress: true,\n      ...props2,\n      translations: {\n        incrementLabel: \"increment value\",\n        decrementLabel: \"decrease value\",\n        ...props2.translations\n      }\n    };\n  },\n  initialState() {\n    return \"idle\";\n  },\n  context({ prop, bindable, getComputed }) {\n    return {\n      value: bindable(() => ({\n        defaultValue: prop(\"defaultValue\"),\n        value: prop(\"value\"),\n        onChange(value) {\n          const computed = getComputed();\n          const valueAsNumber = parseValue(value, { computed, prop });\n          prop(\"onValueChange\")?.({ value, valueAsNumber });\n        }\n      })),\n      hint: bindable(() => ({ defaultValue: null })),\n      scrubberCursorPoint: bindable(() => ({\n        defaultValue: null,\n        hash(value) {\n          return value ? `x:${value.x}, y:${value.y}` : \"\";\n        }\n      })),\n      fieldsetDisabled: bindable(() => ({ defaultValue: false }))\n    };\n  },\n  computed: {\n    isRtl: ({ prop }) => prop(\"dir\") === \"rtl\",\n    valueAsNumber: ({ context, computed, prop }) => parseValue(context.get(\"value\"), { computed, prop }),\n    formattedValue: ({ computed, prop }) => formatValue(computed(\"valueAsNumber\"), { computed, prop }),\n    isAtMin: ({ computed, prop }) => (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.isValueAtMin)(computed(\"valueAsNumber\"), prop(\"min\")),\n    isAtMax: ({ computed, prop }) => (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.isValueAtMax)(computed(\"valueAsNumber\"), prop(\"max\")),\n    isOutOfRange: ({ computed, prop }) => !(0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.isValueWithinRange)(computed(\"valueAsNumber\"), prop(\"min\"), prop(\"max\")),\n    isValueEmpty: ({ context }) => context.get(\"value\") === \"\",\n    isDisabled: ({ prop, context }) => !!prop(\"disabled\") || context.get(\"fieldsetDisabled\"),\n    canIncrement: ({ prop, computed }) => prop(\"allowOverflow\") || !computed(\"isAtMax\"),\n    canDecrement: ({ prop, computed }) => prop(\"allowOverflow\") || !computed(\"isAtMin\"),\n    valueText: ({ prop, context }) => prop(\"translations\").valueText?.(context.get(\"value\")),\n    formatter: (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_4__.memo)(\n      ({ prop }) => [prop(\"locale\"), prop(\"formatOptions\")],\n      (locale, formatOptions) => createFormatter(locale, formatOptions)\n    ),\n    parser: (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_4__.memo)(\n      ({ prop }) => [prop(\"locale\"), prop(\"formatOptions\")],\n      (locale, formatOptions) => createParser(locale, formatOptions)\n    )\n  },\n  watch({ track, action, context, computed, prop }) {\n    track([() => context.get(\"value\"), () => prop(\"locale\")], () => {\n      action([\"syncInputElement\"]);\n    });\n    track([() => computed(\"isOutOfRange\")], () => {\n      action([\"invokeOnInvalid\"]);\n    });\n    track([() => context.hash(\"scrubberCursorPoint\")], () => {\n      action([\"setVirtualCursorPosition\"]);\n    });\n  },\n  effects: [\"trackFormControl\"],\n  on: {\n    \"VALUE.SET\": {\n      actions: [\"setRawValue\"]\n    },\n    \"VALUE.CLEAR\": {\n      actions: [\"clearValue\"]\n    },\n    \"VALUE.INCREMENT\": {\n      actions: [\"increment\"]\n    },\n    \"VALUE.DECREMENT\": {\n      actions: [\"decrement\"]\n    }\n  },\n  states: {\n    idle: {\n      on: {\n        \"TRIGGER.PRESS_DOWN\": [\n          { guard: \"isTouchPointer\", target: \"before:spin\", actions: [\"setHint\"] },\n          {\n            target: \"before:spin\",\n            actions: [\"focusInput\", \"invokeOnFocus\", \"setHint\"]\n          }\n        ],\n        \"SCRUBBER.PRESS_DOWN\": {\n          target: \"scrubbing\",\n          actions: [\"focusInput\", \"invokeOnFocus\", \"setHint\", \"setCursorPoint\"]\n        },\n        \"INPUT.FOCUS\": {\n          target: \"focused\",\n          actions: [\"focusInput\", \"invokeOnFocus\"]\n        }\n      }\n    },\n    focused: {\n      tags: [\"focus\"],\n      effects: [\"attachWheelListener\"],\n      on: {\n        \"TRIGGER.PRESS_DOWN\": [\n          { guard: \"isTouchPointer\", target: \"before:spin\", actions: [\"setHint\"] },\n          { target: \"before:spin\", actions: [\"focusInput\", \"setHint\"] }\n        ],\n        \"SCRUBBER.PRESS_DOWN\": {\n          target: \"scrubbing\",\n          actions: [\"focusInput\", \"setHint\", \"setCursorPoint\"]\n        },\n        \"INPUT.ARROW_UP\": {\n          actions: [\"increment\"]\n        },\n        \"INPUT.ARROW_DOWN\": {\n          actions: [\"decrement\"]\n        },\n        \"INPUT.HOME\": {\n          actions: [\"decrementToMin\"]\n        },\n        \"INPUT.END\": {\n          actions: [\"incrementToMax\"]\n        },\n        \"INPUT.CHANGE\": {\n          actions: [\"setValue\", \"setHint\"]\n        },\n        \"INPUT.BLUR\": [\n          {\n            guard: and(\"clampValueOnBlur\", not(\"isInRange\")),\n            target: \"idle\",\n            actions: [\"setClampedValue\", \"clearHint\", \"invokeOnBlur\"]\n          },\n          {\n            guard: not(\"isInRange\"),\n            target: \"idle\",\n            actions: [\"setFormattedValue\", \"clearHint\", \"invokeOnBlur\", \"invokeOnInvalid\"]\n          },\n          {\n            target: \"idle\",\n            actions: [\"setFormattedValue\", \"clearHint\", \"invokeOnBlur\"]\n          }\n        ],\n        \"INPUT.ENTER\": {\n          actions: [\"setFormattedValue\", \"clearHint\", \"invokeOnBlur\"]\n        }\n      }\n    },\n    \"before:spin\": {\n      tags: [\"focus\"],\n      effects: [\"trackButtonDisabled\", \"waitForChangeDelay\"],\n      entry: choose([\n        { guard: \"isIncrementHint\", actions: [\"increment\"] },\n        { guard: \"isDecrementHint\", actions: [\"decrement\"] }\n      ]),\n      on: {\n        CHANGE_DELAY: {\n          target: \"spinning\",\n          guard: and(\"isInRange\", \"spinOnPress\")\n        },\n        \"TRIGGER.PRESS_UP\": [\n          { guard: \"isTouchPointer\", target: \"focused\", actions: [\"clearHint\"] },\n          { target: \"focused\", actions: [\"focusInput\", \"clearHint\"] }\n        ]\n      }\n    },\n    spinning: {\n      tags: [\"focus\"],\n      effects: [\"trackButtonDisabled\", \"spinValue\"],\n      on: {\n        SPIN: [\n          {\n            guard: \"isIncrementHint\",\n            actions: [\"increment\"]\n          },\n          {\n            guard: \"isDecrementHint\",\n            actions: [\"decrement\"]\n          }\n        ],\n        \"TRIGGER.PRESS_UP\": {\n          target: \"focused\",\n          actions: [\"focusInput\", \"clearHint\"]\n        }\n      }\n    },\n    scrubbing: {\n      tags: [\"focus\"],\n      effects: [\"activatePointerLock\", \"trackMousemove\", \"setupVirtualCursor\", \"preventTextSelection\"],\n      on: {\n        \"SCRUBBER.POINTER_UP\": {\n          target: \"focused\",\n          actions: [\"focusInput\", \"clearCursorPoint\"]\n        },\n        \"SCRUBBER.POINTER_MOVE\": [\n          {\n            guard: \"isIncrementHint\",\n            actions: [\"increment\", \"setCursorPoint\"]\n          },\n          {\n            guard: \"isDecrementHint\",\n            actions: [\"decrement\", \"setCursorPoint\"]\n          }\n        ]\n      }\n    }\n  },\n  implementations: {\n    guards: {\n      clampValueOnBlur: ({ prop }) => prop(\"clampValueOnBlur\"),\n      spinOnPress: ({ prop }) => !!prop(\"spinOnPress\"),\n      isInRange: ({ computed }) => !computed(\"isOutOfRange\"),\n      isDecrementHint: ({ context, event }) => (event.hint ?? context.get(\"hint\")) === \"decrement\",\n      isIncrementHint: ({ context, event }) => (event.hint ?? context.get(\"hint\")) === \"increment\",\n      isTouchPointer: ({ event }) => event.pointerType === \"touch\"\n    },\n    effects: {\n      waitForChangeDelay({ send }) {\n        const id = setTimeout(() => {\n          send({ type: \"CHANGE_DELAY\" });\n        }, 300);\n        return () => clearTimeout(id);\n      },\n      spinValue({ send }) {\n        const id = setInterval(() => {\n          send({ type: \"SPIN\" });\n        }, 50);\n        return () => clearInterval(id);\n      },\n      trackFormControl({ context, scope }) {\n        const inputEl = getInputEl(scope);\n        return (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.trackFormControl)(inputEl, {\n          onFieldsetDisabledChange(disabled) {\n            context.set(\"fieldsetDisabled\", disabled);\n          },\n          onFormReset() {\n            context.set(\"value\", context.initial(\"value\"));\n          }\n        });\n      },\n      setupVirtualCursor({ context, scope }) {\n        const point = context.get(\"scrubberCursorPoint\");\n        return setupVirtualCursor(scope, point);\n      },\n      preventTextSelection({ scope }) {\n        return preventTextSelection(scope);\n      },\n      trackButtonDisabled({ context, scope, send }) {\n        const hint = context.get(\"hint\");\n        const btn = getPressedTriggerEl(scope, hint);\n        return (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.observeAttributes)(btn, {\n          attributes: [\"disabled\"],\n          callback() {\n            send({ type: \"TRIGGER.PRESS_UP\", src: \"attr\" });\n          }\n        });\n      },\n      attachWheelListener({ scope, send, prop }) {\n        const inputEl = getInputEl(scope);\n        if (!inputEl || !scope.isActiveElement(inputEl) || !prop(\"allowMouseWheel\")) return;\n        function onWheel(event) {\n          event.preventDefault();\n          const dir = Math.sign(event.deltaY) * -1;\n          if (dir === 1) {\n            send({ type: \"VALUE.INCREMENT\" });\n          } else if (dir === -1) {\n            send({ type: \"VALUE.DECREMENT\" });\n          }\n        }\n        return (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.addDomEvent)(inputEl, \"wheel\", onWheel, { passive: false });\n      },\n      activatePointerLock({ scope }) {\n        if ((0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.isSafari)()) return;\n        return (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.requestPointerLock)(scope.getDoc());\n      },\n      trackMousemove({ scope, send, context, computed }) {\n        const doc = scope.getDoc();\n        function onMousemove(event) {\n          const point = context.get(\"scrubberCursorPoint\");\n          const isRtl = computed(\"isRtl\");\n          const value = getMousemoveValue(scope, { point, isRtl, event });\n          if (!value.hint) return;\n          send({\n            type: \"SCRUBBER.POINTER_MOVE\",\n            hint: value.hint,\n            point: value.point\n          });\n        }\n        function onMouseup() {\n          send({ type: \"SCRUBBER.POINTER_UP\" });\n        }\n        return (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.callAll)((0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.addDomEvent)(doc, \"mousemove\", onMousemove, false), (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.addDomEvent)(doc, \"mouseup\", onMouseup, false));\n      }\n    },\n    actions: {\n      focusInput({ scope, prop }) {\n        if (!prop(\"focusInputOnChange\")) return;\n        const inputEl = getInputEl(scope);\n        if (scope.isActiveElement(inputEl)) return;\n        (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => inputEl?.focus({ preventScroll: true }));\n      },\n      increment({ context, event, prop, computed }) {\n        let nextValue = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.incrementValue)(computed(\"valueAsNumber\"), event.step ?? prop(\"step\"));\n        if (!prop(\"allowOverflow\")) nextValue = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.clampValue)(nextValue, prop(\"min\"), prop(\"max\"));\n        context.set(\"value\", formatValue(nextValue, { computed, prop }));\n      },\n      decrement({ context, event, prop, computed }) {\n        let nextValue = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.decrementValue)(computed(\"valueAsNumber\"), event.step ?? prop(\"step\"));\n        if (!prop(\"allowOverflow\")) nextValue = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.clampValue)(nextValue, prop(\"min\"), prop(\"max\"));\n        context.set(\"value\", formatValue(nextValue, { computed, prop }));\n      },\n      setClampedValue({ context, prop, computed }) {\n        const nextValue = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.clampValue)(computed(\"valueAsNumber\"), prop(\"min\"), prop(\"max\"));\n        context.set(\"value\", formatValue(nextValue, { computed, prop }));\n      },\n      setRawValue({ context, event, prop, computed }) {\n        let nextValue = parseValue(event.value, { computed, prop });\n        if (!prop(\"allowOverflow\")) nextValue = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.clampValue)(nextValue, prop(\"min\"), prop(\"max\"));\n        context.set(\"value\", formatValue(nextValue, { computed, prop }));\n      },\n      setValue({ context, event }) {\n        const value = event.target?.value ?? event.value;\n        context.set(\"value\", value);\n      },\n      clearValue({ context }) {\n        context.set(\"value\", \"\");\n      },\n      incrementToMax({ context, prop, computed }) {\n        const value = formatValue(prop(\"max\"), { computed, prop });\n        context.set(\"value\", value);\n      },\n      decrementToMin({ context, prop, computed }) {\n        const value = formatValue(prop(\"min\"), { computed, prop });\n        context.set(\"value\", value);\n      },\n      setHint({ context, event }) {\n        context.set(\"hint\", event.hint);\n      },\n      clearHint({ context }) {\n        context.set(\"hint\", null);\n      },\n      invokeOnFocus({ computed, prop }) {\n        prop(\"onFocusChange\")?.({\n          focused: true,\n          value: computed(\"formattedValue\"),\n          valueAsNumber: computed(\"valueAsNumber\")\n        });\n      },\n      invokeOnBlur({ computed, prop }) {\n        prop(\"onFocusChange\")?.({\n          focused: false,\n          value: computed(\"formattedValue\"),\n          valueAsNumber: computed(\"valueAsNumber\")\n        });\n      },\n      invokeOnInvalid({ computed, prop, event }) {\n        if (event.type === \"INPUT.CHANGE\") return;\n        const reason = computed(\"valueAsNumber\") > prop(\"max\") ? \"rangeOverflow\" : \"rangeUnderflow\";\n        prop(\"onValueInvalid\")?.({\n          reason,\n          value: computed(\"formattedValue\"),\n          valueAsNumber: computed(\"valueAsNumber\")\n        });\n      },\n      syncInputElement({ context, event, computed, scope }) {\n        const value = event.type.endsWith(\"CHANGE\") ? context.get(\"value\") : computed(\"formattedValue\");\n        const inputEl = getInputEl(scope);\n        const sel = recordCursor(inputEl);\n        (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.setElementValue)(inputEl, value);\n          restoreCursor(inputEl, sel);\n        });\n      },\n      setFormattedValue({ context, computed }) {\n        context.set(\"value\", computed(\"formattedValue\"));\n      },\n      setCursorPoint({ context, event }) {\n        context.set(\"scrubberCursorPoint\", event.point);\n      },\n      clearCursorPoint({ context }) {\n        context.set(\"scrubberCursorPoint\", null);\n      },\n      setVirtualCursorPosition({ context, scope }) {\n        const cursorEl = getCursorEl(scope);\n        const point = context.get(\"scrubberCursorPoint\");\n        if (!cursorEl || !point) return;\n        cursorEl.style.transform = `translate3d(${point.x}px, ${point.y}px, 0px)`;\n      }\n    }\n  }\n});\nvar props = (0,_zag_js_types__WEBPACK_IMPORTED_MODULE_5__.createProps)()([\n  \"allowMouseWheel\",\n  \"allowOverflow\",\n  \"clampValueOnBlur\",\n  \"dir\",\n  \"disabled\",\n  \"focusInputOnChange\",\n  \"form\",\n  \"formatOptions\",\n  \"getRootNode\",\n  \"id\",\n  \"ids\",\n  \"inputMode\",\n  \"invalid\",\n  \"locale\",\n  \"max\",\n  \"min\",\n  \"name\",\n  \"onFocusChange\",\n  \"onValueChange\",\n  \"onValueInvalid\",\n  \"pattern\",\n  \"required\",\n  \"readOnly\",\n  \"spinOnPress\",\n  \"step\",\n  \"translations\",\n  \"value\",\n  \"defaultValue\"\n]);\nvar splitProps = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.createSplitProps)(props);\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0B6YWctanMrbnVtYmVyLWlucHV0QDEuMjEuNy9ub2RlX21vZHVsZXMvQHphZy1qcy9udW1iZXItaW5wdXQvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBZ0Q7QUFDZ047QUFDeEY7QUFDN0g7QUFDYztBQUNiOztBQUU1QztBQUNBLGNBQWMsOERBQWE7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsT0FBTztBQUNqRSw0REFBNEQsT0FBTztBQUNuRSxrRkFBa0YsT0FBTztBQUN6RixrRkFBa0YsT0FBTztBQUN6RixrRUFBa0UsT0FBTztBQUN6RSwyQ0FBMkMsT0FBTztBQUNsRCw0REFBNEQsT0FBTztBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLDJEQUFRO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLHNCQUFzQjtBQUNoQztBQUNBLFlBQVkseURBQVU7QUFDdEIsWUFBWSx5REFBVTtBQUN0QjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxlQUFlLHlEQUFVO0FBQ3pCLGVBQWUsbURBQUk7QUFDbkIsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwwREFBVztBQUN2QixzQ0FBc0MsUUFBUSxNQUFNLFFBQVE7QUFDNUQ7QUFDQSxHQUFHO0FBQ0g7QUFDQSx3REFBd0Qsb0JBQW9CLFFBQVEsc0RBQXNE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QUFlO0FBQ3pCO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCwwQkFBMEIsbUJBQW1CO0FBQzdDO0FBQ0EsT0FBTztBQUNQLHVCQUF1QixnQkFBZ0I7QUFDdkM7QUFDQSxPQUFPO0FBQ1AseUJBQXlCLFNBQVM7QUFDbEM7QUFDQSxPQUFPO0FBQ1AsaUNBQWlDLGdCQUFnQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQSxrREFBa0QsUUFBUSxNQUFNLFFBQVE7QUFDeEU7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELFlBQVksMERBQVc7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiwrREFBZ0I7O0FBRXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHV0dXJpL3V0dXJpLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AemFnLWpzK251bWJlci1pbnB1dEAxLjIxLjcvbm9kZV9tb2R1bGVzL0B6YWctanMvbnVtYmVyLWlucHV0L2Rpc3QvaW5kZXgubWpzP2EwMzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQW5hdG9teSB9IGZyb20gJ0B6YWctanMvYW5hdG9teSc7XG5pbXBvcnQgeyByYWYsIHNldEVsZW1lbnRWYWx1ZSwgYWRkRG9tRXZlbnQsIGlzU2FmYXJpLCByZXF1ZXN0UG9pbnRlckxvY2ssIG9ic2VydmVBdHRyaWJ1dGVzLCB0cmFja0Zvcm1Db250cm9sLCBNQVhfWl9JTkRFWCwgZGF0YUF0dHIsIGlzTGVmdENsaWNrLCBnZXRFdmVudFBvaW50LCBnZXRXaW5kb3csIGFyaWFBdHRyLCBpc0NvbXBvc2luZ0V2ZW50LCBnZXRFdmVudFN0ZXAsIGlzTW9kaWZpZXJLZXkgfSBmcm9tICdAemFnLWpzL2RvbS1xdWVyeSc7XG5pbXBvcnQgeyBpc1ZhbHVlQXRNYXgsIGlzVmFsdWVBdE1pbiwgY2xhbXBWYWx1ZSwgZGVjcmVtZW50VmFsdWUsIGluY3JlbWVudFZhbHVlLCBjYWxsQWxsLCBpc1ZhbHVlV2l0aGluUmFuZ2UsIGNyZWF0ZVNwbGl0UHJvcHMsIHJvdW5kVG9EcHIsIHdyYXAgfSBmcm9tICdAemFnLWpzL3V0aWxzJztcbmltcG9ydCB7IHNldHVwLCBtZW1vIH0gZnJvbSAnQHphZy1qcy9jb3JlJztcbmltcG9ydCB7IE51bWJlclBhcnNlciB9IGZyb20gJ0BpbnRlcm5hdGlvbmFsaXplZC9udW1iZXInO1xuaW1wb3J0IHsgY3JlYXRlUHJvcHMgfSBmcm9tICdAemFnLWpzL3R5cGVzJztcblxuLy8gc3JjL251bWJlci1pbnB1dC5hbmF0b215LnRzXG52YXIgYW5hdG9teSA9IGNyZWF0ZUFuYXRvbXkoXCJudW1iZXJJbnB1dFwiKS5wYXJ0cyhcbiAgXCJyb290XCIsXG4gIFwibGFiZWxcIixcbiAgXCJpbnB1dFwiLFxuICBcImNvbnRyb2xcIixcbiAgXCJ2YWx1ZVRleHRcIixcbiAgXCJpbmNyZW1lbnRUcmlnZ2VyXCIsXG4gIFwiZGVjcmVtZW50VHJpZ2dlclwiLFxuICBcInNjcnViYmVyXCJcbik7XG52YXIgcGFydHMgPSBhbmF0b215LmJ1aWxkKCk7XG52YXIgZ2V0Um9vdElkID0gKGN0eCkgPT4gY3R4Lmlkcz8ucm9vdCA/PyBgbnVtYmVyLWlucHV0OiR7Y3R4LmlkfWA7XG52YXIgZ2V0SW5wdXRJZCA9IChjdHgpID0+IGN0eC5pZHM/LmlucHV0ID8/IGBudW1iZXItaW5wdXQ6JHtjdHguaWR9OmlucHV0YDtcbnZhciBnZXRJbmNyZW1lbnRUcmlnZ2VySWQgPSAoY3R4KSA9PiBjdHguaWRzPy5pbmNyZW1lbnRUcmlnZ2VyID8/IGBudW1iZXItaW5wdXQ6JHtjdHguaWR9OmluY2A7XG52YXIgZ2V0RGVjcmVtZW50VHJpZ2dlcklkID0gKGN0eCkgPT4gY3R4Lmlkcz8uZGVjcmVtZW50VHJpZ2dlciA/PyBgbnVtYmVyLWlucHV0OiR7Y3R4LmlkfTpkZWNgO1xudmFyIGdldFNjcnViYmVySWQgPSAoY3R4KSA9PiBjdHguaWRzPy5zY3J1YmJlciA/PyBgbnVtYmVyLWlucHV0OiR7Y3R4LmlkfTpzY3J1YmJlcmA7XG52YXIgZ2V0Q3Vyc29ySWQgPSAoY3R4KSA9PiBgbnVtYmVyLWlucHV0OiR7Y3R4LmlkfTpjdXJzb3JgO1xudmFyIGdldExhYmVsSWQgPSAoY3R4KSA9PiBjdHguaWRzPy5sYWJlbCA/PyBgbnVtYmVyLWlucHV0OiR7Y3R4LmlkfTpsYWJlbGA7XG52YXIgZ2V0SW5wdXRFbCA9IChjdHgpID0+IGN0eC5nZXRCeUlkKGdldElucHV0SWQoY3R4KSk7XG52YXIgZ2V0SW5jcmVtZW50VHJpZ2dlckVsID0gKGN0eCkgPT4gY3R4LmdldEJ5SWQoZ2V0SW5jcmVtZW50VHJpZ2dlcklkKGN0eCkpO1xudmFyIGdldERlY3JlbWVudFRyaWdnZXJFbCA9IChjdHgpID0+IGN0eC5nZXRCeUlkKGdldERlY3JlbWVudFRyaWdnZXJJZChjdHgpKTtcbnZhciBnZXRDdXJzb3JFbCA9IChjdHgpID0+IGN0eC5nZXREb2MoKS5nZXRFbGVtZW50QnlJZChnZXRDdXJzb3JJZChjdHgpKTtcbnZhciBnZXRQcmVzc2VkVHJpZ2dlckVsID0gKGN0eCwgaGludCkgPT4ge1xuICBsZXQgYnRuRWwgPSBudWxsO1xuICBpZiAoaGludCA9PT0gXCJpbmNyZW1lbnRcIikge1xuICAgIGJ0bkVsID0gZ2V0SW5jcmVtZW50VHJpZ2dlckVsKGN0eCk7XG4gIH1cbiAgaWYgKGhpbnQgPT09IFwiZGVjcmVtZW50XCIpIHtcbiAgICBidG5FbCA9IGdldERlY3JlbWVudFRyaWdnZXJFbChjdHgpO1xuICB9XG4gIHJldHVybiBidG5FbDtcbn07XG52YXIgc2V0dXBWaXJ0dWFsQ3Vyc29yID0gKGN0eCwgcG9pbnQpID0+IHtcbiAgaWYgKGlzU2FmYXJpKCkpIHJldHVybjtcbiAgY3JlYXRlVmlydHVhbEN1cnNvcihjdHgsIHBvaW50KTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBnZXRDdXJzb3JFbChjdHgpPy5yZW1vdmUoKTtcbiAgfTtcbn07XG52YXIgcHJldmVudFRleHRTZWxlY3Rpb24gPSAoY3R4KSA9PiB7XG4gIGNvbnN0IGRvYyA9IGN0eC5nZXREb2MoKTtcbiAgY29uc3QgaHRtbCA9IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG4gIGNvbnN0IGJvZHkgPSBkb2MuYm9keTtcbiAgYm9keS5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJub25lXCI7XG4gIGh0bWwuc3R5bGUudXNlclNlbGVjdCA9IFwibm9uZVwiO1xuICBodG1sLnN0eWxlLmN1cnNvciA9IFwiZXctcmVzaXplXCI7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgYm9keS5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJcIjtcbiAgICBodG1sLnN0eWxlLnVzZXJTZWxlY3QgPSBcIlwiO1xuICAgIGh0bWwuc3R5bGUuY3Vyc29yID0gXCJcIjtcbiAgICBpZiAoIWh0bWwuc3R5bGUubGVuZ3RoKSB7XG4gICAgICBodG1sLnJlbW92ZUF0dHJpYnV0ZShcInN0eWxlXCIpO1xuICAgIH1cbiAgICBpZiAoIWJvZHkuc3R5bGUubGVuZ3RoKSB7XG4gICAgICBib2R5LnJlbW92ZUF0dHJpYnV0ZShcInN0eWxlXCIpO1xuICAgIH1cbiAgfTtcbn07XG52YXIgZ2V0TW91c2Vtb3ZlVmFsdWUgPSAoY3R4LCBvcHRzKSA9PiB7XG4gIGNvbnN0IHsgcG9pbnQsIGlzUnRsLCBldmVudCB9ID0gb3B0cztcbiAgY29uc3Qgd2luID0gY3R4LmdldFdpbigpO1xuICBjb25zdCB4ID0gcm91bmRUb0RwcihldmVudC5tb3ZlbWVudFgsIHdpbi5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgY29uc3QgeSA9IHJvdW5kVG9EcHIoZXZlbnQubW92ZW1lbnRZLCB3aW4uZGV2aWNlUGl4ZWxSYXRpbyk7XG4gIGxldCBoaW50ID0geCA+IDAgPyBcImluY3JlbWVudFwiIDogeCA8IDAgPyBcImRlY3JlbWVudFwiIDogbnVsbDtcbiAgaWYgKGlzUnRsICYmIGhpbnQgPT09IFwiaW5jcmVtZW50XCIpIGhpbnQgPSBcImRlY3JlbWVudFwiO1xuICBpZiAoaXNSdGwgJiYgaGludCA9PT0gXCJkZWNyZW1lbnRcIikgaGludCA9IFwiaW5jcmVtZW50XCI7XG4gIGNvbnN0IG5ld1BvaW50ID0geyB4OiBwb2ludC54ICsgeCwgeTogcG9pbnQueSArIHkgfTtcbiAgY29uc3Qgd2lkdGggPSB3aW4uaW5uZXJXaWR0aDtcbiAgY29uc3QgaGFsZiA9IHJvdW5kVG9EcHIoNy41LCB3aW4uZGV2aWNlUGl4ZWxSYXRpbyk7XG4gIG5ld1BvaW50LnggPSB3cmFwKG5ld1BvaW50LnggKyBoYWxmLCB3aWR0aCkgLSBoYWxmO1xuICByZXR1cm4geyBoaW50LCBwb2ludDogbmV3UG9pbnQgfTtcbn07XG52YXIgY3JlYXRlVmlydHVhbEN1cnNvciA9IChjdHgsIHBvaW50KSA9PiB7XG4gIGNvbnN0IGRvYyA9IGN0eC5nZXREb2MoKTtcbiAgY29uc3QgZWwgPSBkb2MuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgZWwuY2xhc3NOYW1lID0gXCJzY3J1YmJlci0tY3Vyc29yXCI7XG4gIGVsLmlkID0gZ2V0Q3Vyc29ySWQoY3R4KTtcbiAgT2JqZWN0LmFzc2lnbihlbC5zdHlsZSwge1xuICAgIHdpZHRoOiBcIjE1cHhcIixcbiAgICBoZWlnaHQ6IFwiMTVweFwiLFxuICAgIHBvc2l0aW9uOiBcImZpeGVkXCIsXG4gICAgcG9pbnRlckV2ZW50czogXCJub25lXCIsXG4gICAgbGVmdDogXCIwcHhcIixcbiAgICB0b3A6IFwiMHB4XCIsXG4gICAgekluZGV4OiBNQVhfWl9JTkRFWCxcbiAgICB0cmFuc2Zvcm06IHBvaW50ID8gYHRyYW5zbGF0ZTNkKCR7cG9pbnQueH1weCwgJHtwb2ludC55fXB4LCAwcHgpYCA6IHZvaWQgMCxcbiAgICB3aWxsQ2hhbmdlOiBcInRyYW5zZm9ybVwiXG4gIH0pO1xuICBlbC5pbm5lckhUTUwgPSBgXG4gICAgICA8c3ZnIHdpZHRoPVwiNDZcIiBoZWlnaHQ9XCIxNVwiIHN0eWxlPVwibGVmdDogLTE1LjVweDsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDA7IGZpbHRlcjogZHJvcC1zaGFkb3cocmdiYSgwLCAwLCAwLCAwLjQpIDBweCAxcHggMS4xcHgpO1wiPlxuICAgICAgICA8ZyB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoMiAzKVwiPlxuICAgICAgICAgIDxwYXRoIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBkPVwiTSAxNSA0LjVMIDE1IDJMIDExLjUgNS41TCAxNSA5TCAxNSA2LjVMIDMxIDYuNUwgMzEgOUwgMzQuNSA1LjVMIDMxIDJMIDMxIDQuNVpcIiBzdHlsZT1cInN0cm9rZS13aWR0aDogMnB4OyBzdHJva2U6IHdoaXRlO1wiPjwvcGF0aD5cbiAgICAgICAgICA8cGF0aCBmaWxsLXJ1bGU9XCJldmVub2RkXCIgZD1cIk0gMTUgNC41TCAxNSAyTCAxMS41IDUuNUwgMTUgOUwgMTUgNi41TCAzMSA2LjVMIDMxIDlMIDM0LjUgNS41TCAzMSAyTCAzMSA0LjVaXCI+PC9wYXRoPlxuICAgICAgICA8L2c+XG4gICAgICA8L3N2Zz5gO1xuICBkb2MuYm9keS5hcHBlbmRDaGlsZChlbCk7XG59O1xuXG4vLyBzcmMvbnVtYmVyLWlucHV0LmNvbm5lY3QudHNcbmZ1bmN0aW9uIGNvbm5lY3Qoc2VydmljZSwgbm9ybWFsaXplKSB7XG4gIGNvbnN0IHsgc3RhdGUsIHNlbmQsIHByb3AsIHNjb3BlLCBjb21wdXRlZCB9ID0gc2VydmljZTtcbiAgY29uc3QgZm9jdXNlZCA9IHN0YXRlLmhhc1RhZyhcImZvY3VzXCIpO1xuICBjb25zdCBkaXNhYmxlZCA9IGNvbXB1dGVkKFwiaXNEaXNhYmxlZFwiKTtcbiAgY29uc3QgcmVhZE9ubHkgPSBwcm9wKFwicmVhZE9ubHlcIik7XG4gIGNvbnN0IGVtcHR5ID0gY29tcHV0ZWQoXCJpc1ZhbHVlRW1wdHlcIik7XG4gIGNvbnN0IGludmFsaWQgPSBjb21wdXRlZChcImlzT3V0T2ZSYW5nZVwiKSB8fCAhIXByb3AoXCJpbnZhbGlkXCIpO1xuICBjb25zdCBpc0luY3JlbWVudERpc2FibGVkID0gZGlzYWJsZWQgfHwgIWNvbXB1dGVkKFwiY2FuSW5jcmVtZW50XCIpIHx8IHJlYWRPbmx5O1xuICBjb25zdCBpc0RlY3JlbWVudERpc2FibGVkID0gZGlzYWJsZWQgfHwgIWNvbXB1dGVkKFwiY2FuRGVjcmVtZW50XCIpIHx8IHJlYWRPbmx5O1xuICBjb25zdCB0cmFuc2xhdGlvbnMgPSBwcm9wKFwidHJhbnNsYXRpb25zXCIpO1xuICByZXR1cm4ge1xuICAgIGZvY3VzZWQsXG4gICAgaW52YWxpZCxcbiAgICBlbXB0eSxcbiAgICB2YWx1ZTogY29tcHV0ZWQoXCJmb3JtYXR0ZWRWYWx1ZVwiKSxcbiAgICB2YWx1ZUFzTnVtYmVyOiBjb21wdXRlZChcInZhbHVlQXNOdW1iZXJcIiksXG4gICAgc2V0VmFsdWUodmFsdWUpIHtcbiAgICAgIHNlbmQoeyB0eXBlOiBcIlZBTFVFLlNFVFwiLCB2YWx1ZSB9KTtcbiAgICB9LFxuICAgIGNsZWFyVmFsdWUoKSB7XG4gICAgICBzZW5kKHsgdHlwZTogXCJWQUxVRS5DTEVBUlwiIH0pO1xuICAgIH0sXG4gICAgaW5jcmVtZW50KCkge1xuICAgICAgc2VuZCh7IHR5cGU6IFwiVkFMVUUuSU5DUkVNRU5UXCIgfSk7XG4gICAgfSxcbiAgICBkZWNyZW1lbnQoKSB7XG4gICAgICBzZW5kKHsgdHlwZTogXCJWQUxVRS5ERUNSRU1FTlRcIiB9KTtcbiAgICB9LFxuICAgIHNldFRvTWF4KCkge1xuICAgICAgc2VuZCh7IHR5cGU6IFwiVkFMVUUuU0VUXCIsIHZhbHVlOiBwcm9wKFwibWF4XCIpIH0pO1xuICAgIH0sXG4gICAgc2V0VG9NaW4oKSB7XG4gICAgICBzZW5kKHsgdHlwZTogXCJWQUxVRS5TRVRcIiwgdmFsdWU6IHByb3AoXCJtaW5cIikgfSk7XG4gICAgfSxcbiAgICBmb2N1cygpIHtcbiAgICAgIGdldElucHV0RWwoc2NvcGUpPy5mb2N1cygpO1xuICAgIH0sXG4gICAgZ2V0Um9vdFByb3BzKCkge1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgICAgaWQ6IGdldFJvb3RJZChzY29wZSksXG4gICAgICAgIC4uLnBhcnRzLnJvb3QuYXR0cnMsXG4gICAgICAgIGRpcjogcHJvcChcImRpclwiKSxcbiAgICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGRhdGFBdHRyKGRpc2FibGVkKSxcbiAgICAgICAgXCJkYXRhLWZvY3VzXCI6IGRhdGFBdHRyKGZvY3VzZWQpLFxuICAgICAgICBcImRhdGEtaW52YWxpZFwiOiBkYXRhQXR0cihpbnZhbGlkKVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXRMYWJlbFByb3BzKCkge1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZS5sYWJlbCh7XG4gICAgICAgIC4uLnBhcnRzLmxhYmVsLmF0dHJzLFxuICAgICAgICBkaXI6IHByb3AoXCJkaXJcIiksXG4gICAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihkaXNhYmxlZCksXG4gICAgICAgIFwiZGF0YS1mb2N1c1wiOiBkYXRhQXR0cihmb2N1c2VkKSxcbiAgICAgICAgXCJkYXRhLWludmFsaWRcIjogZGF0YUF0dHIoaW52YWxpZCksXG4gICAgICAgIGlkOiBnZXRMYWJlbElkKHNjb3BlKSxcbiAgICAgICAgaHRtbEZvcjogZ2V0SW5wdXRJZChzY29wZSlcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0Q29udHJvbFByb3BzKCkge1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgICAgLi4ucGFydHMuY29udHJvbC5hdHRycyxcbiAgICAgICAgZGlyOiBwcm9wKFwiZGlyXCIpLFxuICAgICAgICByb2xlOiBcImdyb3VwXCIsXG4gICAgICAgIFwiYXJpYS1kaXNhYmxlZFwiOiBkaXNhYmxlZCxcbiAgICAgICAgXCJkYXRhLWZvY3VzXCI6IGRhdGFBdHRyKGZvY3VzZWQpLFxuICAgICAgICBcImRhdGEtZGlzYWJsZWRcIjogZGF0YUF0dHIoZGlzYWJsZWQpLFxuICAgICAgICBcImRhdGEtaW52YWxpZFwiOiBkYXRhQXR0cihpbnZhbGlkKSxcbiAgICAgICAgXCJhcmlhLWludmFsaWRcIjogYXJpYUF0dHIoaW52YWxpZClcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0VmFsdWVUZXh0UHJvcHMoKSB7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgICAuLi5wYXJ0cy52YWx1ZVRleHQuYXR0cnMsXG4gICAgICAgIGRpcjogcHJvcChcImRpclwiKSxcbiAgICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGRhdGFBdHRyKGRpc2FibGVkKSxcbiAgICAgICAgXCJkYXRhLWludmFsaWRcIjogZGF0YUF0dHIoaW52YWxpZCksXG4gICAgICAgIFwiZGF0YS1mb2N1c1wiOiBkYXRhQXR0cihmb2N1c2VkKVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXRJbnB1dFByb3BzKCkge1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZS5pbnB1dCh7XG4gICAgICAgIC4uLnBhcnRzLmlucHV0LmF0dHJzLFxuICAgICAgICBkaXI6IHByb3AoXCJkaXJcIiksXG4gICAgICAgIG5hbWU6IHByb3AoXCJuYW1lXCIpLFxuICAgICAgICBmb3JtOiBwcm9wKFwiZm9ybVwiKSxcbiAgICAgICAgaWQ6IGdldElucHV0SWQoc2NvcGUpLFxuICAgICAgICByb2xlOiBcInNwaW5idXR0b25cIixcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBjb21wdXRlZChcImZvcm1hdHRlZFZhbHVlXCIpLFxuICAgICAgICBwYXR0ZXJuOiBwcm9wKFwicGF0dGVyblwiKSxcbiAgICAgICAgaW5wdXRNb2RlOiBwcm9wKFwiaW5wdXRNb2RlXCIpLFxuICAgICAgICBcImFyaWEtaW52YWxpZFwiOiBhcmlhQXR0cihpbnZhbGlkKSxcbiAgICAgICAgXCJkYXRhLWludmFsaWRcIjogZGF0YUF0dHIoaW52YWxpZCksXG4gICAgICAgIGRpc2FibGVkLFxuICAgICAgICBcImRhdGEtZGlzYWJsZWRcIjogZGF0YUF0dHIoZGlzYWJsZWQpLFxuICAgICAgICByZWFkT25seSxcbiAgICAgICAgcmVxdWlyZWQ6IHByb3AoXCJyZXF1aXJlZFwiKSxcbiAgICAgICAgYXV0b0NvbXBsZXRlOiBcIm9mZlwiLFxuICAgICAgICBhdXRvQ29ycmVjdDogXCJvZmZcIixcbiAgICAgICAgc3BlbGxDaGVjazogXCJmYWxzZVwiLFxuICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgXCJhcmlhLXJvbGVkZXNjcmlwdGlvblwiOiBcIm51bWJlcmZpZWxkXCIsXG4gICAgICAgIFwiYXJpYS12YWx1ZW1pblwiOiBwcm9wKFwibWluXCIpLFxuICAgICAgICBcImFyaWEtdmFsdWVtYXhcIjogcHJvcChcIm1heFwiKSxcbiAgICAgICAgXCJhcmlhLXZhbHVlbm93XCI6IE51bWJlci5pc05hTihjb21wdXRlZChcInZhbHVlQXNOdW1iZXJcIikpID8gdm9pZCAwIDogY29tcHV0ZWQoXCJ2YWx1ZUFzTnVtYmVyXCIpLFxuICAgICAgICBcImFyaWEtdmFsdWV0ZXh0XCI6IGNvbXB1dGVkKFwidmFsdWVUZXh0XCIpLFxuICAgICAgICBvbkZvY3VzKCkge1xuICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIklOUFVULkZPQ1VTXCIgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uQmx1cigpIHtcbiAgICAgICAgICBzZW5kKHsgdHlwZTogXCJJTlBVVC5CTFVSXCIgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uSW5wdXQoZXZlbnQpIHtcbiAgICAgICAgICBzZW5kKHsgdHlwZTogXCJJTlBVVC5DSEFOR0VcIiwgdGFyZ2V0OiBldmVudC5jdXJyZW50VGFyZ2V0LCBoaW50OiBcInNldFwiIH0pO1xuICAgICAgICB9LFxuICAgICAgICBvbkJlZm9yZUlucHV0KGV2ZW50KSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHsgc2VsZWN0aW9uU3RhcnQsIHNlbGVjdGlvbkVuZCwgdmFsdWUgfSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XG4gICAgICAgICAgICBjb25zdCBuZXh0VmFsdWUgPSB2YWx1ZS5zbGljZSgwLCBzZWxlY3Rpb25TdGFydCkgKyAoZXZlbnQuZGF0YSA/PyBcIlwiKSArIHZhbHVlLnNsaWNlKHNlbGVjdGlvbkVuZCk7XG4gICAgICAgICAgICBjb25zdCBpc1ZhbGlkID0gY29tcHV0ZWQoXCJwYXJzZXJcIikuaXNWYWxpZFBhcnRpYWxOdW1iZXIobmV4dFZhbHVlKTtcbiAgICAgICAgICAgIGlmICghaXNWYWxpZCkge1xuICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25LZXlEb3duKGV2ZW50KSB7XG4gICAgICAgICAgaWYgKGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHJldHVybjtcbiAgICAgICAgICBpZiAocmVhZE9ubHkpIHJldHVybjtcbiAgICAgICAgICBpZiAoaXNDb21wb3NpbmdFdmVudChldmVudCkpIHJldHVybjtcbiAgICAgICAgICBjb25zdCBzdGVwID0gZ2V0RXZlbnRTdGVwKGV2ZW50KSAqIHByb3AoXCJzdGVwXCIpO1xuICAgICAgICAgIGNvbnN0IGtleU1hcCA9IHtcbiAgICAgICAgICAgIEFycm93VXAoKSB7XG4gICAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIklOUFVULkFSUk9XX1VQXCIsIHN0ZXAgfSk7XG4gICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgQXJyb3dEb3duKCkge1xuICAgICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJJTlBVVC5BUlJPV19ET1dOXCIsIHN0ZXAgfSk7XG4gICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgSG9tZSgpIHtcbiAgICAgICAgICAgICAgaWYgKGlzTW9kaWZpZXJLZXkoZXZlbnQpKSByZXR1cm47XG4gICAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIklOUFVULkhPTUVcIiB9KTtcbiAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBFbmQoKSB7XG4gICAgICAgICAgICAgIGlmIChpc01vZGlmaWVyS2V5KGV2ZW50KSkgcmV0dXJuO1xuICAgICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJJTlBVVC5FTkRcIiB9KTtcbiAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBFbnRlcigpIHtcbiAgICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiSU5QVVQuRU5URVJcIiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IGV4ZWMgPSBrZXlNYXBbZXZlbnQua2V5XTtcbiAgICAgICAgICBleGVjPy4oZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldERlY3JlbWVudFRyaWdnZXJQcm9wcygpIHtcbiAgICAgIHJldHVybiBub3JtYWxpemUuYnV0dG9uKHtcbiAgICAgICAgLi4ucGFydHMuZGVjcmVtZW50VHJpZ2dlci5hdHRycyxcbiAgICAgICAgZGlyOiBwcm9wKFwiZGlyXCIpLFxuICAgICAgICBpZDogZ2V0RGVjcmVtZW50VHJpZ2dlcklkKHNjb3BlKSxcbiAgICAgICAgZGlzYWJsZWQ6IGlzRGVjcmVtZW50RGlzYWJsZWQsXG4gICAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihpc0RlY3JlbWVudERpc2FibGVkKSxcbiAgICAgICAgXCJhcmlhLWxhYmVsXCI6IHRyYW5zbGF0aW9ucy5kZWNyZW1lbnRMYWJlbCxcbiAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgdGFiSW5kZXg6IC0xLFxuICAgICAgICBcImFyaWEtY29udHJvbHNcIjogZ2V0SW5wdXRJZChzY29wZSksXG4gICAgICAgIG9uUG9pbnRlckRvd24oZXZlbnQpIHtcbiAgICAgICAgICBpZiAoaXNEZWNyZW1lbnREaXNhYmxlZCkgcmV0dXJuO1xuICAgICAgICAgIGlmICghaXNMZWZ0Q2xpY2soZXZlbnQpKSByZXR1cm47XG4gICAgICAgICAgc2VuZCh7IHR5cGU6IFwiVFJJR0dFUi5QUkVTU19ET1dOXCIsIGhpbnQ6IFwiZGVjcmVtZW50XCIsIHBvaW50ZXJUeXBlOiBldmVudC5wb2ludGVyVHlwZSB9KTtcbiAgICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09IFwibW91c2VcIikge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSBcInRvdWNoXCIpIHtcbiAgICAgICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQ/LmZvY3VzKHsgcHJldmVudFNjcm9sbDogdHJ1ZSB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uUG9pbnRlclVwKGV2ZW50KSB7XG4gICAgICAgICAgc2VuZCh7IHR5cGU6IFwiVFJJR0dFUi5QUkVTU19VUFwiLCBoaW50OiBcImRlY3JlbWVudFwiLCBwb2ludGVyVHlwZTogZXZlbnQucG9pbnRlclR5cGUgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uUG9pbnRlckxlYXZlKCkge1xuICAgICAgICAgIGlmIChpc0RlY3JlbWVudERpc2FibGVkKSByZXR1cm47XG4gICAgICAgICAgc2VuZCh7IHR5cGU6IFwiVFJJR0dFUi5QUkVTU19VUFwiLCBoaW50OiBcImRlY3JlbWVudFwiIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldEluY3JlbWVudFRyaWdnZXJQcm9wcygpIHtcbiAgICAgIHJldHVybiBub3JtYWxpemUuYnV0dG9uKHtcbiAgICAgICAgLi4ucGFydHMuaW5jcmVtZW50VHJpZ2dlci5hdHRycyxcbiAgICAgICAgZGlyOiBwcm9wKFwiZGlyXCIpLFxuICAgICAgICBpZDogZ2V0SW5jcmVtZW50VHJpZ2dlcklkKHNjb3BlKSxcbiAgICAgICAgZGlzYWJsZWQ6IGlzSW5jcmVtZW50RGlzYWJsZWQsXG4gICAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihpc0luY3JlbWVudERpc2FibGVkKSxcbiAgICAgICAgXCJhcmlhLWxhYmVsXCI6IHRyYW5zbGF0aW9ucy5pbmNyZW1lbnRMYWJlbCxcbiAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgdGFiSW5kZXg6IC0xLFxuICAgICAgICBcImFyaWEtY29udHJvbHNcIjogZ2V0SW5wdXRJZChzY29wZSksXG4gICAgICAgIG9uUG9pbnRlckRvd24oZXZlbnQpIHtcbiAgICAgICAgICBpZiAoaXNJbmNyZW1lbnREaXNhYmxlZCB8fCAhaXNMZWZ0Q2xpY2soZXZlbnQpKSByZXR1cm47XG4gICAgICAgICAgc2VuZCh7IHR5cGU6IFwiVFJJR0dFUi5QUkVTU19ET1dOXCIsIGhpbnQ6IFwiaW5jcmVtZW50XCIsIHBvaW50ZXJUeXBlOiBldmVudC5wb2ludGVyVHlwZSB9KTtcbiAgICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09IFwibW91c2VcIikge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSBcInRvdWNoXCIpIHtcbiAgICAgICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQ/LmZvY3VzKHsgcHJldmVudFNjcm9sbDogdHJ1ZSB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uUG9pbnRlclVwKGV2ZW50KSB7XG4gICAgICAgICAgc2VuZCh7IHR5cGU6IFwiVFJJR0dFUi5QUkVTU19VUFwiLCBoaW50OiBcImluY3JlbWVudFwiLCBwb2ludGVyVHlwZTogZXZlbnQucG9pbnRlclR5cGUgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uUG9pbnRlckxlYXZlKGV2ZW50KSB7XG4gICAgICAgICAgc2VuZCh7IHR5cGU6IFwiVFJJR0dFUi5QUkVTU19VUFwiLCBoaW50OiBcImluY3JlbWVudFwiLCBwb2ludGVyVHlwZTogZXZlbnQucG9pbnRlclR5cGUgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0U2NydWJiZXJQcm9wcygpIHtcbiAgICAgIHJldHVybiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAgIC4uLnBhcnRzLnNjcnViYmVyLmF0dHJzLFxuICAgICAgICBkaXI6IHByb3AoXCJkaXJcIiksXG4gICAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihkaXNhYmxlZCksXG4gICAgICAgIGlkOiBnZXRTY3J1YmJlcklkKHNjb3BlKSxcbiAgICAgICAgcm9sZTogXCJwcmVzZW50YXRpb25cIixcbiAgICAgICAgb25Nb3VzZURvd24oZXZlbnQpIHtcbiAgICAgICAgICBpZiAoZGlzYWJsZWQpIHJldHVybjtcbiAgICAgICAgICBpZiAoIWlzTGVmdENsaWNrKGV2ZW50KSkgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHBvaW50ID0gZ2V0RXZlbnRQb2ludChldmVudCk7XG4gICAgICAgICAgY29uc3Qgd2luID0gZ2V0V2luZG93KGV2ZW50LmN1cnJlbnRUYXJnZXQpO1xuICAgICAgICAgIGNvbnN0IGRwciA9IHdpbi5kZXZpY2VQaXhlbFJhdGlvO1xuICAgICAgICAgIHBvaW50LnggPSBwb2ludC54IC0gcm91bmRUb0Rwcig3LjUsIGRwcik7XG4gICAgICAgICAgcG9pbnQueSA9IHBvaW50LnkgLSByb3VuZFRvRHByKDcuNSwgZHByKTtcbiAgICAgICAgICBzZW5kKHsgdHlwZTogXCJTQ1JVQkJFUi5QUkVTU19ET1dOXCIsIHBvaW50IH0pO1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH0sXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgY3Vyc29yOiBkaXNhYmxlZCA/IHZvaWQgMCA6IFwiZXctcmVzaXplXCJcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufVxuXG4vLyBzcmMvY3Vyc29yLnRzXG5mdW5jdGlvbiByZWNvcmRDdXJzb3IoaW5wdXRFbCkge1xuICBpZiAoIWlucHV0RWwgfHwgaW5wdXRFbC5vd25lckRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IGlucHV0RWwpIHJldHVybjtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IHNlbGVjdGlvblN0YXJ0OiBzdGFydCwgc2VsZWN0aW9uRW5kOiBlbmQsIHZhbHVlIH0gPSBpbnB1dEVsO1xuICAgIGNvbnN0IGJlZm9yZVR4dCA9IHZhbHVlLnN1YnN0cmluZygwLCBzdGFydCk7XG4gICAgY29uc3QgYWZ0ZXJUeHQgPSB2YWx1ZS5zdWJzdHJpbmcoZW5kKTtcbiAgICByZXR1cm4ge1xuICAgICAgc3RhcnQsXG4gICAgICBlbmQsXG4gICAgICB2YWx1ZSxcbiAgICAgIGJlZm9yZVR4dCxcbiAgICAgIGFmdGVyVHh0XG4gICAgfTtcbiAgfSBjYXRjaCB7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlc3RvcmVDdXJzb3IoaW5wdXRFbCwgc2VsZWN0aW9uKSB7XG4gIGlmICghaW5wdXRFbCB8fCBpbnB1dEVsLm93bmVyRG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gaW5wdXRFbCkgcmV0dXJuO1xuICBpZiAoIXNlbGVjdGlvbikge1xuICAgIGlucHV0RWwuc2V0U2VsZWN0aW9uUmFuZ2UoaW5wdXRFbC52YWx1ZS5sZW5ndGgsIGlucHV0RWwudmFsdWUubGVuZ3RoKTtcbiAgICByZXR1cm47XG4gIH1cbiAgdHJ5IHtcbiAgICBjb25zdCB7IHZhbHVlIH0gPSBpbnB1dEVsO1xuICAgIGNvbnN0IHsgYmVmb3JlVHh0ID0gXCJcIiwgYWZ0ZXJUeHQgPSBcIlwiLCBzdGFydCB9ID0gc2VsZWN0aW9uO1xuICAgIGxldCBzdGFydFBvcyA9IHZhbHVlLmxlbmd0aDtcbiAgICBpZiAodmFsdWUuZW5kc1dpdGgoYWZ0ZXJUeHQpKSB7XG4gICAgICBzdGFydFBvcyA9IHZhbHVlLmxlbmd0aCAtIGFmdGVyVHh0Lmxlbmd0aDtcbiAgICB9IGVsc2UgaWYgKHZhbHVlLnN0YXJ0c1dpdGgoYmVmb3JlVHh0KSkge1xuICAgICAgc3RhcnRQb3MgPSBiZWZvcmVUeHQubGVuZ3RoO1xuICAgIH0gZWxzZSBpZiAoc3RhcnQgIT0gbnVsbCkge1xuICAgICAgY29uc3QgYmVmb3JlTGFzdENoYXIgPSBiZWZvcmVUeHRbc3RhcnQgLSAxXTtcbiAgICAgIGNvbnN0IG5ld0luZGV4ID0gdmFsdWUuaW5kZXhPZihiZWZvcmVMYXN0Q2hhciwgc3RhcnQgLSAxKTtcbiAgICAgIGlmIChuZXdJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgc3RhcnRQb3MgPSBuZXdJbmRleCArIDE7XG4gICAgICB9XG4gICAgfVxuICAgIGlucHV0RWwuc2V0U2VsZWN0aW9uUmFuZ2Uoc3RhcnRQb3MsIHN0YXJ0UG9zKTtcbiAgfSBjYXRjaCB7XG4gIH1cbn1cbnZhciBjcmVhdGVGb3JtYXR0ZXIgPSAobG9jYWxlLCBvcHRpb25zID0ge30pID0+IHtcbiAgcmV0dXJuIG5ldyBJbnRsLk51bWJlckZvcm1hdChsb2NhbGUsIG9wdGlvbnMpO1xufTtcbnZhciBjcmVhdGVQYXJzZXIgPSAobG9jYWxlLCBvcHRpb25zID0ge30pID0+IHtcbiAgcmV0dXJuIG5ldyBOdW1iZXJQYXJzZXIobG9jYWxlLCBvcHRpb25zKTtcbn07XG52YXIgcGFyc2VWYWx1ZSA9ICh2YWx1ZSwgcGFyYW1zKSA9PiB7XG4gIGNvbnN0IHsgcHJvcCwgY29tcHV0ZWQgfSA9IHBhcmFtcztcbiAgaWYgKCFwcm9wKFwiZm9ybWF0T3B0aW9uc1wiKSkgcmV0dXJuIHBhcnNlRmxvYXQodmFsdWUpO1xuICByZXR1cm4gY29tcHV0ZWQoXCJwYXJzZXJcIikucGFyc2UoU3RyaW5nKHZhbHVlKSk7XG59O1xudmFyIGZvcm1hdFZhbHVlID0gKHZhbHVlLCBwYXJhbXMpID0+IHtcbiAgY29uc3QgeyBwcm9wLCBjb21wdXRlZCB9ID0gcGFyYW1zO1xuICBpZiAoTnVtYmVyLmlzTmFOKHZhbHVlKSkgcmV0dXJuIFwiXCI7XG4gIGlmICghcHJvcChcImZvcm1hdE9wdGlvbnNcIikpIHJldHVybiB2YWx1ZS50b1N0cmluZygpO1xuICByZXR1cm4gY29tcHV0ZWQoXCJmb3JtYXR0ZXJcIikuZm9ybWF0KHZhbHVlKTtcbn07XG52YXIgZ2V0RGVmYXVsdFN0ZXAgPSAoc3RlcCwgZm9ybWF0T3B0aW9ucykgPT4ge1xuICBsZXQgZGVmYXVsdFN0ZXAgPSBzdGVwICE9PSB2b2lkIDAgJiYgIU51bWJlci5pc05hTihzdGVwKSA/IHN0ZXAgOiAxO1xuICBpZiAoZm9ybWF0T3B0aW9ucz8uc3R5bGUgPT09IFwicGVyY2VudFwiICYmIChzdGVwID09PSB2b2lkIDAgfHwgTnVtYmVyLmlzTmFOKHN0ZXApKSkge1xuICAgIGRlZmF1bHRTdGVwID0gMC4wMTtcbiAgfVxuICByZXR1cm4gZGVmYXVsdFN0ZXA7XG59O1xuXG4vLyBzcmMvbnVtYmVyLWlucHV0Lm1hY2hpbmUudHNcbnZhciB7IGNob29zZSwgZ3VhcmRzLCBjcmVhdGVNYWNoaW5lIH0gPSBzZXR1cCgpO1xudmFyIHsgbm90LCBhbmQgfSA9IGd1YXJkcztcbnZhciBtYWNoaW5lID0gY3JlYXRlTWFjaGluZSh7XG4gIHByb3BzKHsgcHJvcHM6IHByb3BzMiB9KSB7XG4gICAgY29uc3Qgc3RlcCA9IGdldERlZmF1bHRTdGVwKHByb3BzMi5zdGVwLCBwcm9wczIuZm9ybWF0T3B0aW9ucyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRpcjogXCJsdHJcIixcbiAgICAgIGxvY2FsZTogXCJlbi1VU1wiLFxuICAgICAgZm9jdXNJbnB1dE9uQ2hhbmdlOiB0cnVlLFxuICAgICAgY2xhbXBWYWx1ZU9uQmx1cjogIXByb3BzMi5hbGxvd092ZXJmbG93LFxuICAgICAgYWxsb3dPdmVyZmxvdzogZmFsc2UsXG4gICAgICBpbnB1dE1vZGU6IFwiZGVjaW1hbFwiLFxuICAgICAgcGF0dGVybjogXCItP1swLTldKiguWzAtOV0rKT9cIixcbiAgICAgIGRlZmF1bHRWYWx1ZTogXCJcIixcbiAgICAgIHN0ZXAsXG4gICAgICBtaW46IE51bWJlci5NSU5fU0FGRV9JTlRFR0VSLFxuICAgICAgbWF4OiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUixcbiAgICAgIHNwaW5PblByZXNzOiB0cnVlLFxuICAgICAgLi4ucHJvcHMyLFxuICAgICAgdHJhbnNsYXRpb25zOiB7XG4gICAgICAgIGluY3JlbWVudExhYmVsOiBcImluY3JlbWVudCB2YWx1ZVwiLFxuICAgICAgICBkZWNyZW1lbnRMYWJlbDogXCJkZWNyZWFzZSB2YWx1ZVwiLFxuICAgICAgICAuLi5wcm9wczIudHJhbnNsYXRpb25zXG4gICAgICB9XG4gICAgfTtcbiAgfSxcbiAgaW5pdGlhbFN0YXRlKCkge1xuICAgIHJldHVybiBcImlkbGVcIjtcbiAgfSxcbiAgY29udGV4dCh7IHByb3AsIGJpbmRhYmxlLCBnZXRDb21wdXRlZCB9KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZhbHVlOiBiaW5kYWJsZSgoKSA9PiAoe1xuICAgICAgICBkZWZhdWx0VmFsdWU6IHByb3AoXCJkZWZhdWx0VmFsdWVcIiksXG4gICAgICAgIHZhbHVlOiBwcm9wKFwidmFsdWVcIiksXG4gICAgICAgIG9uQ2hhbmdlKHZhbHVlKSB7XG4gICAgICAgICAgY29uc3QgY29tcHV0ZWQgPSBnZXRDb21wdXRlZCgpO1xuICAgICAgICAgIGNvbnN0IHZhbHVlQXNOdW1iZXIgPSBwYXJzZVZhbHVlKHZhbHVlLCB7IGNvbXB1dGVkLCBwcm9wIH0pO1xuICAgICAgICAgIHByb3AoXCJvblZhbHVlQ2hhbmdlXCIpPy4oeyB2YWx1ZSwgdmFsdWVBc051bWJlciB9KTtcbiAgICAgICAgfVxuICAgICAgfSkpLFxuICAgICAgaGludDogYmluZGFibGUoKCkgPT4gKHsgZGVmYXVsdFZhbHVlOiBudWxsIH0pKSxcbiAgICAgIHNjcnViYmVyQ3Vyc29yUG9pbnQ6IGJpbmRhYmxlKCgpID0+ICh7XG4gICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCxcbiAgICAgICAgaGFzaCh2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiB2YWx1ZSA/IGB4OiR7dmFsdWUueH0sIHk6JHt2YWx1ZS55fWAgOiBcIlwiO1xuICAgICAgICB9XG4gICAgICB9KSksXG4gICAgICBmaWVsZHNldERpc2FibGVkOiBiaW5kYWJsZSgoKSA9PiAoeyBkZWZhdWx0VmFsdWU6IGZhbHNlIH0pKVxuICAgIH07XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgaXNSdGw6ICh7IHByb3AgfSkgPT4gcHJvcChcImRpclwiKSA9PT0gXCJydGxcIixcbiAgICB2YWx1ZUFzTnVtYmVyOiAoeyBjb250ZXh0LCBjb21wdXRlZCwgcHJvcCB9KSA9PiBwYXJzZVZhbHVlKGNvbnRleHQuZ2V0KFwidmFsdWVcIiksIHsgY29tcHV0ZWQsIHByb3AgfSksXG4gICAgZm9ybWF0dGVkVmFsdWU6ICh7IGNvbXB1dGVkLCBwcm9wIH0pID0+IGZvcm1hdFZhbHVlKGNvbXB1dGVkKFwidmFsdWVBc051bWJlclwiKSwgeyBjb21wdXRlZCwgcHJvcCB9KSxcbiAgICBpc0F0TWluOiAoeyBjb21wdXRlZCwgcHJvcCB9KSA9PiBpc1ZhbHVlQXRNaW4oY29tcHV0ZWQoXCJ2YWx1ZUFzTnVtYmVyXCIpLCBwcm9wKFwibWluXCIpKSxcbiAgICBpc0F0TWF4OiAoeyBjb21wdXRlZCwgcHJvcCB9KSA9PiBpc1ZhbHVlQXRNYXgoY29tcHV0ZWQoXCJ2YWx1ZUFzTnVtYmVyXCIpLCBwcm9wKFwibWF4XCIpKSxcbiAgICBpc091dE9mUmFuZ2U6ICh7IGNvbXB1dGVkLCBwcm9wIH0pID0+ICFpc1ZhbHVlV2l0aGluUmFuZ2UoY29tcHV0ZWQoXCJ2YWx1ZUFzTnVtYmVyXCIpLCBwcm9wKFwibWluXCIpLCBwcm9wKFwibWF4XCIpKSxcbiAgICBpc1ZhbHVlRW1wdHk6ICh7IGNvbnRleHQgfSkgPT4gY29udGV4dC5nZXQoXCJ2YWx1ZVwiKSA9PT0gXCJcIixcbiAgICBpc0Rpc2FibGVkOiAoeyBwcm9wLCBjb250ZXh0IH0pID0+ICEhcHJvcChcImRpc2FibGVkXCIpIHx8IGNvbnRleHQuZ2V0KFwiZmllbGRzZXREaXNhYmxlZFwiKSxcbiAgICBjYW5JbmNyZW1lbnQ6ICh7IHByb3AsIGNvbXB1dGVkIH0pID0+IHByb3AoXCJhbGxvd092ZXJmbG93XCIpIHx8ICFjb21wdXRlZChcImlzQXRNYXhcIiksXG4gICAgY2FuRGVjcmVtZW50OiAoeyBwcm9wLCBjb21wdXRlZCB9KSA9PiBwcm9wKFwiYWxsb3dPdmVyZmxvd1wiKSB8fCAhY29tcHV0ZWQoXCJpc0F0TWluXCIpLFxuICAgIHZhbHVlVGV4dDogKHsgcHJvcCwgY29udGV4dCB9KSA9PiBwcm9wKFwidHJhbnNsYXRpb25zXCIpLnZhbHVlVGV4dD8uKGNvbnRleHQuZ2V0KFwidmFsdWVcIikpLFxuICAgIGZvcm1hdHRlcjogbWVtbyhcbiAgICAgICh7IHByb3AgfSkgPT4gW3Byb3AoXCJsb2NhbGVcIiksIHByb3AoXCJmb3JtYXRPcHRpb25zXCIpXSxcbiAgICAgIChsb2NhbGUsIGZvcm1hdE9wdGlvbnMpID0+IGNyZWF0ZUZvcm1hdHRlcihsb2NhbGUsIGZvcm1hdE9wdGlvbnMpXG4gICAgKSxcbiAgICBwYXJzZXI6IG1lbW8oXG4gICAgICAoeyBwcm9wIH0pID0+IFtwcm9wKFwibG9jYWxlXCIpLCBwcm9wKFwiZm9ybWF0T3B0aW9uc1wiKV0sXG4gICAgICAobG9jYWxlLCBmb3JtYXRPcHRpb25zKSA9PiBjcmVhdGVQYXJzZXIobG9jYWxlLCBmb3JtYXRPcHRpb25zKVxuICAgIClcbiAgfSxcbiAgd2F0Y2goeyB0cmFjaywgYWN0aW9uLCBjb250ZXh0LCBjb21wdXRlZCwgcHJvcCB9KSB7XG4gICAgdHJhY2soWygpID0+IGNvbnRleHQuZ2V0KFwidmFsdWVcIiksICgpID0+IHByb3AoXCJsb2NhbGVcIildLCAoKSA9PiB7XG4gICAgICBhY3Rpb24oW1wic3luY0lucHV0RWxlbWVudFwiXSk7XG4gICAgfSk7XG4gICAgdHJhY2soWygpID0+IGNvbXB1dGVkKFwiaXNPdXRPZlJhbmdlXCIpXSwgKCkgPT4ge1xuICAgICAgYWN0aW9uKFtcImludm9rZU9uSW52YWxpZFwiXSk7XG4gICAgfSk7XG4gICAgdHJhY2soWygpID0+IGNvbnRleHQuaGFzaChcInNjcnViYmVyQ3Vyc29yUG9pbnRcIildLCAoKSA9PiB7XG4gICAgICBhY3Rpb24oW1wic2V0VmlydHVhbEN1cnNvclBvc2l0aW9uXCJdKTtcbiAgICB9KTtcbiAgfSxcbiAgZWZmZWN0czogW1widHJhY2tGb3JtQ29udHJvbFwiXSxcbiAgb246IHtcbiAgICBcIlZBTFVFLlNFVFwiOiB7XG4gICAgICBhY3Rpb25zOiBbXCJzZXRSYXdWYWx1ZVwiXVxuICAgIH0sXG4gICAgXCJWQUxVRS5DTEVBUlwiOiB7XG4gICAgICBhY3Rpb25zOiBbXCJjbGVhclZhbHVlXCJdXG4gICAgfSxcbiAgICBcIlZBTFVFLklOQ1JFTUVOVFwiOiB7XG4gICAgICBhY3Rpb25zOiBbXCJpbmNyZW1lbnRcIl1cbiAgICB9LFxuICAgIFwiVkFMVUUuREVDUkVNRU5UXCI6IHtcbiAgICAgIGFjdGlvbnM6IFtcImRlY3JlbWVudFwiXVxuICAgIH1cbiAgfSxcbiAgc3RhdGVzOiB7XG4gICAgaWRsZToge1xuICAgICAgb246IHtcbiAgICAgICAgXCJUUklHR0VSLlBSRVNTX0RPV05cIjogW1xuICAgICAgICAgIHsgZ3VhcmQ6IFwiaXNUb3VjaFBvaW50ZXJcIiwgdGFyZ2V0OiBcImJlZm9yZTpzcGluXCIsIGFjdGlvbnM6IFtcInNldEhpbnRcIl0gfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0YXJnZXQ6IFwiYmVmb3JlOnNwaW5cIixcbiAgICAgICAgICAgIGFjdGlvbnM6IFtcImZvY3VzSW5wdXRcIiwgXCJpbnZva2VPbkZvY3VzXCIsIFwic2V0SGludFwiXVxuICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgXCJTQ1JVQkJFUi5QUkVTU19ET1dOXCI6IHtcbiAgICAgICAgICB0YXJnZXQ6IFwic2NydWJiaW5nXCIsXG4gICAgICAgICAgYWN0aW9uczogW1wiZm9jdXNJbnB1dFwiLCBcImludm9rZU9uRm9jdXNcIiwgXCJzZXRIaW50XCIsIFwic2V0Q3Vyc29yUG9pbnRcIl1cbiAgICAgICAgfSxcbiAgICAgICAgXCJJTlBVVC5GT0NVU1wiOiB7XG4gICAgICAgICAgdGFyZ2V0OiBcImZvY3VzZWRcIixcbiAgICAgICAgICBhY3Rpb25zOiBbXCJmb2N1c0lucHV0XCIsIFwiaW52b2tlT25Gb2N1c1wiXVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBmb2N1c2VkOiB7XG4gICAgICB0YWdzOiBbXCJmb2N1c1wiXSxcbiAgICAgIGVmZmVjdHM6IFtcImF0dGFjaFdoZWVsTGlzdGVuZXJcIl0sXG4gICAgICBvbjoge1xuICAgICAgICBcIlRSSUdHRVIuUFJFU1NfRE9XTlwiOiBbXG4gICAgICAgICAgeyBndWFyZDogXCJpc1RvdWNoUG9pbnRlclwiLCB0YXJnZXQ6IFwiYmVmb3JlOnNwaW5cIiwgYWN0aW9uczogW1wic2V0SGludFwiXSB9LFxuICAgICAgICAgIHsgdGFyZ2V0OiBcImJlZm9yZTpzcGluXCIsIGFjdGlvbnM6IFtcImZvY3VzSW5wdXRcIiwgXCJzZXRIaW50XCJdIH1cbiAgICAgICAgXSxcbiAgICAgICAgXCJTQ1JVQkJFUi5QUkVTU19ET1dOXCI6IHtcbiAgICAgICAgICB0YXJnZXQ6IFwic2NydWJiaW5nXCIsXG4gICAgICAgICAgYWN0aW9uczogW1wiZm9jdXNJbnB1dFwiLCBcInNldEhpbnRcIiwgXCJzZXRDdXJzb3JQb2ludFwiXVxuICAgICAgICB9LFxuICAgICAgICBcIklOUFVULkFSUk9XX1VQXCI6IHtcbiAgICAgICAgICBhY3Rpb25zOiBbXCJpbmNyZW1lbnRcIl1cbiAgICAgICAgfSxcbiAgICAgICAgXCJJTlBVVC5BUlJPV19ET1dOXCI6IHtcbiAgICAgICAgICBhY3Rpb25zOiBbXCJkZWNyZW1lbnRcIl1cbiAgICAgICAgfSxcbiAgICAgICAgXCJJTlBVVC5IT01FXCI6IHtcbiAgICAgICAgICBhY3Rpb25zOiBbXCJkZWNyZW1lbnRUb01pblwiXVxuICAgICAgICB9LFxuICAgICAgICBcIklOUFVULkVORFwiOiB7XG4gICAgICAgICAgYWN0aW9uczogW1wiaW5jcmVtZW50VG9NYXhcIl1cbiAgICAgICAgfSxcbiAgICAgICAgXCJJTlBVVC5DSEFOR0VcIjoge1xuICAgICAgICAgIGFjdGlvbnM6IFtcInNldFZhbHVlXCIsIFwic2V0SGludFwiXVxuICAgICAgICB9LFxuICAgICAgICBcIklOUFVULkJMVVJcIjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGd1YXJkOiBhbmQoXCJjbGFtcFZhbHVlT25CbHVyXCIsIG5vdChcImlzSW5SYW5nZVwiKSksXG4gICAgICAgICAgICB0YXJnZXQ6IFwiaWRsZVwiLFxuICAgICAgICAgICAgYWN0aW9uczogW1wic2V0Q2xhbXBlZFZhbHVlXCIsIFwiY2xlYXJIaW50XCIsIFwiaW52b2tlT25CbHVyXCJdXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBndWFyZDogbm90KFwiaXNJblJhbmdlXCIpLFxuICAgICAgICAgICAgdGFyZ2V0OiBcImlkbGVcIixcbiAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldEZvcm1hdHRlZFZhbHVlXCIsIFwiY2xlYXJIaW50XCIsIFwiaW52b2tlT25CbHVyXCIsIFwiaW52b2tlT25JbnZhbGlkXCJdXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0YXJnZXQ6IFwiaWRsZVwiLFxuICAgICAgICAgICAgYWN0aW9uczogW1wic2V0Rm9ybWF0dGVkVmFsdWVcIiwgXCJjbGVhckhpbnRcIiwgXCJpbnZva2VPbkJsdXJcIl1cbiAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIFwiSU5QVVQuRU5URVJcIjoge1xuICAgICAgICAgIGFjdGlvbnM6IFtcInNldEZvcm1hdHRlZFZhbHVlXCIsIFwiY2xlYXJIaW50XCIsIFwiaW52b2tlT25CbHVyXCJdXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIFwiYmVmb3JlOnNwaW5cIjoge1xuICAgICAgdGFnczogW1wiZm9jdXNcIl0sXG4gICAgICBlZmZlY3RzOiBbXCJ0cmFja0J1dHRvbkRpc2FibGVkXCIsIFwid2FpdEZvckNoYW5nZURlbGF5XCJdLFxuICAgICAgZW50cnk6IGNob29zZShbXG4gICAgICAgIHsgZ3VhcmQ6IFwiaXNJbmNyZW1lbnRIaW50XCIsIGFjdGlvbnM6IFtcImluY3JlbWVudFwiXSB9LFxuICAgICAgICB7IGd1YXJkOiBcImlzRGVjcmVtZW50SGludFwiLCBhY3Rpb25zOiBbXCJkZWNyZW1lbnRcIl0gfVxuICAgICAgXSksXG4gICAgICBvbjoge1xuICAgICAgICBDSEFOR0VfREVMQVk6IHtcbiAgICAgICAgICB0YXJnZXQ6IFwic3Bpbm5pbmdcIixcbiAgICAgICAgICBndWFyZDogYW5kKFwiaXNJblJhbmdlXCIsIFwic3Bpbk9uUHJlc3NcIilcbiAgICAgICAgfSxcbiAgICAgICAgXCJUUklHR0VSLlBSRVNTX1VQXCI6IFtcbiAgICAgICAgICB7IGd1YXJkOiBcImlzVG91Y2hQb2ludGVyXCIsIHRhcmdldDogXCJmb2N1c2VkXCIsIGFjdGlvbnM6IFtcImNsZWFySGludFwiXSB9LFxuICAgICAgICAgIHsgdGFyZ2V0OiBcImZvY3VzZWRcIiwgYWN0aW9uczogW1wiZm9jdXNJbnB1dFwiLCBcImNsZWFySGludFwiXSB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9LFxuICAgIHNwaW5uaW5nOiB7XG4gICAgICB0YWdzOiBbXCJmb2N1c1wiXSxcbiAgICAgIGVmZmVjdHM6IFtcInRyYWNrQnV0dG9uRGlzYWJsZWRcIiwgXCJzcGluVmFsdWVcIl0sXG4gICAgICBvbjoge1xuICAgICAgICBTUElOOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZ3VhcmQ6IFwiaXNJbmNyZW1lbnRIaW50XCIsXG4gICAgICAgICAgICBhY3Rpb25zOiBbXCJpbmNyZW1lbnRcIl1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGd1YXJkOiBcImlzRGVjcmVtZW50SGludFwiLFxuICAgICAgICAgICAgYWN0aW9uczogW1wiZGVjcmVtZW50XCJdXG4gICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBcIlRSSUdHRVIuUFJFU1NfVVBcIjoge1xuICAgICAgICAgIHRhcmdldDogXCJmb2N1c2VkXCIsXG4gICAgICAgICAgYWN0aW9uczogW1wiZm9jdXNJbnB1dFwiLCBcImNsZWFySGludFwiXVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBzY3J1YmJpbmc6IHtcbiAgICAgIHRhZ3M6IFtcImZvY3VzXCJdLFxuICAgICAgZWZmZWN0czogW1wiYWN0aXZhdGVQb2ludGVyTG9ja1wiLCBcInRyYWNrTW91c2Vtb3ZlXCIsIFwic2V0dXBWaXJ0dWFsQ3Vyc29yXCIsIFwicHJldmVudFRleHRTZWxlY3Rpb25cIl0sXG4gICAgICBvbjoge1xuICAgICAgICBcIlNDUlVCQkVSLlBPSU5URVJfVVBcIjoge1xuICAgICAgICAgIHRhcmdldDogXCJmb2N1c2VkXCIsXG4gICAgICAgICAgYWN0aW9uczogW1wiZm9jdXNJbnB1dFwiLCBcImNsZWFyQ3Vyc29yUG9pbnRcIl1cbiAgICAgICAgfSxcbiAgICAgICAgXCJTQ1JVQkJFUi5QT0lOVEVSX01PVkVcIjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGd1YXJkOiBcImlzSW5jcmVtZW50SGludFwiLFxuICAgICAgICAgICAgYWN0aW9uczogW1wiaW5jcmVtZW50XCIsIFwic2V0Q3Vyc29yUG9pbnRcIl1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGd1YXJkOiBcImlzRGVjcmVtZW50SGludFwiLFxuICAgICAgICAgICAgYWN0aW9uczogW1wiZGVjcmVtZW50XCIsIFwic2V0Q3Vyc29yUG9pbnRcIl1cbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGltcGxlbWVudGF0aW9uczoge1xuICAgIGd1YXJkczoge1xuICAgICAgY2xhbXBWYWx1ZU9uQmx1cjogKHsgcHJvcCB9KSA9PiBwcm9wKFwiY2xhbXBWYWx1ZU9uQmx1clwiKSxcbiAgICAgIHNwaW5PblByZXNzOiAoeyBwcm9wIH0pID0+ICEhcHJvcChcInNwaW5PblByZXNzXCIpLFxuICAgICAgaXNJblJhbmdlOiAoeyBjb21wdXRlZCB9KSA9PiAhY29tcHV0ZWQoXCJpc091dE9mUmFuZ2VcIiksXG4gICAgICBpc0RlY3JlbWVudEhpbnQ6ICh7IGNvbnRleHQsIGV2ZW50IH0pID0+IChldmVudC5oaW50ID8/IGNvbnRleHQuZ2V0KFwiaGludFwiKSkgPT09IFwiZGVjcmVtZW50XCIsXG4gICAgICBpc0luY3JlbWVudEhpbnQ6ICh7IGNvbnRleHQsIGV2ZW50IH0pID0+IChldmVudC5oaW50ID8/IGNvbnRleHQuZ2V0KFwiaGludFwiKSkgPT09IFwiaW5jcmVtZW50XCIsXG4gICAgICBpc1RvdWNoUG9pbnRlcjogKHsgZXZlbnQgfSkgPT4gZXZlbnQucG9pbnRlclR5cGUgPT09IFwidG91Y2hcIlxuICAgIH0sXG4gICAgZWZmZWN0czoge1xuICAgICAgd2FpdEZvckNoYW5nZURlbGF5KHsgc2VuZCB9KSB7XG4gICAgICAgIGNvbnN0IGlkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgc2VuZCh7IHR5cGU6IFwiQ0hBTkdFX0RFTEFZXCIgfSk7XG4gICAgICAgIH0sIDMwMCk7XG4gICAgICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQoaWQpO1xuICAgICAgfSxcbiAgICAgIHNwaW5WYWx1ZSh7IHNlbmQgfSkge1xuICAgICAgICBjb25zdCBpZCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICBzZW5kKHsgdHlwZTogXCJTUElOXCIgfSk7XG4gICAgICAgIH0sIDUwKTtcbiAgICAgICAgcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwoaWQpO1xuICAgICAgfSxcbiAgICAgIHRyYWNrRm9ybUNvbnRyb2woeyBjb250ZXh0LCBzY29wZSB9KSB7XG4gICAgICAgIGNvbnN0IGlucHV0RWwgPSBnZXRJbnB1dEVsKHNjb3BlKTtcbiAgICAgICAgcmV0dXJuIHRyYWNrRm9ybUNvbnRyb2woaW5wdXRFbCwge1xuICAgICAgICAgIG9uRmllbGRzZXREaXNhYmxlZENoYW5nZShkaXNhYmxlZCkge1xuICAgICAgICAgICAgY29udGV4dC5zZXQoXCJmaWVsZHNldERpc2FibGVkXCIsIGRpc2FibGVkKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uRm9ybVJlc2V0KCkge1xuICAgICAgICAgICAgY29udGV4dC5zZXQoXCJ2YWx1ZVwiLCBjb250ZXh0LmluaXRpYWwoXCJ2YWx1ZVwiKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBzZXR1cFZpcnR1YWxDdXJzb3IoeyBjb250ZXh0LCBzY29wZSB9KSB7XG4gICAgICAgIGNvbnN0IHBvaW50ID0gY29udGV4dC5nZXQoXCJzY3J1YmJlckN1cnNvclBvaW50XCIpO1xuICAgICAgICByZXR1cm4gc2V0dXBWaXJ0dWFsQ3Vyc29yKHNjb3BlLCBwb2ludCk7XG4gICAgICB9LFxuICAgICAgcHJldmVudFRleHRTZWxlY3Rpb24oeyBzY29wZSB9KSB7XG4gICAgICAgIHJldHVybiBwcmV2ZW50VGV4dFNlbGVjdGlvbihzY29wZSk7XG4gICAgICB9LFxuICAgICAgdHJhY2tCdXR0b25EaXNhYmxlZCh7IGNvbnRleHQsIHNjb3BlLCBzZW5kIH0pIHtcbiAgICAgICAgY29uc3QgaGludCA9IGNvbnRleHQuZ2V0KFwiaGludFwiKTtcbiAgICAgICAgY29uc3QgYnRuID0gZ2V0UHJlc3NlZFRyaWdnZXJFbChzY29wZSwgaGludCk7XG4gICAgICAgIHJldHVybiBvYnNlcnZlQXR0cmlidXRlcyhidG4sIHtcbiAgICAgICAgICBhdHRyaWJ1dGVzOiBbXCJkaXNhYmxlZFwiXSxcbiAgICAgICAgICBjYWxsYmFjaygpIHtcbiAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIlRSSUdHRVIuUFJFU1NfVVBcIiwgc3JjOiBcImF0dHJcIiB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGF0dGFjaFdoZWVsTGlzdGVuZXIoeyBzY29wZSwgc2VuZCwgcHJvcCB9KSB7XG4gICAgICAgIGNvbnN0IGlucHV0RWwgPSBnZXRJbnB1dEVsKHNjb3BlKTtcbiAgICAgICAgaWYgKCFpbnB1dEVsIHx8ICFzY29wZS5pc0FjdGl2ZUVsZW1lbnQoaW5wdXRFbCkgfHwgIXByb3AoXCJhbGxvd01vdXNlV2hlZWxcIikpIHJldHVybjtcbiAgICAgICAgZnVuY3Rpb24gb25XaGVlbChldmVudCkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgY29uc3QgZGlyID0gTWF0aC5zaWduKGV2ZW50LmRlbHRhWSkgKiAtMTtcbiAgICAgICAgICBpZiAoZGlyID09PSAxKSB7XG4gICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJWQUxVRS5JTkNSRU1FTlRcIiB9KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGRpciA9PT0gLTEpIHtcbiAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIlZBTFVFLkRFQ1JFTUVOVFwiIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWRkRG9tRXZlbnQoaW5wdXRFbCwgXCJ3aGVlbFwiLCBvbldoZWVsLCB7IHBhc3NpdmU6IGZhbHNlIH0pO1xuICAgICAgfSxcbiAgICAgIGFjdGl2YXRlUG9pbnRlckxvY2soeyBzY29wZSB9KSB7XG4gICAgICAgIGlmIChpc1NhZmFyaSgpKSByZXR1cm47XG4gICAgICAgIHJldHVybiByZXF1ZXN0UG9pbnRlckxvY2soc2NvcGUuZ2V0RG9jKCkpO1xuICAgICAgfSxcbiAgICAgIHRyYWNrTW91c2Vtb3ZlKHsgc2NvcGUsIHNlbmQsIGNvbnRleHQsIGNvbXB1dGVkIH0pIHtcbiAgICAgICAgY29uc3QgZG9jID0gc2NvcGUuZ2V0RG9jKCk7XG4gICAgICAgIGZ1bmN0aW9uIG9uTW91c2Vtb3ZlKGV2ZW50KSB7XG4gICAgICAgICAgY29uc3QgcG9pbnQgPSBjb250ZXh0LmdldChcInNjcnViYmVyQ3Vyc29yUG9pbnRcIik7XG4gICAgICAgICAgY29uc3QgaXNSdGwgPSBjb21wdXRlZChcImlzUnRsXCIpO1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gZ2V0TW91c2Vtb3ZlVmFsdWUoc2NvcGUsIHsgcG9pbnQsIGlzUnRsLCBldmVudCB9KTtcbiAgICAgICAgICBpZiAoIXZhbHVlLmhpbnQpIHJldHVybjtcbiAgICAgICAgICBzZW5kKHtcbiAgICAgICAgICAgIHR5cGU6IFwiU0NSVUJCRVIuUE9JTlRFUl9NT1ZFXCIsXG4gICAgICAgICAgICBoaW50OiB2YWx1ZS5oaW50LFxuICAgICAgICAgICAgcG9pbnQ6IHZhbHVlLnBvaW50XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gb25Nb3VzZXVwKCkge1xuICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIlNDUlVCQkVSLlBPSU5URVJfVVBcIiB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2FsbEFsbChhZGREb21FdmVudChkb2MsIFwibW91c2Vtb3ZlXCIsIG9uTW91c2Vtb3ZlLCBmYWxzZSksIGFkZERvbUV2ZW50KGRvYywgXCJtb3VzZXVwXCIsIG9uTW91c2V1cCwgZmFsc2UpKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGFjdGlvbnM6IHtcbiAgICAgIGZvY3VzSW5wdXQoeyBzY29wZSwgcHJvcCB9KSB7XG4gICAgICAgIGlmICghcHJvcChcImZvY3VzSW5wdXRPbkNoYW5nZVwiKSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBpbnB1dEVsID0gZ2V0SW5wdXRFbChzY29wZSk7XG4gICAgICAgIGlmIChzY29wZS5pc0FjdGl2ZUVsZW1lbnQoaW5wdXRFbCkpIHJldHVybjtcbiAgICAgICAgcmFmKCgpID0+IGlucHV0RWw/LmZvY3VzKHsgcHJldmVudFNjcm9sbDogdHJ1ZSB9KSk7XG4gICAgICB9LFxuICAgICAgaW5jcmVtZW50KHsgY29udGV4dCwgZXZlbnQsIHByb3AsIGNvbXB1dGVkIH0pIHtcbiAgICAgICAgbGV0IG5leHRWYWx1ZSA9IGluY3JlbWVudFZhbHVlKGNvbXB1dGVkKFwidmFsdWVBc051bWJlclwiKSwgZXZlbnQuc3RlcCA/PyBwcm9wKFwic3RlcFwiKSk7XG4gICAgICAgIGlmICghcHJvcChcImFsbG93T3ZlcmZsb3dcIikpIG5leHRWYWx1ZSA9IGNsYW1wVmFsdWUobmV4dFZhbHVlLCBwcm9wKFwibWluXCIpLCBwcm9wKFwibWF4XCIpKTtcbiAgICAgICAgY29udGV4dC5zZXQoXCJ2YWx1ZVwiLCBmb3JtYXRWYWx1ZShuZXh0VmFsdWUsIHsgY29tcHV0ZWQsIHByb3AgfSkpO1xuICAgICAgfSxcbiAgICAgIGRlY3JlbWVudCh7IGNvbnRleHQsIGV2ZW50LCBwcm9wLCBjb21wdXRlZCB9KSB7XG4gICAgICAgIGxldCBuZXh0VmFsdWUgPSBkZWNyZW1lbnRWYWx1ZShjb21wdXRlZChcInZhbHVlQXNOdW1iZXJcIiksIGV2ZW50LnN0ZXAgPz8gcHJvcChcInN0ZXBcIikpO1xuICAgICAgICBpZiAoIXByb3AoXCJhbGxvd092ZXJmbG93XCIpKSBuZXh0VmFsdWUgPSBjbGFtcFZhbHVlKG5leHRWYWx1ZSwgcHJvcChcIm1pblwiKSwgcHJvcChcIm1heFwiKSk7XG4gICAgICAgIGNvbnRleHQuc2V0KFwidmFsdWVcIiwgZm9ybWF0VmFsdWUobmV4dFZhbHVlLCB7IGNvbXB1dGVkLCBwcm9wIH0pKTtcbiAgICAgIH0sXG4gICAgICBzZXRDbGFtcGVkVmFsdWUoeyBjb250ZXh0LCBwcm9wLCBjb21wdXRlZCB9KSB7XG4gICAgICAgIGNvbnN0IG5leHRWYWx1ZSA9IGNsYW1wVmFsdWUoY29tcHV0ZWQoXCJ2YWx1ZUFzTnVtYmVyXCIpLCBwcm9wKFwibWluXCIpLCBwcm9wKFwibWF4XCIpKTtcbiAgICAgICAgY29udGV4dC5zZXQoXCJ2YWx1ZVwiLCBmb3JtYXRWYWx1ZShuZXh0VmFsdWUsIHsgY29tcHV0ZWQsIHByb3AgfSkpO1xuICAgICAgfSxcbiAgICAgIHNldFJhd1ZhbHVlKHsgY29udGV4dCwgZXZlbnQsIHByb3AsIGNvbXB1dGVkIH0pIHtcbiAgICAgICAgbGV0IG5leHRWYWx1ZSA9IHBhcnNlVmFsdWUoZXZlbnQudmFsdWUsIHsgY29tcHV0ZWQsIHByb3AgfSk7XG4gICAgICAgIGlmICghcHJvcChcImFsbG93T3ZlcmZsb3dcIikpIG5leHRWYWx1ZSA9IGNsYW1wVmFsdWUobmV4dFZhbHVlLCBwcm9wKFwibWluXCIpLCBwcm9wKFwibWF4XCIpKTtcbiAgICAgICAgY29udGV4dC5zZXQoXCJ2YWx1ZVwiLCBmb3JtYXRWYWx1ZShuZXh0VmFsdWUsIHsgY29tcHV0ZWQsIHByb3AgfSkpO1xuICAgICAgfSxcbiAgICAgIHNldFZhbHVlKHsgY29udGV4dCwgZXZlbnQgfSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGV2ZW50LnRhcmdldD8udmFsdWUgPz8gZXZlbnQudmFsdWU7XG4gICAgICAgIGNvbnRleHQuc2V0KFwidmFsdWVcIiwgdmFsdWUpO1xuICAgICAgfSxcbiAgICAgIGNsZWFyVmFsdWUoeyBjb250ZXh0IH0pIHtcbiAgICAgICAgY29udGV4dC5zZXQoXCJ2YWx1ZVwiLCBcIlwiKTtcbiAgICAgIH0sXG4gICAgICBpbmNyZW1lbnRUb01heCh7IGNvbnRleHQsIHByb3AsIGNvbXB1dGVkIH0pIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBmb3JtYXRWYWx1ZShwcm9wKFwibWF4XCIpLCB7IGNvbXB1dGVkLCBwcm9wIH0pO1xuICAgICAgICBjb250ZXh0LnNldChcInZhbHVlXCIsIHZhbHVlKTtcbiAgICAgIH0sXG4gICAgICBkZWNyZW1lbnRUb01pbih7IGNvbnRleHQsIHByb3AsIGNvbXB1dGVkIH0pIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBmb3JtYXRWYWx1ZShwcm9wKFwibWluXCIpLCB7IGNvbXB1dGVkLCBwcm9wIH0pO1xuICAgICAgICBjb250ZXh0LnNldChcInZhbHVlXCIsIHZhbHVlKTtcbiAgICAgIH0sXG4gICAgICBzZXRIaW50KHsgY29udGV4dCwgZXZlbnQgfSkge1xuICAgICAgICBjb250ZXh0LnNldChcImhpbnRcIiwgZXZlbnQuaGludCk7XG4gICAgICB9LFxuICAgICAgY2xlYXJIaW50KHsgY29udGV4dCB9KSB7XG4gICAgICAgIGNvbnRleHQuc2V0KFwiaGludFwiLCBudWxsKTtcbiAgICAgIH0sXG4gICAgICBpbnZva2VPbkZvY3VzKHsgY29tcHV0ZWQsIHByb3AgfSkge1xuICAgICAgICBwcm9wKFwib25Gb2N1c0NoYW5nZVwiKT8uKHtcbiAgICAgICAgICBmb2N1c2VkOiB0cnVlLFxuICAgICAgICAgIHZhbHVlOiBjb21wdXRlZChcImZvcm1hdHRlZFZhbHVlXCIpLFxuICAgICAgICAgIHZhbHVlQXNOdW1iZXI6IGNvbXB1dGVkKFwidmFsdWVBc051bWJlclwiKVxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBpbnZva2VPbkJsdXIoeyBjb21wdXRlZCwgcHJvcCB9KSB7XG4gICAgICAgIHByb3AoXCJvbkZvY3VzQ2hhbmdlXCIpPy4oe1xuICAgICAgICAgIGZvY3VzZWQ6IGZhbHNlLFxuICAgICAgICAgIHZhbHVlOiBjb21wdXRlZChcImZvcm1hdHRlZFZhbHVlXCIpLFxuICAgICAgICAgIHZhbHVlQXNOdW1iZXI6IGNvbXB1dGVkKFwidmFsdWVBc051bWJlclwiKVxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBpbnZva2VPbkludmFsaWQoeyBjb21wdXRlZCwgcHJvcCwgZXZlbnQgfSkge1xuICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gXCJJTlBVVC5DSEFOR0VcIikgcmV0dXJuO1xuICAgICAgICBjb25zdCByZWFzb24gPSBjb21wdXRlZChcInZhbHVlQXNOdW1iZXJcIikgPiBwcm9wKFwibWF4XCIpID8gXCJyYW5nZU92ZXJmbG93XCIgOiBcInJhbmdlVW5kZXJmbG93XCI7XG4gICAgICAgIHByb3AoXCJvblZhbHVlSW52YWxpZFwiKT8uKHtcbiAgICAgICAgICByZWFzb24sXG4gICAgICAgICAgdmFsdWU6IGNvbXB1dGVkKFwiZm9ybWF0dGVkVmFsdWVcIiksXG4gICAgICAgICAgdmFsdWVBc051bWJlcjogY29tcHV0ZWQoXCJ2YWx1ZUFzTnVtYmVyXCIpXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHN5bmNJbnB1dEVsZW1lbnQoeyBjb250ZXh0LCBldmVudCwgY29tcHV0ZWQsIHNjb3BlIH0pIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBldmVudC50eXBlLmVuZHNXaXRoKFwiQ0hBTkdFXCIpID8gY29udGV4dC5nZXQoXCJ2YWx1ZVwiKSA6IGNvbXB1dGVkKFwiZm9ybWF0dGVkVmFsdWVcIik7XG4gICAgICAgIGNvbnN0IGlucHV0RWwgPSBnZXRJbnB1dEVsKHNjb3BlKTtcbiAgICAgICAgY29uc3Qgc2VsID0gcmVjb3JkQ3Vyc29yKGlucHV0RWwpO1xuICAgICAgICByYWYoKCkgPT4ge1xuICAgICAgICAgIHNldEVsZW1lbnRWYWx1ZShpbnB1dEVsLCB2YWx1ZSk7XG4gICAgICAgICAgcmVzdG9yZUN1cnNvcihpbnB1dEVsLCBzZWwpO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBzZXRGb3JtYXR0ZWRWYWx1ZSh7IGNvbnRleHQsIGNvbXB1dGVkIH0pIHtcbiAgICAgICAgY29udGV4dC5zZXQoXCJ2YWx1ZVwiLCBjb21wdXRlZChcImZvcm1hdHRlZFZhbHVlXCIpKTtcbiAgICAgIH0sXG4gICAgICBzZXRDdXJzb3JQb2ludCh7IGNvbnRleHQsIGV2ZW50IH0pIHtcbiAgICAgICAgY29udGV4dC5zZXQoXCJzY3J1YmJlckN1cnNvclBvaW50XCIsIGV2ZW50LnBvaW50KTtcbiAgICAgIH0sXG4gICAgICBjbGVhckN1cnNvclBvaW50KHsgY29udGV4dCB9KSB7XG4gICAgICAgIGNvbnRleHQuc2V0KFwic2NydWJiZXJDdXJzb3JQb2ludFwiLCBudWxsKTtcbiAgICAgIH0sXG4gICAgICBzZXRWaXJ0dWFsQ3Vyc29yUG9zaXRpb24oeyBjb250ZXh0LCBzY29wZSB9KSB7XG4gICAgICAgIGNvbnN0IGN1cnNvckVsID0gZ2V0Q3Vyc29yRWwoc2NvcGUpO1xuICAgICAgICBjb25zdCBwb2ludCA9IGNvbnRleHQuZ2V0KFwic2NydWJiZXJDdXJzb3JQb2ludFwiKTtcbiAgICAgICAgaWYgKCFjdXJzb3JFbCB8fCAhcG9pbnQpIHJldHVybjtcbiAgICAgICAgY3Vyc29yRWwuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKCR7cG9pbnQueH1weCwgJHtwb2ludC55fXB4LCAwcHgpYDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0pO1xudmFyIHByb3BzID0gY3JlYXRlUHJvcHMoKShbXG4gIFwiYWxsb3dNb3VzZVdoZWVsXCIsXG4gIFwiYWxsb3dPdmVyZmxvd1wiLFxuICBcImNsYW1wVmFsdWVPbkJsdXJcIixcbiAgXCJkaXJcIixcbiAgXCJkaXNhYmxlZFwiLFxuICBcImZvY3VzSW5wdXRPbkNoYW5nZVwiLFxuICBcImZvcm1cIixcbiAgXCJmb3JtYXRPcHRpb25zXCIsXG4gIFwiZ2V0Um9vdE5vZGVcIixcbiAgXCJpZFwiLFxuICBcImlkc1wiLFxuICBcImlucHV0TW9kZVwiLFxuICBcImludmFsaWRcIixcbiAgXCJsb2NhbGVcIixcbiAgXCJtYXhcIixcbiAgXCJtaW5cIixcbiAgXCJuYW1lXCIsXG4gIFwib25Gb2N1c0NoYW5nZVwiLFxuICBcIm9uVmFsdWVDaGFuZ2VcIixcbiAgXCJvblZhbHVlSW52YWxpZFwiLFxuICBcInBhdHRlcm5cIixcbiAgXCJyZXF1aXJlZFwiLFxuICBcInJlYWRPbmx5XCIsXG4gIFwic3Bpbk9uUHJlc3NcIixcbiAgXCJzdGVwXCIsXG4gIFwidHJhbnNsYXRpb25zXCIsXG4gIFwidmFsdWVcIixcbiAgXCJkZWZhdWx0VmFsdWVcIlxuXSk7XG52YXIgc3BsaXRQcm9wcyA9IGNyZWF0ZVNwbGl0UHJvcHMocHJvcHMpO1xuXG5leHBvcnQgeyBhbmF0b215LCBjb25uZWN0LCBtYWNoaW5lLCBwcm9wcywgc3BsaXRQcm9wcyB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/@zag-js+number-input@1.21.7/node_modules/@zag-js/number-input/dist/index.mjs\n");

/***/ })

};
;