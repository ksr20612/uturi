"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@zag-js+slider@1.21.7";
exports.ids = ["vendor-chunks/@zag-js+slider@1.21.7"];
exports.modules = {

/***/ "(ssr)/../../node_modules/.pnpm/@zag-js+slider@1.21.7/node_modules/@zag-js/slider/dist/index.mjs":
/*!*************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@zag-js+slider@1.21.7/node_modules/@zag-js/slider/dist/index.mjs ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   anatomy: () => (/* binding */ anatomy),\n/* harmony export */   connect: () => (/* binding */ connect),\n/* harmony export */   machine: () => (/* binding */ machine),\n/* harmony export */   props: () => (/* binding */ props),\n/* harmony export */   splitProps: () => (/* binding */ splitProps),\n/* harmony export */   splitThumbProps: () => (/* binding */ splitThumbProps),\n/* harmony export */   thumbProps: () => (/* binding */ thumbProps)\n/* harmony export */ });\n/* harmony import */ var _zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/anatomy */ \"(ssr)/../../node_modules/.pnpm/@zag-js+anatomy@1.21.7/node_modules/@zag-js/anatomy/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zag-js/dom-query */ \"(ssr)/../../node_modules/.pnpm/@zag-js+dom-query@1.21.7/node_modules/@zag-js/dom-query/dist/index.mjs\");\n/* harmony import */ var _zag_js_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zag-js/utils */ \"(ssr)/../../node_modules/.pnpm/@zag-js+utils@1.21.7/node_modules/@zag-js/utils/dist/index.mjs\");\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/../../node_modules/.pnpm/@zag-js+core@1.21.7/node_modules/@zag-js/core/dist/index.mjs\");\n/* harmony import */ var _zag_js_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @zag-js/types */ \"(ssr)/../../node_modules/.pnpm/@zag-js+types@1.21.7/node_modules/@zag-js/types/dist/index.mjs\");\n\n\n\n\n\n\n// src/slider.anatomy.ts\nvar anatomy = (0,_zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__.createAnatomy)(\"slider\").parts(\n  \"root\",\n  \"label\",\n  \"thumb\",\n  \"valueText\",\n  \"track\",\n  \"range\",\n  \"control\",\n  \"markerGroup\",\n  \"marker\",\n  \"draggingIndicator\"\n);\nvar parts = anatomy.build();\nvar getRootId = (ctx) => ctx.ids?.root ?? `slider:${ctx.id}`;\nvar getThumbId = (ctx, index) => ctx.ids?.thumb?.(index) ?? `slider:${ctx.id}:thumb:${index}`;\nvar getHiddenInputId = (ctx, index) => ctx.ids?.hiddenInput?.(index) ?? `slider:${ctx.id}:input:${index}`;\nvar getControlId = (ctx) => ctx.ids?.control ?? `slider:${ctx.id}:control`;\nvar getTrackId = (ctx) => ctx.ids?.track ?? `slider:${ctx.id}:track`;\nvar getRangeId = (ctx) => ctx.ids?.range ?? `slider:${ctx.id}:range`;\nvar getLabelId = (ctx) => ctx.ids?.label ?? `slider:${ctx.id}:label`;\nvar getValueTextId = (ctx) => ctx.ids?.valueText ?? `slider:${ctx.id}:value-text`;\nvar getMarkerId = (ctx, value) => ctx.ids?.marker?.(value) ?? `slider:${ctx.id}:marker:${value}`;\nvar getRootEl = (ctx) => ctx.getById(getRootId(ctx));\nvar getThumbEl = (ctx, index) => ctx.getById(getThumbId(ctx, index));\nvar getThumbEls = (ctx) => (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.queryAll)(getControlEl(ctx), \"[role=slider]\");\nvar getFirstThumbEl = (ctx) => getThumbEls(ctx)[0];\nvar getHiddenInputEl = (ctx, index) => ctx.getById(getHiddenInputId(ctx, index));\nvar getControlEl = (ctx) => ctx.getById(getControlId(ctx));\nvar getPointValue = (params, point) => {\n  const { prop, scope } = params;\n  const controlEl = getControlEl(scope);\n  if (!controlEl) return;\n  const relativePoint = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.getRelativePoint)(point, controlEl);\n  const percent = relativePoint.getPercentValue({\n    orientation: prop(\"orientation\"),\n    dir: prop(\"dir\"),\n    inverted: { y: true }\n  });\n  return (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.getPercentValue)(percent, prop(\"min\"), prop(\"max\"), prop(\"step\"));\n};\nvar dispatchChangeEvent = (ctx, value) => {\n  value.forEach((value2, index) => {\n    const inputEl = getHiddenInputEl(ctx, index);\n    if (!inputEl) return;\n    (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dispatchInputValueEvent)(inputEl, { value: value2 });\n  });\n};\nvar getOffsetRect = (el) => ({\n  left: el?.offsetLeft ?? 0,\n  top: el?.offsetTop ?? 0,\n  width: el?.offsetWidth ?? 0,\n  height: el?.offsetHeight ?? 0\n});\nfunction getBounds(value) {\n  const firstValue = value[0];\n  const lastThumb = value[value.length - 1];\n  return [firstValue, lastThumb];\n}\nfunction getRangeOffsets(params) {\n  const { prop, computed } = params;\n  const valuePercent = computed(\"valuePercent\");\n  const [firstPercent, lastPercent] = getBounds(valuePercent);\n  if (valuePercent.length === 1) {\n    if (prop(\"origin\") === \"center\") {\n      const isNegative = valuePercent[0] < 50;\n      const start = isNegative ? `${valuePercent[0]}%` : \"50%\";\n      const end = isNegative ? \"50%\" : `${100 - valuePercent[0]}%`;\n      return { start, end };\n    }\n    if (prop(\"origin\") === \"end\") {\n      return { start: `${lastPercent}%`, end: \"0%\" };\n    }\n    return { start: \"0%\", end: `${100 - lastPercent}%` };\n  }\n  return { start: `${firstPercent}%`, end: `${100 - lastPercent}%` };\n}\nfunction getRangeStyle(params) {\n  const { computed } = params;\n  const isVertical = computed(\"isVertical\");\n  const isRtl = computed(\"isRtl\");\n  if (isVertical) {\n    return {\n      position: \"absolute\",\n      bottom: \"var(--slider-range-start)\",\n      top: \"var(--slider-range-end)\"\n    };\n  }\n  return {\n    position: \"absolute\",\n    [isRtl ? \"right\" : \"left\"]: \"var(--slider-range-start)\",\n    [isRtl ? \"left\" : \"right\"]: \"var(--slider-range-end)\"\n  };\n}\nfunction getVerticalThumbOffset(params, value) {\n  const { context, prop } = params;\n  const { height = 0 } = context.get(\"thumbSize\") ?? {};\n  const getValue = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.getValueTransformer)([prop(\"min\"), prop(\"max\")], [-height / 2, height / 2]);\n  return parseFloat(getValue(value).toFixed(2));\n}\nfunction getHorizontalThumbOffset(params, value) {\n  const { computed, context, prop } = params;\n  const { width = 0 } = context.get(\"thumbSize\") ?? {};\n  const isRtl = computed(\"isRtl\");\n  if (isRtl) {\n    const getValue2 = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.getValueTransformer)([prop(\"max\"), prop(\"min\")], [-width / 2, width / 2]);\n    return -1 * parseFloat(getValue2(value).toFixed(2));\n  }\n  const getValue = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.getValueTransformer)([prop(\"min\"), prop(\"max\")], [-width / 2, width / 2]);\n  return parseFloat(getValue(value).toFixed(2));\n}\nfunction getOffset(params, percent, value) {\n  const { computed, prop } = params;\n  if (prop(\"thumbAlignment\") === \"center\") return `${percent}%`;\n  const offset = computed(\"isVertical\") ? getVerticalThumbOffset(params, value) : getHorizontalThumbOffset(params, value);\n  return `calc(${percent}% - ${offset}px)`;\n}\nfunction getThumbOffset(params, value) {\n  const { prop } = params;\n  const percent = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.getValuePercent)(value, prop(\"min\"), prop(\"max\")) * 100;\n  return getOffset(params, percent, value);\n}\nfunction getVisibility(params) {\n  const { computed, prop } = params;\n  let visibility = \"visible\";\n  if (prop(\"thumbAlignment\") === \"contain\" && !computed(\"hasMeasuredThumbSize\")) {\n    visibility = \"hidden\";\n  }\n  return visibility;\n}\nfunction getThumbStyle(params, index) {\n  const { computed } = params;\n  const placementProp = computed(\"isVertical\") ? \"bottom\" : \"insetInlineStart\";\n  return {\n    visibility: getVisibility(params),\n    position: \"absolute\",\n    transform: \"var(--slider-thumb-transform)\",\n    [placementProp]: `var(--slider-thumb-offset-${index})`\n  };\n}\nfunction getControlStyle() {\n  return {\n    touchAction: \"none\",\n    userSelect: \"none\",\n    WebkitUserSelect: \"none\",\n    position: \"relative\"\n  };\n}\nfunction getRootStyle(params) {\n  const { context, computed } = params;\n  const isVertical = computed(\"isVertical\");\n  const isRtl = computed(\"isRtl\");\n  const range = getRangeOffsets(params);\n  const thumbSize = context.get(\"thumbSize\");\n  const offsetStyles = context.get(\"value\").reduce((styles, value, index) => {\n    const offset = getThumbOffset(params, value);\n    return { ...styles, [`--slider-thumb-offset-${index}`]: offset };\n  }, {});\n  return {\n    ...offsetStyles,\n    \"--slider-thumb-width\": (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.toPx)(thumbSize?.width),\n    \"--slider-thumb-height\": (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.toPx)(thumbSize?.height),\n    \"--slider-thumb-transform\": isVertical ? \"translateY(50%)\" : isRtl ? \"translateX(50%)\" : \"translateX(-50%)\",\n    \"--slider-range-start\": range.start,\n    \"--slider-range-end\": range.end\n  };\n}\nfunction getMarkerStyle(params, value) {\n  const { computed } = params;\n  const isHorizontal = computed(\"isHorizontal\");\n  const isRtl = computed(\"isRtl\");\n  return {\n    visibility: getVisibility(params),\n    position: \"absolute\",\n    pointerEvents: \"none\",\n    [isHorizontal ? \"insetInlineStart\" : \"bottom\"]: getThumbOffset(params, value),\n    translate: \"var(--tx) var(--ty)\",\n    \"--tx\": isHorizontal ? isRtl ? \"50%\" : \"-50%\" : \"0%\",\n    \"--ty\": !isHorizontal ? \"50%\" : \"0%\"\n  };\n}\nfunction getMarkerGroupStyle() {\n  return {\n    userSelect: \"none\",\n    WebkitUserSelect: \"none\",\n    pointerEvents: \"none\",\n    position: \"relative\"\n  };\n}\nfunction normalizeValues(params, nextValues) {\n  return nextValues.map((value, index) => {\n    return constrainValue(params, value, index);\n  });\n}\nfunction getRangeAtIndex(params, index) {\n  const { context, prop } = params;\n  const step = prop(\"step\") * prop(\"minStepsBetweenThumbs\");\n  return (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.getValueRanges)(context.get(\"value\"), prop(\"min\"), prop(\"max\"), step)[index];\n}\nfunction constrainValue(params, value, index) {\n  const { prop } = params;\n  const range = getRangeAtIndex(params, index);\n  const snapValue = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.snapValueToStep)(value, prop(\"min\"), prop(\"max\"), prop(\"step\"));\n  return (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.clampValue)(snapValue, range.min, range.max);\n}\nfunction decrement(params, index, step) {\n  const { context, prop } = params;\n  const idx = index ?? context.get(\"focusedIndex\");\n  const range = getRangeAtIndex(params, idx);\n  const nextValues = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.getPreviousStepValue)(idx, {\n    ...range,\n    step: step ?? prop(\"step\"),\n    values: context.get(\"value\")\n  });\n  nextValues[idx] = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.clampValue)(nextValues[idx], range.min, range.max);\n  return nextValues;\n}\nfunction increment(params, index, step) {\n  const { context, prop } = params;\n  const idx = index ?? context.get(\"focusedIndex\");\n  const range = getRangeAtIndex(params, idx);\n  const nextValues = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.getNextStepValue)(idx, {\n    ...range,\n    step: step ?? prop(\"step\"),\n    values: context.get(\"value\")\n  });\n  nextValues[idx] = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.clampValue)(nextValues[idx], range.min, range.max);\n  return nextValues;\n}\nfunction getClosestIndex(params, pointValue) {\n  const { context } = params;\n  return (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.getClosestValueIndex)(context.get(\"value\"), pointValue);\n}\n\n// src/slider.connect.ts\nfunction connect(service, normalize2) {\n  const { state, send, context, prop, computed, scope } = service;\n  const ariaLabel = prop(\"aria-label\");\n  const ariaLabelledBy = prop(\"aria-labelledby\");\n  const sliderValue = context.get(\"value\");\n  const focusedIndex = context.get(\"focusedIndex\");\n  const focused = state.matches(\"focus\");\n  const dragging = state.matches(\"dragging\");\n  const disabled = computed(\"isDisabled\");\n  const invalid = prop(\"invalid\");\n  const interactive = computed(\"isInteractive\");\n  const isHorizontal = prop(\"orientation\") === \"horizontal\";\n  const isVertical = prop(\"orientation\") === \"vertical\";\n  function getValuePercentFn(value) {\n    return (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.getValuePercent)(value, prop(\"min\"), prop(\"max\"));\n  }\n  function getPercentValueFn(percent) {\n    return (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.getPercentValue)(percent, prop(\"min\"), prop(\"max\"), prop(\"step\"));\n  }\n  return {\n    value: sliderValue,\n    dragging,\n    focused,\n    setValue(value) {\n      send({ type: \"SET_VALUE\", value });\n    },\n    getThumbValue(index) {\n      return sliderValue[index];\n    },\n    setThumbValue(index, value) {\n      send({ type: \"SET_VALUE\", index, value });\n    },\n    getValuePercent: getValuePercentFn,\n    getPercentValue: getPercentValueFn,\n    getThumbPercent(index) {\n      return getValuePercentFn(sliderValue[index]);\n    },\n    setThumbPercent(index, percent) {\n      const value = getPercentValueFn(percent);\n      send({ type: \"SET_VALUE\", index, value });\n    },\n    getThumbMin(index) {\n      return getRangeAtIndex(service, index).min;\n    },\n    getThumbMax(index) {\n      return getRangeAtIndex(service, index).max;\n    },\n    increment(index) {\n      send({ type: \"INCREMENT\", index });\n    },\n    decrement(index) {\n      send({ type: \"DECREMENT\", index });\n    },\n    focus() {\n      if (!interactive) return;\n      send({ type: \"FOCUS\", index: 0 });\n    },\n    getLabelProps() {\n      return normalize2.label({\n        ...parts.label.attrs,\n        dir: prop(\"dir\"),\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(disabled),\n        \"data-orientation\": prop(\"orientation\"),\n        \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(invalid),\n        \"data-dragging\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(dragging),\n        \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(focused),\n        id: getLabelId(scope),\n        htmlFor: getHiddenInputId(scope, 0),\n        onClick(event) {\n          if (!interactive) return;\n          event.preventDefault();\n          getFirstThumbEl(scope)?.focus();\n        },\n        style: {\n          userSelect: \"none\",\n          WebkitUserSelect: \"none\"\n        }\n      });\n    },\n    getRootProps() {\n      return normalize2.element({\n        ...parts.root.attrs,\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(disabled),\n        \"data-orientation\": prop(\"orientation\"),\n        \"data-dragging\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(dragging),\n        \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(invalid),\n        \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(focused),\n        id: getRootId(scope),\n        dir: prop(\"dir\"),\n        style: getRootStyle(service)\n      });\n    },\n    getValueTextProps() {\n      return normalize2.element({\n        ...parts.valueText.attrs,\n        dir: prop(\"dir\"),\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(disabled),\n        \"data-orientation\": prop(\"orientation\"),\n        \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(invalid),\n        \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(focused),\n        id: getValueTextId(scope)\n      });\n    },\n    getTrackProps() {\n      return normalize2.element({\n        ...parts.track.attrs,\n        dir: prop(\"dir\"),\n        id: getTrackId(scope),\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(disabled),\n        \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(invalid),\n        \"data-dragging\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(dragging),\n        \"data-orientation\": prop(\"orientation\"),\n        \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(focused),\n        style: { position: \"relative\" }\n      });\n    },\n    getThumbProps(props2) {\n      const { index = 0, name } = props2;\n      const value = sliderValue[index];\n      const range = getRangeAtIndex(service, index);\n      const valueText = prop(\"getAriaValueText\")?.({ value, index });\n      const _ariaLabel = Array.isArray(ariaLabel) ? ariaLabel[index] : ariaLabel;\n      const _ariaLabelledBy = Array.isArray(ariaLabelledBy) ? ariaLabelledBy[index] : ariaLabelledBy;\n      return normalize2.element({\n        ...parts.thumb.attrs,\n        dir: prop(\"dir\"),\n        \"data-index\": index,\n        \"data-name\": name,\n        id: getThumbId(scope, index),\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(disabled),\n        \"data-orientation\": prop(\"orientation\"),\n        \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(focused && focusedIndex === index),\n        \"data-dragging\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(dragging && focusedIndex === index),\n        draggable: false,\n        \"aria-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.ariaAttr)(disabled),\n        \"aria-label\": _ariaLabel,\n        \"aria-labelledby\": _ariaLabelledBy ?? getLabelId(scope),\n        \"aria-orientation\": prop(\"orientation\"),\n        \"aria-valuemax\": range.max,\n        \"aria-valuemin\": range.min,\n        \"aria-valuenow\": sliderValue[index],\n        \"aria-valuetext\": valueText,\n        role: \"slider\",\n        tabIndex: disabled ? void 0 : 0,\n        style: getThumbStyle(service, index),\n        onPointerDown(event) {\n          if (!interactive) return;\n          if (!(0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.isLeftClick)(event)) return;\n          send({ type: \"THUMB_POINTER_DOWN\", index });\n          event.stopPropagation();\n        },\n        onBlur() {\n          if (!interactive) return;\n          send({ type: \"BLUR\" });\n        },\n        onFocus() {\n          if (!interactive) return;\n          send({ type: \"FOCUS\", index });\n        },\n        onKeyDown(event) {\n          if (event.defaultPrevented) return;\n          if (!interactive) return;\n          const step = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.getEventStep)(event) * prop(\"step\");\n          const keyMap = {\n            ArrowUp() {\n              if (isHorizontal) return;\n              send({ type: \"ARROW_INC\", step, src: \"ArrowUp\" });\n            },\n            ArrowDown() {\n              if (isHorizontal) return;\n              send({ type: \"ARROW_DEC\", step, src: \"ArrowDown\" });\n            },\n            ArrowLeft() {\n              if (isVertical) return;\n              send({ type: \"ARROW_DEC\", step, src: \"ArrowLeft\" });\n            },\n            ArrowRight() {\n              if (isVertical) return;\n              send({ type: \"ARROW_INC\", step, src: \"ArrowRight\" });\n            },\n            PageUp() {\n              send({ type: \"ARROW_INC\", step, src: \"PageUp\" });\n            },\n            PageDown() {\n              send({ type: \"ARROW_DEC\", step, src: \"PageDown\" });\n            },\n            Home() {\n              send({ type: \"HOME\" });\n            },\n            End() {\n              send({ type: \"END\" });\n            }\n          };\n          const key = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.getEventKey)(event, {\n            dir: prop(\"dir\"),\n            orientation: prop(\"orientation\")\n          });\n          const exec = keyMap[key];\n          if (exec) {\n            exec(event);\n            event.preventDefault();\n            event.stopPropagation();\n          }\n        }\n      });\n    },\n    getHiddenInputProps(props2) {\n      const { index = 0, name } = props2;\n      return normalize2.input({\n        name: name ?? (prop(\"name\") ? prop(\"name\") + (sliderValue.length > 1 ? \"[]\" : \"\") : void 0),\n        form: prop(\"form\"),\n        type: \"text\",\n        hidden: true,\n        defaultValue: sliderValue[index],\n        id: getHiddenInputId(scope, index)\n      });\n    },\n    getRangeProps() {\n      return normalize2.element({\n        id: getRangeId(scope),\n        ...parts.range.attrs,\n        dir: prop(\"dir\"),\n        \"data-dragging\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(dragging),\n        \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(focused),\n        \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(invalid),\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(disabled),\n        \"data-orientation\": prop(\"orientation\"),\n        style: getRangeStyle(service)\n      });\n    },\n    getControlProps() {\n      return normalize2.element({\n        ...parts.control.attrs,\n        dir: prop(\"dir\"),\n        id: getControlId(scope),\n        \"data-dragging\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(dragging),\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(disabled),\n        \"data-orientation\": prop(\"orientation\"),\n        \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(invalid),\n        \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(focused),\n        style: getControlStyle(),\n        onPointerDown(event) {\n          if (!interactive) return;\n          if (!(0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.isLeftClick)(event)) return;\n          if ((0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.isModifierKey)(event)) return;\n          const point = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.getEventPoint)(event);\n          send({ type: \"POINTER_DOWN\", point });\n          event.preventDefault();\n          event.stopPropagation();\n        }\n      });\n    },\n    getMarkerGroupProps() {\n      return normalize2.element({\n        ...parts.markerGroup.attrs,\n        role: \"presentation\",\n        dir: prop(\"dir\"),\n        \"aria-hidden\": true,\n        \"data-orientation\": prop(\"orientation\"),\n        style: getMarkerGroupStyle()\n      });\n    },\n    getMarkerProps(props2) {\n      const style = getMarkerStyle(service, props2.value);\n      let markerState;\n      if (props2.value < (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.first)(sliderValue)) {\n        markerState = \"under-value\";\n      } else if (props2.value > (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.last)(sliderValue)) {\n        markerState = \"over-value\";\n      } else {\n        markerState = \"at-value\";\n      }\n      return normalize2.element({\n        ...parts.marker.attrs,\n        id: getMarkerId(scope, props2.value),\n        role: \"presentation\",\n        dir: prop(\"dir\"),\n        \"data-orientation\": prop(\"orientation\"),\n        \"data-value\": props2.value,\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(disabled),\n        \"data-state\": markerState,\n        style\n      });\n    },\n    getDraggingIndicatorProps(props2) {\n      const { index = 0 } = props2;\n      const isDragging = index === focusedIndex && dragging;\n      return normalize2.element({\n        ...parts.draggingIndicator.attrs,\n        role: \"presentation\",\n        dir: prop(\"dir\"),\n        hidden: !isDragging,\n        \"data-orientation\": prop(\"orientation\"),\n        \"data-state\": isDragging ? \"open\" : \"closed\",\n        style: getThumbStyle(service, index)\n      });\n    }\n  };\n}\nvar isEqualSize = (a, b) => {\n  return a?.width === b?.width && a?.height === b?.height;\n};\nvar normalize = (value, min, max, step, minStepsBetweenThumbs) => {\n  const ranges = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.getValueRanges)(value, min, max, minStepsBetweenThumbs * step);\n  return ranges.map((range) => {\n    const snapValue = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.snapValueToStep)(range.value, range.min, range.max, step);\n    const rangeValue = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.clampValue)(snapValue, range.min, range.max);\n    if (!(0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.isValueWithinRange)(rangeValue, min, max)) {\n      throw new Error(\n        \"[zag-js/slider] The configured `min`, `max`, `step` or `minStepsBetweenThumbs` values are invalid\"\n      );\n    }\n    return rangeValue;\n  });\n};\nvar machine = (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_3__.createMachine)({\n  props({ props: props2 }) {\n    const min = props2.min ?? 0;\n    const max = props2.max ?? 100;\n    const step = props2.step ?? 1;\n    const defaultValue = props2.defaultValue ?? [min];\n    const minStepsBetweenThumbs = props2.minStepsBetweenThumbs ?? 0;\n    return {\n      dir: \"ltr\",\n      thumbAlignment: \"contain\",\n      origin: \"start\",\n      orientation: \"horizontal\",\n      minStepsBetweenThumbs,\n      ...props2,\n      defaultValue: normalize(defaultValue, min, max, step, minStepsBetweenThumbs),\n      value: props2.value ? normalize(props2.value, min, max, step, minStepsBetweenThumbs) : void 0,\n      max,\n      step,\n      min\n    };\n  },\n  initialState() {\n    return \"idle\";\n  },\n  context({ prop, bindable, getContext }) {\n    return {\n      thumbSize: bindable(() => ({\n        defaultValue: prop(\"thumbSize\") || null\n      })),\n      value: bindable(() => ({\n        defaultValue: prop(\"defaultValue\"),\n        value: prop(\"value\"),\n        isEqual: _zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.isEqual,\n        hash(a) {\n          return a.join(\",\");\n        },\n        onChange(value) {\n          prop(\"onValueChange\")?.({ value });\n        }\n      })),\n      focusedIndex: bindable(() => ({\n        defaultValue: -1,\n        onChange(value) {\n          const ctx = getContext();\n          prop(\"onFocusChange\")?.({ focusedIndex: value, value: ctx.get(\"value\") });\n        }\n      })),\n      fieldsetDisabled: bindable(() => ({\n        defaultValue: false\n      }))\n    };\n  },\n  computed: {\n    isHorizontal: ({ prop }) => prop(\"orientation\") === \"horizontal\",\n    isVertical: ({ prop }) => prop(\"orientation\") === \"vertical\",\n    isRtl: ({ prop }) => prop(\"orientation\") === \"horizontal\" && prop(\"dir\") === \"rtl\",\n    isDisabled: ({ context, prop }) => !!prop(\"disabled\") || context.get(\"fieldsetDisabled\"),\n    isInteractive: ({ prop, computed }) => !(prop(\"readOnly\") || computed(\"isDisabled\")),\n    hasMeasuredThumbSize: ({ context }) => context.get(\"thumbSize\") != null,\n    valuePercent({ context, prop }) {\n      return context.get(\"value\").map((value) => 100 * (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.getValuePercent)(value, prop(\"min\"), prop(\"max\")));\n    }\n  },\n  watch({ track, action, context }) {\n    track([() => context.hash(\"value\")], () => {\n      action([\"syncInputElements\", \"dispatchChangeEvent\"]);\n    });\n  },\n  effects: [\"trackFormControlState\", \"trackThumbSize\"],\n  on: {\n    SET_VALUE: [\n      {\n        guard: \"hasIndex\",\n        actions: [\"setValueAtIndex\"]\n      },\n      {\n        actions: [\"setValue\"]\n      }\n    ],\n    INCREMENT: {\n      actions: [\"incrementThumbAtIndex\"]\n    },\n    DECREMENT: {\n      actions: [\"decrementThumbAtIndex\"]\n    }\n  },\n  states: {\n    idle: {\n      on: {\n        POINTER_DOWN: {\n          target: \"dragging\",\n          actions: [\"setClosestThumbIndex\", \"setPointerValue\", \"focusActiveThumb\"]\n        },\n        FOCUS: {\n          target: \"focus\",\n          actions: [\"setFocusedIndex\"]\n        },\n        THUMB_POINTER_DOWN: {\n          target: \"dragging\",\n          actions: [\"setFocusedIndex\", \"focusActiveThumb\"]\n        }\n      }\n    },\n    focus: {\n      entry: [\"focusActiveThumb\"],\n      on: {\n        POINTER_DOWN: {\n          target: \"dragging\",\n          actions: [\"setClosestThumbIndex\", \"setPointerValue\", \"focusActiveThumb\"]\n        },\n        THUMB_POINTER_DOWN: {\n          target: \"dragging\",\n          actions: [\"setFocusedIndex\", \"focusActiveThumb\"]\n        },\n        ARROW_DEC: {\n          actions: [\"decrementThumbAtIndex\", \"invokeOnChangeEnd\"]\n        },\n        ARROW_INC: {\n          actions: [\"incrementThumbAtIndex\", \"invokeOnChangeEnd\"]\n        },\n        HOME: {\n          actions: [\"setFocusedThumbToMin\", \"invokeOnChangeEnd\"]\n        },\n        END: {\n          actions: [\"setFocusedThumbToMax\", \"invokeOnChangeEnd\"]\n        },\n        BLUR: {\n          target: \"idle\",\n          actions: [\"clearFocusedIndex\"]\n        }\n      }\n    },\n    dragging: {\n      entry: [\"focusActiveThumb\"],\n      effects: [\"trackPointerMove\"],\n      on: {\n        POINTER_UP: {\n          target: \"focus\",\n          actions: [\"invokeOnChangeEnd\"]\n        },\n        POINTER_MOVE: {\n          actions: [\"setPointerValue\"]\n        }\n      }\n    }\n  },\n  implementations: {\n    guards: {\n      hasIndex: ({ event }) => event.index != null\n    },\n    effects: {\n      trackFormControlState({ context, scope }) {\n        return (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.trackFormControl)(getRootEl(scope), {\n          onFieldsetDisabledChange(disabled) {\n            context.set(\"fieldsetDisabled\", disabled);\n          },\n          onFormReset() {\n            context.set(\"value\", context.initial(\"value\"));\n          }\n        });\n      },\n      trackPointerMove({ scope, send }) {\n        return (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.trackPointerMove)(scope.getDoc(), {\n          onPointerMove(info) {\n            send({ type: \"POINTER_MOVE\", point: info.point });\n          },\n          onPointerUp() {\n            send({ type: \"POINTER_UP\" });\n          }\n        });\n      },\n      trackThumbSize({ context, scope, prop }) {\n        if (prop(\"thumbAlignment\") !== \"contain\" || prop(\"thumbSize\")) return;\n        return (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.trackElementRect)(getThumbEls(scope), {\n          box: \"border-box\",\n          measure(el) {\n            return getOffsetRect(el);\n          },\n          onEntry({ rects }) {\n            if (rects.length === 0) return;\n            const size = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.pick)(rects[0], [\"width\", \"height\"]);\n            if (isEqualSize(context.get(\"thumbSize\"), size)) return;\n            context.set(\"thumbSize\", size);\n          }\n        });\n      }\n    },\n    actions: {\n      dispatchChangeEvent({ context, scope }) {\n        dispatchChangeEvent(scope, context.get(\"value\"));\n      },\n      syncInputElements({ context, scope }) {\n        context.get(\"value\").forEach((value, index) => {\n          const inputEl = getHiddenInputEl(scope, index);\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.setElementValue)(inputEl, value.toString());\n        });\n      },\n      invokeOnChangeEnd({ prop, context }) {\n        queueMicrotask(() => {\n          prop(\"onValueChangeEnd\")?.({ value: context.get(\"value\") });\n        });\n      },\n      setClosestThumbIndex(params) {\n        const { context, event } = params;\n        const pointValue = getPointValue(params, event.point);\n        if (pointValue == null) return;\n        const focusedIndex = getClosestIndex(params, pointValue);\n        context.set(\"focusedIndex\", focusedIndex);\n      },\n      setFocusedIndex({ context, event }) {\n        context.set(\"focusedIndex\", event.index);\n      },\n      clearFocusedIndex({ context }) {\n        context.set(\"focusedIndex\", -1);\n      },\n      setPointerValue(params) {\n        queueMicrotask(() => {\n          const { context, event } = params;\n          const pointValue = getPointValue(params, event.point);\n          if (pointValue == null) return;\n          const focusedIndex = context.get(\"focusedIndex\");\n          const value = constrainValue(params, pointValue, focusedIndex);\n          context.set(\"value\", (prev) => (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.setValueAtIndex)(prev, focusedIndex, value));\n        });\n      },\n      focusActiveThumb({ scope, context }) {\n        (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {\n          const thumbEl = getThumbEl(scope, context.get(\"focusedIndex\"));\n          thumbEl?.focus({ preventScroll: true });\n        });\n      },\n      decrementThumbAtIndex(params) {\n        const { context, event } = params;\n        const value = decrement(params, event.index, event.step);\n        context.set(\"value\", value);\n      },\n      incrementThumbAtIndex(params) {\n        const { context, event } = params;\n        const value = increment(params, event.index, event.step);\n        context.set(\"value\", value);\n      },\n      setFocusedThumbToMin(params) {\n        const { context } = params;\n        const index = context.get(\"focusedIndex\");\n        const { min } = getRangeAtIndex(params, index);\n        context.set(\"value\", (prev) => (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.setValueAtIndex)(prev, index, min));\n      },\n      setFocusedThumbToMax(params) {\n        const { context } = params;\n        const index = context.get(\"focusedIndex\");\n        const { max } = getRangeAtIndex(params, index);\n        context.set(\"value\", (prev) => (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.setValueAtIndex)(prev, index, max));\n      },\n      setValueAtIndex(params) {\n        const { context, event } = params;\n        const value = constrainValue(params, event.value, event.index);\n        context.set(\"value\", (prev) => (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.setValueAtIndex)(prev, event.index, value));\n      },\n      setValue(params) {\n        const { context, event } = params;\n        const value = normalizeValues(params, event.value);\n        context.set(\"value\", value);\n      }\n    }\n  }\n});\nvar props = (0,_zag_js_types__WEBPACK_IMPORTED_MODULE_4__.createProps)()([\n  \"aria-label\",\n  \"aria-labelledby\",\n  \"dir\",\n  \"disabled\",\n  \"form\",\n  \"getAriaValueText\",\n  \"getRootNode\",\n  \"id\",\n  \"ids\",\n  \"invalid\",\n  \"max\",\n  \"min\",\n  \"minStepsBetweenThumbs\",\n  \"name\",\n  \"onFocusChange\",\n  \"onValueChange\",\n  \"onValueChangeEnd\",\n  \"orientation\",\n  \"origin\",\n  \"readOnly\",\n  \"step\",\n  \"thumbAlignment\",\n  \"thumbAlignment\",\n  \"thumbSize\",\n  \"value\",\n  \"defaultValue\"\n]);\nvar splitProps = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.createSplitProps)(props);\nvar thumbProps = (0,_zag_js_types__WEBPACK_IMPORTED_MODULE_4__.createProps)()([\"index\", \"name\"]);\nvar splitThumbProps = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.createSplitProps)(thumbProps);\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0B6YWctanMrc2xpZGVyQDEuMjEuNy9ub2RlX21vZHVsZXMvQHphZy1qcy9zbGlkZXIvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQWdEO0FBQzhNO0FBQzRCO0FBQzdPO0FBQ0Q7O0FBRTVDO0FBQ0EsY0FBYyw4REFBYTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsT0FBTztBQUMzRCxzRUFBc0UsT0FBTyxTQUFTLE1BQU07QUFDNUYsa0ZBQWtGLE9BQU8sU0FBUyxNQUFNO0FBQ3hHLDBEQUEwRCxPQUFPO0FBQ2pFLHNEQUFzRCxPQUFPO0FBQzdELHNEQUFzRCxPQUFPO0FBQzdELHNEQUFzRCxPQUFPO0FBQzdELDhEQUE4RCxPQUFPO0FBQ3JFLHdFQUF3RSxPQUFPLFVBQVUsTUFBTTtBQUMvRjtBQUNBO0FBQ0EsMkJBQTJCLDJEQUFRO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxjQUFjO0FBQ3hCO0FBQ0E7QUFDQSx3QkFBd0IsbUVBQWdCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQixHQUFHO0FBQ0gsU0FBUyw4REFBZTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSwwRUFBdUIsWUFBWSxlQUFlO0FBQ3RELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxpQkFBaUI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxnQkFBZ0I7QUFDcEQsMENBQTBDLHNCQUFzQjtBQUNoRSxlQUFlO0FBQ2Y7QUFDQTtBQUNBLGVBQWUsVUFBVSxZQUFZO0FBQ3JDO0FBQ0EsYUFBYSxxQkFBcUIsa0JBQWtCO0FBQ3BEO0FBQ0EsV0FB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsK0RBQWdCO0FBQ2pDLGlCQUFpQiwwREFBVztBQUM1QixzQkFBc0IsK0RBQWdCOztBQUUrQyIsInNvdXJjZXMiOlsid2VicGFjazovL0B1dHVyaS91dHVyaS8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHphZy1qcytzbGlkZXJAMS4yMS43L25vZGVfbW9kdWxlcy9AemFnLWpzL3NsaWRlci9kaXN0L2luZGV4Lm1qcz82Yzc2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUFuYXRvbXkgfSBmcm9tICdAemFnLWpzL2FuYXRvbXknO1xuaW1wb3J0IHsgcmFmLCBzZXRFbGVtZW50VmFsdWUsIHRyYWNrRWxlbWVudFJlY3QsIHF1ZXJ5QWxsLCB0cmFja1BvaW50ZXJNb3ZlLCB0cmFja0Zvcm1Db250cm9sLCBnZXRSZWxhdGl2ZVBvaW50LCBkaXNwYXRjaElucHV0VmFsdWVFdmVudCwgZGF0YUF0dHIsIGlzTGVmdENsaWNrLCBpc01vZGlmaWVyS2V5LCBnZXRFdmVudFBvaW50LCBhcmlhQXR0ciwgZ2V0RXZlbnRTdGVwLCBnZXRFdmVudEtleSB9IGZyb20gJ0B6YWctanMvZG9tLXF1ZXJ5JztcbmltcG9ydCB7IHNldFZhbHVlQXRJbmRleCwgcGljaywgZ2V0VmFsdWVQZXJjZW50LCBpc0VxdWFsLCBjcmVhdGVTcGxpdFByb3BzLCBzbmFwVmFsdWVUb1N0ZXAsIGNsYW1wVmFsdWUsIGdldFZhbHVlUmFuZ2VzLCBnZXROZXh0U3RlcFZhbHVlLCBnZXRQcmV2aW91c1N0ZXBWYWx1ZSwgZ2V0UGVyY2VudFZhbHVlLCBnZXRDbG9zZXN0VmFsdWVJbmRleCwgaXNWYWx1ZVdpdGhpblJhbmdlLCBmaXJzdCwgbGFzdCwgdG9QeCwgZ2V0VmFsdWVUcmFuc2Zvcm1lciB9IGZyb20gJ0B6YWctanMvdXRpbHMnO1xuaW1wb3J0IHsgY3JlYXRlTWFjaGluZSB9IGZyb20gJ0B6YWctanMvY29yZSc7XG5pbXBvcnQgeyBjcmVhdGVQcm9wcyB9IGZyb20gJ0B6YWctanMvdHlwZXMnO1xuXG4vLyBzcmMvc2xpZGVyLmFuYXRvbXkudHNcbnZhciBhbmF0b215ID0gY3JlYXRlQW5hdG9teShcInNsaWRlclwiKS5wYXJ0cyhcbiAgXCJyb290XCIsXG4gIFwibGFiZWxcIixcbiAgXCJ0aHVtYlwiLFxuICBcInZhbHVlVGV4dFwiLFxuICBcInRyYWNrXCIsXG4gIFwicmFuZ2VcIixcbiAgXCJjb250cm9sXCIsXG4gIFwibWFya2VyR3JvdXBcIixcbiAgXCJtYXJrZXJcIixcbiAgXCJkcmFnZ2luZ0luZGljYXRvclwiXG4pO1xudmFyIHBhcnRzID0gYW5hdG9teS5idWlsZCgpO1xudmFyIGdldFJvb3RJZCA9IChjdHgpID0+IGN0eC5pZHM/LnJvb3QgPz8gYHNsaWRlcjoke2N0eC5pZH1gO1xudmFyIGdldFRodW1iSWQgPSAoY3R4LCBpbmRleCkgPT4gY3R4Lmlkcz8udGh1bWI/LihpbmRleCkgPz8gYHNsaWRlcjoke2N0eC5pZH06dGh1bWI6JHtpbmRleH1gO1xudmFyIGdldEhpZGRlbklucHV0SWQgPSAoY3R4LCBpbmRleCkgPT4gY3R4Lmlkcz8uaGlkZGVuSW5wdXQ/LihpbmRleCkgPz8gYHNsaWRlcjoke2N0eC5pZH06aW5wdXQ6JHtpbmRleH1gO1xudmFyIGdldENvbnRyb2xJZCA9IChjdHgpID0+IGN0eC5pZHM/LmNvbnRyb2wgPz8gYHNsaWRlcjoke2N0eC5pZH06Y29udHJvbGA7XG52YXIgZ2V0VHJhY2tJZCA9IChjdHgpID0+IGN0eC5pZHM/LnRyYWNrID8/IGBzbGlkZXI6JHtjdHguaWR9OnRyYWNrYDtcbnZhciBnZXRSYW5nZUlkID0gKGN0eCkgPT4gY3R4Lmlkcz8ucmFuZ2UgPz8gYHNsaWRlcjoke2N0eC5pZH06cmFuZ2VgO1xudmFyIGdldExhYmVsSWQgPSAoY3R4KSA9PiBjdHguaWRzPy5sYWJlbCA/PyBgc2xpZGVyOiR7Y3R4LmlkfTpsYWJlbGA7XG52YXIgZ2V0VmFsdWVUZXh0SWQgPSAoY3R4KSA9PiBjdHguaWRzPy52YWx1ZVRleHQgPz8gYHNsaWRlcjoke2N0eC5pZH06dmFsdWUtdGV4dGA7XG52YXIgZ2V0TWFya2VySWQgPSAoY3R4LCB2YWx1ZSkgPT4gY3R4Lmlkcz8ubWFya2VyPy4odmFsdWUpID8/IGBzbGlkZXI6JHtjdHguaWR9Om1hcmtlcjoke3ZhbHVlfWA7XG52YXIgZ2V0Um9vdEVsID0gKGN0eCkgPT4gY3R4LmdldEJ5SWQoZ2V0Um9vdElkKGN0eCkpO1xudmFyIGdldFRodW1iRWwgPSAoY3R4LCBpbmRleCkgPT4gY3R4LmdldEJ5SWQoZ2V0VGh1bWJJZChjdHgsIGluZGV4KSk7XG52YXIgZ2V0VGh1bWJFbHMgPSAoY3R4KSA9PiBxdWVyeUFsbChnZXRDb250cm9sRWwoY3R4KSwgXCJbcm9sZT1zbGlkZXJdXCIpO1xudmFyIGdldEZpcnN0VGh1bWJFbCA9IChjdHgpID0+IGdldFRodW1iRWxzKGN0eClbMF07XG52YXIgZ2V0SGlkZGVuSW5wdXRFbCA9IChjdHgsIGluZGV4KSA9PiBjdHguZ2V0QnlJZChnZXRIaWRkZW5JbnB1dElkKGN0eCwgaW5kZXgpKTtcbnZhciBnZXRDb250cm9sRWwgPSAoY3R4KSA9PiBjdHguZ2V0QnlJZChnZXRDb250cm9sSWQoY3R4KSk7XG52YXIgZ2V0UG9pbnRWYWx1ZSA9IChwYXJhbXMsIHBvaW50KSA9PiB7XG4gIGNvbnN0IHsgcHJvcCwgc2NvcGUgfSA9IHBhcmFtcztcbiAgY29uc3QgY29udHJvbEVsID0gZ2V0Q29udHJvbEVsKHNjb3BlKTtcbiAgaWYgKCFjb250cm9sRWwpIHJldHVybjtcbiAgY29uc3QgcmVsYXRpdmVQb2ludCA9IGdldFJlbGF0aXZlUG9pbnQocG9pbnQsIGNvbnRyb2xFbCk7XG4gIGNvbnN0IHBlcmNlbnQgPSByZWxhdGl2ZVBvaW50LmdldFBlcmNlbnRWYWx1ZSh7XG4gICAgb3JpZW50YXRpb246IHByb3AoXCJvcmllbnRhdGlvblwiKSxcbiAgICBkaXI6IHByb3AoXCJkaXJcIiksXG4gICAgaW52ZXJ0ZWQ6IHsgeTogdHJ1ZSB9XG4gIH0pO1xuICByZXR1cm4gZ2V0UGVyY2VudFZhbHVlKHBlcmNlbnQsIHByb3AoXCJtaW5cIiksIHByb3AoXCJtYXhcIiksIHByb3AoXCJzdGVwXCIpKTtcbn07XG52YXIgZGlzcGF0Y2hDaGFuZ2VFdmVudCA9IChjdHgsIHZhbHVlKSA9PiB7XG4gIHZhbHVlLmZvckVhY2goKHZhbHVlMiwgaW5kZXgpID0+IHtcbiAgICBjb25zdCBpbnB1dEVsID0gZ2V0SGlkZGVuSW5wdXRFbChjdHgsIGluZGV4KTtcbiAgICBpZiAoIWlucHV0RWwpIHJldHVybjtcbiAgICBkaXNwYXRjaElucHV0VmFsdWVFdmVudChpbnB1dEVsLCB7IHZhbHVlOiB2YWx1ZTIgfSk7XG4gIH0pO1xufTtcbnZhciBnZXRPZmZzZXRSZWN0ID0gKGVsKSA9PiAoe1xuICBsZWZ0OiBlbD8ub2Zmc2V0TGVmdCA/PyAwLFxuICB0b3A6IGVsPy5vZmZzZXRUb3AgPz8gMCxcbiAgd2lkdGg6IGVsPy5vZmZzZXRXaWR0aCA/PyAwLFxuICBoZWlnaHQ6IGVsPy5vZmZzZXRIZWlnaHQgPz8gMFxufSk7XG5mdW5jdGlvbiBnZXRCb3VuZHModmFsdWUpIHtcbiAgY29uc3QgZmlyc3RWYWx1ZSA9IHZhbHVlWzBdO1xuICBjb25zdCBsYXN0VGh1bWIgPSB2YWx1ZVt2YWx1ZS5sZW5ndGggLSAxXTtcbiAgcmV0dXJuIFtmaXJzdFZhbHVlLCBsYXN0VGh1bWJdO1xufVxuZnVuY3Rpb24gZ2V0UmFuZ2VPZmZzZXRzKHBhcmFtcykge1xuICBjb25zdCB7IHByb3AsIGNvbXB1dGVkIH0gPSBwYXJhbXM7XG4gIGNvbnN0IHZhbHVlUGVyY2VudCA9IGNvbXB1dGVkKFwidmFsdWVQZXJjZW50XCIpO1xuICBjb25zdCBbZmlyc3RQZXJjZW50LCBsYXN0UGVyY2VudF0gPSBnZXRCb3VuZHModmFsdWVQZXJjZW50KTtcbiAgaWYgKHZhbHVlUGVyY2VudC5sZW5ndGggPT09IDEpIHtcbiAgICBpZiAocHJvcChcIm9yaWdpblwiKSA9PT0gXCJjZW50ZXJcIikge1xuICAgICAgY29uc3QgaXNOZWdhdGl2ZSA9IHZhbHVlUGVyY2VudFswXSA8IDUwO1xuICAgICAgY29uc3Qgc3RhcnQgPSBpc05lZ2F0aXZlID8gYCR7dmFsdWVQZXJjZW50WzBdfSVgIDogXCI1MCVcIjtcbiAgICAgIGNvbnN0IGVuZCA9IGlzTmVnYXRpdmUgPyBcIjUwJVwiIDogYCR7MTAwIC0gdmFsdWVQZXJjZW50WzBdfSVgO1xuICAgICAgcmV0dXJuIHsgc3RhcnQsIGVuZCB9O1xuICAgIH1cbiAgICBpZiAocHJvcChcIm9yaWdpblwiKSA9PT0gXCJlbmRcIikge1xuICAgICAgcmV0dXJuIHsgc3RhcnQ6IGAke2xhc3RQZXJjZW50fSVgLCBlbmQ6IFwiMCVcIiB9O1xuICAgIH1cbiAgICByZXR1cm4geyBzdGFydDogXCIwJVwiLCBlbmQ6IGAkezEwMCAtIGxhc3RQZXJjZW50fSVgIH07XG4gIH1cbiAgcmV0dXJuIHsgc3RhcnQ6IGAke2ZpcnN0UGVyY2VudH0lYCwgZW5kOiBgJHsxMDAgLSBsYXN0UGVyY2VudH0lYCB9O1xufVxuZnVuY3Rpb24gZ2V0UmFuZ2VTdHlsZShwYXJhbXMpIHtcbiAgY29uc3QgeyBjb21wdXRlZCB9ID0gcGFyYW1zO1xuICBjb25zdCBpc1ZlcnRpY2FsID0gY29tcHV0ZWQoXCJpc1ZlcnRpY2FsXCIpO1xuICBjb25zdCBpc1J0bCA9IGNvbXB1dGVkKFwiaXNSdGxcIik7XG4gIGlmIChpc1ZlcnRpY2FsKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICBib3R0b206IFwidmFyKC0tc2xpZGVyLXJhbmdlLXN0YXJ0KVwiLFxuICAgICAgdG9wOiBcInZhcigtLXNsaWRlci1yYW5nZS1lbmQpXCJcbiAgICB9O1xuICB9XG4gIHJldHVybiB7XG4gICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICBbaXNSdGwgPyBcInJpZ2h0XCIgOiBcImxlZnRcIl06IFwidmFyKC0tc2xpZGVyLXJhbmdlLXN0YXJ0KVwiLFxuICAgIFtpc1J0bCA/IFwibGVmdFwiIDogXCJyaWdodFwiXTogXCJ2YXIoLS1zbGlkZXItcmFuZ2UtZW5kKVwiXG4gIH07XG59XG5mdW5jdGlvbiBnZXRWZXJ0aWNhbFRodW1iT2Zmc2V0KHBhcmFtcywgdmFsdWUpIHtcbiAgY29uc3QgeyBjb250ZXh0LCBwcm9wIH0gPSBwYXJhbXM7XG4gIGNvbnN0IHsgaGVpZ2h0ID0gMCB9ID0gY29udGV4dC5nZXQoXCJ0aHVtYlNpemVcIikgPz8ge307XG4gIGNvbnN0IGdldFZhbHVlID0gZ2V0VmFsdWVUcmFuc2Zvcm1lcihbcHJvcChcIm1pblwiKSwgcHJvcChcIm1heFwiKV0sIFstaGVpZ2h0IC8gMiwgaGVpZ2h0IC8gMl0pO1xuICByZXR1cm4gcGFyc2VGbG9hdChnZXRWYWx1ZSh2YWx1ZSkudG9GaXhlZCgyKSk7XG59XG5mdW5jdGlvbiBnZXRIb3Jpem9udGFsVGh1bWJPZmZzZXQocGFyYW1zLCB2YWx1ZSkge1xuICBjb25zdCB7IGNvbXB1dGVkLCBjb250ZXh0LCBwcm9wIH0gPSBwYXJhbXM7XG4gIGNvbnN0IHsgd2lkdGggPSAwIH0gPSBjb250ZXh0LmdldChcInRodW1iU2l6ZVwiKSA/PyB7fTtcbiAgY29uc3QgaXNSdGwgPSBjb21wdXRlZChcImlzUnRsXCIpO1xuICBpZiAoaXNSdGwpIHtcbiAgICBjb25zdCBnZXRWYWx1ZTIgPSBnZXRWYWx1ZVRyYW5zZm9ybWVyKFtwcm9wKFwibWF4XCIpLCBwcm9wKFwibWluXCIpXSwgWy13aWR0aCAvIDIsIHdpZHRoIC8gMl0pO1xuICAgIHJldHVybiAtMSAqIHBhcnNlRmxvYXQoZ2V0VmFsdWUyKHZhbHVlKS50b0ZpeGVkKDIpKTtcbiAgfVxuICBjb25zdCBnZXRWYWx1ZSA9IGdldFZhbHVlVHJhbnNmb3JtZXIoW3Byb3AoXCJtaW5cIiksIHByb3AoXCJtYXhcIildLCBbLXdpZHRoIC8gMiwgd2lkdGggLyAyXSk7XG4gIHJldHVybiBwYXJzZUZsb2F0KGdldFZhbHVlKHZhbHVlKS50b0ZpeGVkKDIpKTtcbn1cbmZ1bmN0aW9uIGdldE9mZnNldChwYXJhbXMsIHBlcmNlbnQsIHZhbHVlKSB7XG4gIGNvbnN0IHsgY29tcHV0ZWQsIHByb3AgfSA9IHBhcmFtcztcbiAgaWYgKHByb3AoXCJ0aHVtYkFsaWdubWVudFwiKSA9PT0gXCJjZW50ZXJcIikgcmV0dXJuIGAke3BlcmNlbnR9JWA7XG4gIGNvbnN0IG9mZnNldCA9IGNvbXB1dGVkKFwiaXNWZXJ0aWNhbFwiKSA/IGdldFZlcnRpY2FsVGh1bWJPZmZzZXQocGFyYW1zLCB2YWx1ZSkgOiBnZXRIb3Jpem9udGFsVGh1bWJPZmZzZXQocGFyYW1zLCB2YWx1ZSk7XG4gIHJldHVybiBgY2FsYygke3BlcmNlbnR9JSAtICR7b2Zmc2V0fXB4KWA7XG59XG5mdW5jdGlvbiBnZXRUaHVtYk9mZnNldChwYXJhbXMsIHZhbHVlKSB7XG4gIGNvbnN0IHsgcHJvcCB9ID0gcGFyYW1zO1xuICBjb25zdCBwZXJjZW50ID0gZ2V0VmFsdWVQZXJjZW50KHZhbHVlLCBwcm9wKFwibWluXCIpLCBwcm9wKFwibWF4XCIpKSAqIDEwMDtcbiAgcmV0dXJuIGdldE9mZnNldChwYXJhbXMsIHBlcmNlbnQsIHZhbHVlKTtcbn1cbmZ1bmN0aW9uIGdldFZpc2liaWxpdHkocGFyYW1zKSB7XG4gIGNvbnN0IHsgY29tcHV0ZWQsIHByb3AgfSA9IHBhcmFtcztcbiAgbGV0IHZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgaWYgKHByb3AoXCJ0aHVtYkFsaWdubWVudFwiKSA9PT0gXCJjb250YWluXCIgJiYgIWNvbXB1dGVkKFwiaGFzTWVhc3VyZWRUaHVtYlNpemVcIikpIHtcbiAgICB2aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgfVxuICByZXR1cm4gdmlzaWJpbGl0eTtcbn1cbmZ1bmN0aW9uIGdldFRodW1iU3R5bGUocGFyYW1zLCBpbmRleCkge1xuICBjb25zdCB7IGNvbXB1dGVkIH0gPSBwYXJhbXM7XG4gIGNvbnN0IHBsYWNlbWVudFByb3AgPSBjb21wdXRlZChcImlzVmVydGljYWxcIikgPyBcImJvdHRvbVwiIDogXCJpbnNldElubGluZVN0YXJ0XCI7XG4gIHJldHVybiB7XG4gICAgdmlzaWJpbGl0eTogZ2V0VmlzaWJpbGl0eShwYXJhbXMpLFxuICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgdHJhbnNmb3JtOiBcInZhcigtLXNsaWRlci10aHVtYi10cmFuc2Zvcm0pXCIsXG4gICAgW3BsYWNlbWVudFByb3BdOiBgdmFyKC0tc2xpZGVyLXRodW1iLW9mZnNldC0ke2luZGV4fSlgXG4gIH07XG59XG5mdW5jdGlvbiBnZXRDb250cm9sU3R5bGUoKSB7XG4gIHJldHVybiB7XG4gICAgdG91Y2hBY3Rpb246IFwibm9uZVwiLFxuICAgIHVzZXJTZWxlY3Q6IFwibm9uZVwiLFxuICAgIFdlYmtpdFVzZXJTZWxlY3Q6IFwibm9uZVwiLFxuICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCJcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldFJvb3RTdHlsZShwYXJhbXMpIHtcbiAgY29uc3QgeyBjb250ZXh0LCBjb21wdXRlZCB9ID0gcGFyYW1zO1xuICBjb25zdCBpc1ZlcnRpY2FsID0gY29tcHV0ZWQoXCJpc1ZlcnRpY2FsXCIpO1xuICBjb25zdCBpc1J0bCA9IGNvbXB1dGVkKFwiaXNSdGxcIik7XG4gIGNvbnN0IHJhbmdlID0gZ2V0UmFuZ2VPZmZzZXRzKHBhcmFtcyk7XG4gIGNvbnN0IHRodW1iU2l6ZSA9IGNvbnRleHQuZ2V0KFwidGh1bWJTaXplXCIpO1xuICBjb25zdCBvZmZzZXRTdHlsZXMgPSBjb250ZXh0LmdldChcInZhbHVlXCIpLnJlZHVjZSgoc3R5bGVzLCB2YWx1ZSwgaW5kZXgpID0+IHtcbiAgICBjb25zdCBvZmZzZXQgPSBnZXRUaHVtYk9mZnNldChwYXJhbXMsIHZhbHVlKTtcbiAgICByZXR1cm4geyAuLi5zdHlsZXMsIFtgLS1zbGlkZXItdGh1bWItb2Zmc2V0LSR7aW5kZXh9YF06IG9mZnNldCB9O1xuICB9LCB7fSk7XG4gIHJldHVybiB7XG4gICAgLi4ub2Zmc2V0U3R5bGVzLFxuICAgIFwiLS1zbGlkZXItdGh1bWItd2lkdGhcIjogdG9QeCh0aHVtYlNpemU/LndpZHRoKSxcbiAgICBcIi0tc2xpZGVyLXRodW1iLWhlaWdodFwiOiB0b1B4KHRodW1iU2l6ZT8uaGVpZ2h0KSxcbiAgICBcIi0tc2xpZGVyLXRodW1iLXRyYW5zZm9ybVwiOiBpc1ZlcnRpY2FsID8gXCJ0cmFuc2xhdGVZKDUwJSlcIiA6IGlzUnRsID8gXCJ0cmFuc2xhdGVYKDUwJSlcIiA6IFwidHJhbnNsYXRlWCgtNTAlKVwiLFxuICAgIFwiLS1zbGlkZXItcmFuZ2Utc3RhcnRcIjogcmFuZ2Uuc3RhcnQsXG4gICAgXCItLXNsaWRlci1yYW5nZS1lbmRcIjogcmFuZ2UuZW5kXG4gIH07XG59XG5mdW5jdGlvbiBnZXRNYXJrZXJTdHlsZShwYXJhbXMsIHZhbHVlKSB7XG4gIGNvbnN0IHsgY29tcHV0ZWQgfSA9IHBhcmFtcztcbiAgY29uc3QgaXNIb3Jpem9udGFsID0gY29tcHV0ZWQoXCJpc0hvcml6b250YWxcIik7XG4gIGNvbnN0IGlzUnRsID0gY29tcHV0ZWQoXCJpc1J0bFwiKTtcbiAgcmV0dXJuIHtcbiAgICB2aXNpYmlsaXR5OiBnZXRWaXNpYmlsaXR5KHBhcmFtcyksXG4gICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICBwb2ludGVyRXZlbnRzOiBcIm5vbmVcIixcbiAgICBbaXNIb3Jpem9udGFsID8gXCJpbnNldElubGluZVN0YXJ0XCIgOiBcImJvdHRvbVwiXTogZ2V0VGh1bWJPZmZzZXQocGFyYW1zLCB2YWx1ZSksXG4gICAgdHJhbnNsYXRlOiBcInZhcigtLXR4KSB2YXIoLS10eSlcIixcbiAgICBcIi0tdHhcIjogaXNIb3Jpem9udGFsID8gaXNSdGwgPyBcIjUwJVwiIDogXCItNTAlXCIgOiBcIjAlXCIsXG4gICAgXCItLXR5XCI6ICFpc0hvcml6b250YWwgPyBcIjUwJVwiIDogXCIwJVwiXG4gIH07XG59XG5mdW5jdGlvbiBnZXRNYXJrZXJHcm91cFN0eWxlKCkge1xuICByZXR1cm4ge1xuICAgIHVzZXJTZWxlY3Q6IFwibm9uZVwiLFxuICAgIFdlYmtpdFVzZXJTZWxlY3Q6IFwibm9uZVwiLFxuICAgIHBvaW50ZXJFdmVudHM6IFwibm9uZVwiLFxuICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCJcbiAgfTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlcyhwYXJhbXMsIG5leHRWYWx1ZXMpIHtcbiAgcmV0dXJuIG5leHRWYWx1ZXMubWFwKCh2YWx1ZSwgaW5kZXgpID0+IHtcbiAgICByZXR1cm4gY29uc3RyYWluVmFsdWUocGFyYW1zLCB2YWx1ZSwgaW5kZXgpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGdldFJhbmdlQXRJbmRleChwYXJhbXMsIGluZGV4KSB7XG4gIGNvbnN0IHsgY29udGV4dCwgcHJvcCB9ID0gcGFyYW1zO1xuICBjb25zdCBzdGVwID0gcHJvcChcInN0ZXBcIikgKiBwcm9wKFwibWluU3RlcHNCZXR3ZWVuVGh1bWJzXCIpO1xuICByZXR1cm4gZ2V0VmFsdWVSYW5nZXMoY29udGV4dC5nZXQoXCJ2YWx1ZVwiKSwgcHJvcChcIm1pblwiKSwgcHJvcChcIm1heFwiKSwgc3RlcClbaW5kZXhdO1xufVxuZnVuY3Rpb24gY29uc3RyYWluVmFsdWUocGFyYW1zLCB2YWx1ZSwgaW5kZXgpIHtcbiAgY29uc3QgeyBwcm9wIH0gPSBwYXJhbXM7XG4gIGNvbnN0IHJhbmdlID0gZ2V0UmFuZ2VBdEluZGV4KHBhcmFtcywgaW5kZXgpO1xuICBjb25zdCBzbmFwVmFsdWUgPSBzbmFwVmFsdWVUb1N0ZXAodmFsdWUsIHByb3AoXCJtaW5cIiksIHByb3AoXCJtYXhcIiksIHByb3AoXCJzdGVwXCIpKTtcbiAgcmV0dXJuIGNsYW1wVmFsdWUoc25hcFZhbHVlLCByYW5nZS5taW4sIHJhbmdlLm1heCk7XG59XG5mdW5jdGlvbiBkZWNyZW1lbnQocGFyYW1zLCBpbmRleCwgc3RlcCkge1xuICBjb25zdCB7IGNvbnRleHQsIHByb3AgfSA9IHBhcmFtcztcbiAgY29uc3QgaWR4ID0gaW5kZXggPz8gY29udGV4dC5nZXQoXCJmb2N1c2VkSW5kZXhcIik7XG4gIGNvbnN0IHJhbmdlID0gZ2V0UmFuZ2VBdEluZGV4KHBhcmFtcywgaWR4KTtcbiAgY29uc3QgbmV4dFZhbHVlcyA9IGdldFByZXZpb3VzU3RlcFZhbHVlKGlkeCwge1xuICAgIC4uLnJhbmdlLFxuICAgIHN0ZXA6IHN0ZXAgPz8gcHJvcChcInN0ZXBcIiksXG4gICAgdmFsdWVzOiBjb250ZXh0LmdldChcInZhbHVlXCIpXG4gIH0pO1xuICBuZXh0VmFsdWVzW2lkeF0gPSBjbGFtcFZhbHVlKG5leHRWYWx1ZXNbaWR4XSwgcmFuZ2UubWluLCByYW5nZS5tYXgpO1xuICByZXR1cm4gbmV4dFZhbHVlcztcbn1cbmZ1bmN0aW9uIGluY3JlbWVudChwYXJhbXMsIGluZGV4LCBzdGVwKSB7XG4gIGNvbnN0IHsgY29udGV4dCwgcHJvcCB9ID0gcGFyYW1zO1xuICBjb25zdCBpZHggPSBpbmRleCA/PyBjb250ZXh0LmdldChcImZvY3VzZWRJbmRleFwiKTtcbiAgY29uc3QgcmFuZ2UgPSBnZXRSYW5nZUF0SW5kZXgocGFyYW1zLCBpZHgpO1xuICBjb25zdCBuZXh0VmFsdWVzID0gZ2V0TmV4dFN0ZXBWYWx1ZShpZHgsIHtcbiAgICAuLi5yYW5nZSxcbiAgICBzdGVwOiBzdGVwID8/IHByb3AoXCJzdGVwXCIpLFxuICAgIHZhbHVlczogY29udGV4dC5nZXQoXCJ2YWx1ZVwiKVxuICB9KTtcbiAgbmV4dFZhbHVlc1tpZHhdID0gY2xhbXBWYWx1ZShuZXh0VmFsdWVzW2lkeF0sIHJhbmdlLm1pbiwgcmFuZ2UubWF4KTtcbiAgcmV0dXJuIG5leHRWYWx1ZXM7XG59XG5mdW5jdGlvbiBnZXRDbG9zZXN0SW5kZXgocGFyYW1zLCBwb2ludFZhbHVlKSB7XG4gIGNvbnN0IHsgY29udGV4dCB9ID0gcGFyYW1zO1xuICByZXR1cm4gZ2V0Q2xvc2VzdFZhbHVlSW5kZXgoY29udGV4dC5nZXQoXCJ2YWx1ZVwiKSwgcG9pbnRWYWx1ZSk7XG59XG5cbi8vIHNyYy9zbGlkZXIuY29ubmVjdC50c1xuZnVuY3Rpb24gY29ubmVjdChzZXJ2aWNlLCBub3JtYWxpemUyKSB7XG4gIGNvbnN0IHsgc3RhdGUsIHNlbmQsIGNvbnRleHQsIHByb3AsIGNvbXB1dGVkLCBzY29wZSB9ID0gc2VydmljZTtcbiAgY29uc3QgYXJpYUxhYmVsID0gcHJvcChcImFyaWEtbGFiZWxcIik7XG4gIGNvbnN0IGFyaWFMYWJlbGxlZEJ5ID0gcHJvcChcImFyaWEtbGFiZWxsZWRieVwiKTtcbiAgY29uc3Qgc2xpZGVyVmFsdWUgPSBjb250ZXh0LmdldChcInZhbHVlXCIpO1xuICBjb25zdCBmb2N1c2VkSW5kZXggPSBjb250ZXh0LmdldChcImZvY3VzZWRJbmRleFwiKTtcbiAgY29uc3QgZm9jdXNlZCA9IHN0YXRlLm1hdGNoZXMoXCJmb2N1c1wiKTtcbiAgY29uc3QgZHJhZ2dpbmcgPSBzdGF0ZS5tYXRjaGVzKFwiZHJhZ2dpbmdcIik7XG4gIGNvbnN0IGRpc2FibGVkID0gY29tcHV0ZWQoXCJpc0Rpc2FibGVkXCIpO1xuICBjb25zdCBpbnZhbGlkID0gcHJvcChcImludmFsaWRcIik7XG4gIGNvbnN0IGludGVyYWN0aXZlID0gY29tcHV0ZWQoXCJpc0ludGVyYWN0aXZlXCIpO1xuICBjb25zdCBpc0hvcml6b250YWwgPSBwcm9wKFwib3JpZW50YXRpb25cIikgPT09IFwiaG9yaXpvbnRhbFwiO1xuICBjb25zdCBpc1ZlcnRpY2FsID0gcHJvcChcIm9yaWVudGF0aW9uXCIpID09PSBcInZlcnRpY2FsXCI7XG4gIGZ1bmN0aW9uIGdldFZhbHVlUGVyY2VudEZuKHZhbHVlKSB7XG4gICAgcmV0dXJuIGdldFZhbHVlUGVyY2VudCh2YWx1ZSwgcHJvcChcIm1pblwiKSwgcHJvcChcIm1heFwiKSk7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0UGVyY2VudFZhbHVlRm4ocGVyY2VudCkge1xuICAgIHJldHVybiBnZXRQZXJjZW50VmFsdWUocGVyY2VudCwgcHJvcChcIm1pblwiKSwgcHJvcChcIm1heFwiKSwgcHJvcChcInN0ZXBcIikpO1xuICB9XG4gIHJldHVybiB7XG4gICAgdmFsdWU6IHNsaWRlclZhbHVlLFxuICAgIGRyYWdnaW5nLFxuICAgIGZvY3VzZWQsXG4gICAgc2V0VmFsdWUodmFsdWUpIHtcbiAgICAgIHNlbmQoeyB0eXBlOiBcIlNFVF9WQUxVRVwiLCB2YWx1ZSB9KTtcbiAgICB9LFxuICAgIGdldFRodW1iVmFsdWUoaW5kZXgpIHtcbiAgICAgIHJldHVybiBzbGlkZXJWYWx1ZVtpbmRleF07XG4gICAgfSxcbiAgICBzZXRUaHVtYlZhbHVlKGluZGV4LCB2YWx1ZSkge1xuICAgICAgc2VuZCh7IHR5cGU6IFwiU0VUX1ZBTFVFXCIsIGluZGV4LCB2YWx1ZSB9KTtcbiAgICB9LFxuICAgIGdldFZhbHVlUGVyY2VudDogZ2V0VmFsdWVQZXJjZW50Rm4sXG4gICAgZ2V0UGVyY2VudFZhbHVlOiBnZXRQZXJjZW50VmFsdWVGbixcbiAgICBnZXRUaHVtYlBlcmNlbnQoaW5kZXgpIHtcbiAgICAgIHJldHVybiBnZXRWYWx1ZVBlcmNlbnRGbihzbGlkZXJWYWx1ZVtpbmRleF0pO1xuICAgIH0sXG4gICAgc2V0VGh1bWJQZXJjZW50KGluZGV4LCBwZXJjZW50KSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGdldFBlcmNlbnRWYWx1ZUZuKHBlcmNlbnQpO1xuICAgICAgc2VuZCh7IHR5cGU6IFwiU0VUX1ZBTFVFXCIsIGluZGV4LCB2YWx1ZSB9KTtcbiAgICB9LFxuICAgIGdldFRodW1iTWluKGluZGV4KSB7XG4gICAgICByZXR1cm4gZ2V0UmFuZ2VBdEluZGV4KHNlcnZpY2UsIGluZGV4KS5taW47XG4gICAgfSxcbiAgICBnZXRUaHVtYk1heChpbmRleCkge1xuICAgICAgcmV0dXJuIGdldFJhbmdlQXRJbmRleChzZXJ2aWNlLCBpbmRleCkubWF4O1xuICAgIH0sXG4gICAgaW5jcmVtZW50KGluZGV4KSB7XG4gICAgICBzZW5kKHsgdHlwZTogXCJJTkNSRU1FTlRcIiwgaW5kZXggfSk7XG4gICAgfSxcbiAgICBkZWNyZW1lbnQoaW5kZXgpIHtcbiAgICAgIHNlbmQoeyB0eXBlOiBcIkRFQ1JFTUVOVFwiLCBpbmRleCB9KTtcbiAgICB9LFxuICAgIGZvY3VzKCkge1xuICAgICAgaWYgKCFpbnRlcmFjdGl2ZSkgcmV0dXJuO1xuICAgICAgc2VuZCh7IHR5cGU6IFwiRk9DVVNcIiwgaW5kZXg6IDAgfSk7XG4gICAgfSxcbiAgICBnZXRMYWJlbFByb3BzKCkge1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZTIubGFiZWwoe1xuICAgICAgICAuLi5wYXJ0cy5sYWJlbC5hdHRycyxcbiAgICAgICAgZGlyOiBwcm9wKFwiZGlyXCIpLFxuICAgICAgICBcImRhdGEtZGlzYWJsZWRcIjogZGF0YUF0dHIoZGlzYWJsZWQpLFxuICAgICAgICBcImRhdGEtb3JpZW50YXRpb25cIjogcHJvcChcIm9yaWVudGF0aW9uXCIpLFxuICAgICAgICBcImRhdGEtaW52YWxpZFwiOiBkYXRhQXR0cihpbnZhbGlkKSxcbiAgICAgICAgXCJkYXRhLWRyYWdnaW5nXCI6IGRhdGFBdHRyKGRyYWdnaW5nKSxcbiAgICAgICAgXCJkYXRhLWZvY3VzXCI6IGRhdGFBdHRyKGZvY3VzZWQpLFxuICAgICAgICBpZDogZ2V0TGFiZWxJZChzY29wZSksXG4gICAgICAgIGh0bWxGb3I6IGdldEhpZGRlbklucHV0SWQoc2NvcGUsIDApLFxuICAgICAgICBvbkNsaWNrKGV2ZW50KSB7XG4gICAgICAgICAgaWYgKCFpbnRlcmFjdGl2ZSkgcmV0dXJuO1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZ2V0Rmlyc3RUaHVtYkVsKHNjb3BlKT8uZm9jdXMoKTtcbiAgICAgICAgfSxcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICB1c2VyU2VsZWN0OiBcIm5vbmVcIixcbiAgICAgICAgICBXZWJraXRVc2VyU2VsZWN0OiBcIm5vbmVcIlxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldFJvb3RQcm9wcygpIHtcbiAgICAgIHJldHVybiBub3JtYWxpemUyLmVsZW1lbnQoe1xuICAgICAgICAuLi5wYXJ0cy5yb290LmF0dHJzLFxuICAgICAgICBcImRhdGEtZGlzYWJsZWRcIjogZGF0YUF0dHIoZGlzYWJsZWQpLFxuICAgICAgICBcImRhdGEtb3JpZW50YXRpb25cIjogcHJvcChcIm9yaWVudGF0aW9uXCIpLFxuICAgICAgICBcImRhdGEtZHJhZ2dpbmdcIjogZGF0YUF0dHIoZHJhZ2dpbmcpLFxuICAgICAgICBcImRhdGEtaW52YWxpZFwiOiBkYXRhQXR0cihpbnZhbGlkKSxcbiAgICAgICAgXCJkYXRhLWZvY3VzXCI6IGRhdGFBdHRyKGZvY3VzZWQpLFxuICAgICAgICBpZDogZ2V0Um9vdElkKHNjb3BlKSxcbiAgICAgICAgZGlyOiBwcm9wKFwiZGlyXCIpLFxuICAgICAgICBzdHlsZTogZ2V0Um9vdFN0eWxlKHNlcnZpY2UpXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldFZhbHVlVGV4dFByb3BzKCkge1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZTIuZWxlbWVudCh7XG4gICAgICAgIC4uLnBhcnRzLnZhbHVlVGV4dC5hdHRycyxcbiAgICAgICAgZGlyOiBwcm9wKFwiZGlyXCIpLFxuICAgICAgICBcImRhdGEtZGlzYWJsZWRcIjogZGF0YUF0dHIoZGlzYWJsZWQpLFxuICAgICAgICBcImRhdGEtb3JpZW50YXRpb25cIjogcHJvcChcIm9yaWVudGF0aW9uXCIpLFxuICAgICAgICBcImRhdGEtaW52YWxpZFwiOiBkYXRhQXR0cihpbnZhbGlkKSxcbiAgICAgICAgXCJkYXRhLWZvY3VzXCI6IGRhdGFBdHRyKGZvY3VzZWQpLFxuICAgICAgICBpZDogZ2V0VmFsdWVUZXh0SWQoc2NvcGUpXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldFRyYWNrUHJvcHMoKSB7XG4gICAgICByZXR1cm4gbm9ybWFsaXplMi5lbGVtZW50KHtcbiAgICAgICAgLi4ucGFydHMudHJhY2suYXR0cnMsXG4gICAgICAgIGRpcjogcHJvcChcImRpclwiKSxcbiAgICAgICAgaWQ6IGdldFRyYWNrSWQoc2NvcGUpLFxuICAgICAgICBcImRhdGEtZGlzYWJsZWRcIjogZGF0YUF0dHIoZGlzYWJsZWQpLFxuICAgICAgICBcImRhdGEtaW52YWxpZFwiOiBkYXRhQXR0cihpbnZhbGlkKSxcbiAgICAgICAgXCJkYXRhLWRyYWdnaW5nXCI6IGRhdGFBdHRyKGRyYWdnaW5nKSxcbiAgICAgICAgXCJkYXRhLW9yaWVudGF0aW9uXCI6IHByb3AoXCJvcmllbnRhdGlvblwiKSxcbiAgICAgICAgXCJkYXRhLWZvY3VzXCI6IGRhdGFBdHRyKGZvY3VzZWQpLFxuICAgICAgICBzdHlsZTogeyBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0VGh1bWJQcm9wcyhwcm9wczIpIHtcbiAgICAgIGNvbnN0IHsgaW5kZXggPSAwLCBuYW1lIH0gPSBwcm9wczI7XG4gICAgICBjb25zdCB2YWx1ZSA9IHNsaWRlclZhbHVlW2luZGV4XTtcbiAgICAgIGNvbnN0IHJhbmdlID0gZ2V0UmFuZ2VBdEluZGV4KHNlcnZpY2UsIGluZGV4KTtcbiAgICAgIGNvbnN0IHZhbHVlVGV4dCA9IHByb3AoXCJnZXRBcmlhVmFsdWVUZXh0XCIpPy4oeyB2YWx1ZSwgaW5kZXggfSk7XG4gICAgICBjb25zdCBfYXJpYUxhYmVsID0gQXJyYXkuaXNBcnJheShhcmlhTGFiZWwpID8gYXJpYUxhYmVsW2luZGV4XSA6IGFyaWFMYWJlbDtcbiAgICAgIGNvbnN0IF9hcmlhTGFiZWxsZWRCeSA9IEFycmF5LmlzQXJyYXkoYXJpYUxhYmVsbGVkQnkpID8gYXJpYUxhYmVsbGVkQnlbaW5kZXhdIDogYXJpYUxhYmVsbGVkQnk7XG4gICAgICByZXR1cm4gbm9ybWFsaXplMi5lbGVtZW50KHtcbiAgICAgICAgLi4ucGFydHMudGh1bWIuYXR0cnMsXG4gICAgICAgIGRpcjogcHJvcChcImRpclwiKSxcbiAgICAgICAgXCJkYXRhLWluZGV4XCI6IGluZGV4LFxuICAgICAgICBcImRhdGEtbmFtZVwiOiBuYW1lLFxuICAgICAgICBpZDogZ2V0VGh1bWJJZChzY29wZSwgaW5kZXgpLFxuICAgICAgICBcImRhdGEtZGlzYWJsZWRcIjogZGF0YUF0dHIoZGlzYWJsZWQpLFxuICAgICAgICBcImRhdGEtb3JpZW50YXRpb25cIjogcHJvcChcIm9yaWVudGF0aW9uXCIpLFxuICAgICAgICBcImRhdGEtZm9jdXNcIjogZGF0YUF0dHIoZm9jdXNlZCAmJiBmb2N1c2VkSW5kZXggPT09IGluZGV4KSxcbiAgICAgICAgXCJkYXRhLWRyYWdnaW5nXCI6IGRhdGFBdHRyKGRyYWdnaW5nICYmIGZvY3VzZWRJbmRleCA9PT0gaW5kZXgpLFxuICAgICAgICBkcmFnZ2FibGU6IGZhbHNlLFxuICAgICAgICBcImFyaWEtZGlzYWJsZWRcIjogYXJpYUF0dHIoZGlzYWJsZWQpLFxuICAgICAgICBcImFyaWEtbGFiZWxcIjogX2FyaWFMYWJlbCxcbiAgICAgICAgXCJhcmlhLWxhYmVsbGVkYnlcIjogX2FyaWFMYWJlbGxlZEJ5ID8/IGdldExhYmVsSWQoc2NvcGUpLFxuICAgICAgICBcImFyaWEtb3JpZW50YXRpb25cIjogcHJvcChcIm9yaWVudGF0aW9uXCIpLFxuICAgICAgICBcImFyaWEtdmFsdWVtYXhcIjogcmFuZ2UubWF4LFxuICAgICAgICBcImFyaWEtdmFsdWVtaW5cIjogcmFuZ2UubWluLFxuICAgICAgICBcImFyaWEtdmFsdWVub3dcIjogc2xpZGVyVmFsdWVbaW5kZXhdLFxuICAgICAgICBcImFyaWEtdmFsdWV0ZXh0XCI6IHZhbHVlVGV4dCxcbiAgICAgICAgcm9sZTogXCJzbGlkZXJcIixcbiAgICAgICAgdGFiSW5kZXg6IGRpc2FibGVkID8gdm9pZCAwIDogMCxcbiAgICAgICAgc3R5bGU6IGdldFRodW1iU3R5bGUoc2VydmljZSwgaW5kZXgpLFxuICAgICAgICBvblBvaW50ZXJEb3duKGV2ZW50KSB7XG4gICAgICAgICAgaWYgKCFpbnRlcmFjdGl2ZSkgcmV0dXJuO1xuICAgICAgICAgIGlmICghaXNMZWZ0Q2xpY2soZXZlbnQpKSByZXR1cm47XG4gICAgICAgICAgc2VuZCh7IHR5cGU6IFwiVEhVTUJfUE9JTlRFUl9ET1dOXCIsIGluZGV4IH0pO1xuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9LFxuICAgICAgICBvbkJsdXIoKSB7XG4gICAgICAgICAgaWYgKCFpbnRlcmFjdGl2ZSkgcmV0dXJuO1xuICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIkJMVVJcIiB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Gb2N1cygpIHtcbiAgICAgICAgICBpZiAoIWludGVyYWN0aXZlKSByZXR1cm47XG4gICAgICAgICAgc2VuZCh7IHR5cGU6IFwiRk9DVVNcIiwgaW5kZXggfSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uS2V5RG93bihldmVudCkge1xuICAgICAgICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSByZXR1cm47XG4gICAgICAgICAgaWYgKCFpbnRlcmFjdGl2ZSkgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHN0ZXAgPSBnZXRFdmVudFN0ZXAoZXZlbnQpICogcHJvcChcInN0ZXBcIik7XG4gICAgICAgICAgY29uc3Qga2V5TWFwID0ge1xuICAgICAgICAgICAgQXJyb3dVcCgpIHtcbiAgICAgICAgICAgICAgaWYgKGlzSG9yaXpvbnRhbCkgcmV0dXJuO1xuICAgICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJBUlJPV19JTkNcIiwgc3RlcCwgc3JjOiBcIkFycm93VXBcIiB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBBcnJvd0Rvd24oKSB7XG4gICAgICAgICAgICAgIGlmIChpc0hvcml6b250YWwpIHJldHVybjtcbiAgICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiQVJST1dfREVDXCIsIHN0ZXAsIHNyYzogXCJBcnJvd0Rvd25cIiB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBBcnJvd0xlZnQoKSB7XG4gICAgICAgICAgICAgIGlmIChpc1ZlcnRpY2FsKSByZXR1cm47XG4gICAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIkFSUk9XX0RFQ1wiLCBzdGVwLCBzcmM6IFwiQXJyb3dMZWZ0XCIgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgQXJyb3dSaWdodCgpIHtcbiAgICAgICAgICAgICAgaWYgKGlzVmVydGljYWwpIHJldHVybjtcbiAgICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiQVJST1dfSU5DXCIsIHN0ZXAsIHNyYzogXCJBcnJvd1JpZ2h0XCIgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgUGFnZVVwKCkge1xuICAgICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJBUlJPV19JTkNcIiwgc3RlcCwgc3JjOiBcIlBhZ2VVcFwiIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFBhZ2VEb3duKCkge1xuICAgICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJBUlJPV19ERUNcIiwgc3RlcCwgc3JjOiBcIlBhZ2VEb3duXCIgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgSG9tZSgpIHtcbiAgICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiSE9NRVwiIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEVuZCgpIHtcbiAgICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiRU5EXCIgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb25zdCBrZXkgPSBnZXRFdmVudEtleShldmVudCwge1xuICAgICAgICAgICAgZGlyOiBwcm9wKFwiZGlyXCIpLFxuICAgICAgICAgICAgb3JpZW50YXRpb246IHByb3AoXCJvcmllbnRhdGlvblwiKVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IGV4ZWMgPSBrZXlNYXBba2V5XTtcbiAgICAgICAgICBpZiAoZXhlYykge1xuICAgICAgICAgICAgZXhlYyhldmVudCk7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldEhpZGRlbklucHV0UHJvcHMocHJvcHMyKSB7XG4gICAgICBjb25zdCB7IGluZGV4ID0gMCwgbmFtZSB9ID0gcHJvcHMyO1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZTIuaW5wdXQoe1xuICAgICAgICBuYW1lOiBuYW1lID8/IChwcm9wKFwibmFtZVwiKSA/IHByb3AoXCJuYW1lXCIpICsgKHNsaWRlclZhbHVlLmxlbmd0aCA+IDEgPyBcIltdXCIgOiBcIlwiKSA6IHZvaWQgMCksXG4gICAgICAgIGZvcm06IHByb3AoXCJmb3JtXCIpLFxuICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgaGlkZGVuOiB0cnVlLFxuICAgICAgICBkZWZhdWx0VmFsdWU6IHNsaWRlclZhbHVlW2luZGV4XSxcbiAgICAgICAgaWQ6IGdldEhpZGRlbklucHV0SWQoc2NvcGUsIGluZGV4KVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXRSYW5nZVByb3BzKCkge1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZTIuZWxlbWVudCh7XG4gICAgICAgIGlkOiBnZXRSYW5nZUlkKHNjb3BlKSxcbiAgICAgICAgLi4ucGFydHMucmFuZ2UuYXR0cnMsXG4gICAgICAgIGRpcjogcHJvcChcImRpclwiKSxcbiAgICAgICAgXCJkYXRhLWRyYWdnaW5nXCI6IGRhdGFBdHRyKGRyYWdnaW5nKSxcbiAgICAgICAgXCJkYXRhLWZvY3VzXCI6IGRhdGFBdHRyKGZvY3VzZWQpLFxuICAgICAgICBcImRhdGEtaW52YWxpZFwiOiBkYXRhQXR0cihpbnZhbGlkKSxcbiAgICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGRhdGFBdHRyKGRpc2FibGVkKSxcbiAgICAgICAgXCJkYXRhLW9yaWVudGF0aW9uXCI6IHByb3AoXCJvcmllbnRhdGlvblwiKSxcbiAgICAgICAgc3R5bGU6IGdldFJhbmdlU3R5bGUoc2VydmljZSlcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0Q29udHJvbFByb3BzKCkge1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZTIuZWxlbWVudCh7XG4gICAgICAgIC4uLnBhcnRzLmNvbnRyb2wuYXR0cnMsXG4gICAgICAgIGRpcjogcHJvcChcImRpclwiKSxcbiAgICAgICAgaWQ6IGdldENvbnRyb2xJZChzY29wZSksXG4gICAgICAgIFwiZGF0YS1kcmFnZ2luZ1wiOiBkYXRhQXR0cihkcmFnZ2luZyksXG4gICAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihkaXNhYmxlZCksXG4gICAgICAgIFwiZGF0YS1vcmllbnRhdGlvblwiOiBwcm9wKFwib3JpZW50YXRpb25cIiksXG4gICAgICAgIFwiZGF0YS1pbnZhbGlkXCI6IGRhdGFBdHRyKGludmFsaWQpLFxuICAgICAgICBcImRhdGEtZm9jdXNcIjogZGF0YUF0dHIoZm9jdXNlZCksXG4gICAgICAgIHN0eWxlOiBnZXRDb250cm9sU3R5bGUoKSxcbiAgICAgICAgb25Qb2ludGVyRG93bihldmVudCkge1xuICAgICAgICAgIGlmICghaW50ZXJhY3RpdmUpIHJldHVybjtcbiAgICAgICAgICBpZiAoIWlzTGVmdENsaWNrKGV2ZW50KSkgcmV0dXJuO1xuICAgICAgICAgIGlmIChpc01vZGlmaWVyS2V5KGV2ZW50KSkgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHBvaW50ID0gZ2V0RXZlbnRQb2ludChldmVudCk7XG4gICAgICAgICAgc2VuZCh7IHR5cGU6IFwiUE9JTlRFUl9ET1dOXCIsIHBvaW50IH0pO1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0TWFya2VyR3JvdXBQcm9wcygpIHtcbiAgICAgIHJldHVybiBub3JtYWxpemUyLmVsZW1lbnQoe1xuICAgICAgICAuLi5wYXJ0cy5tYXJrZXJHcm91cC5hdHRycyxcbiAgICAgICAgcm9sZTogXCJwcmVzZW50YXRpb25cIixcbiAgICAgICAgZGlyOiBwcm9wKFwiZGlyXCIpLFxuICAgICAgICBcImFyaWEtaGlkZGVuXCI6IHRydWUsXG4gICAgICAgIFwiZGF0YS1vcmllbnRhdGlvblwiOiBwcm9wKFwib3JpZW50YXRpb25cIiksXG4gICAgICAgIHN0eWxlOiBnZXRNYXJrZXJHcm91cFN0eWxlKClcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0TWFya2VyUHJvcHMocHJvcHMyKSB7XG4gICAgICBjb25zdCBzdHlsZSA9IGdldE1hcmtlclN0eWxlKHNlcnZpY2UsIHByb3BzMi52YWx1ZSk7XG4gICAgICBsZXQgbWFya2VyU3RhdGU7XG4gICAgICBpZiAocHJvcHMyLnZhbHVlIDwgZmlyc3Qoc2xpZGVyVmFsdWUpKSB7XG4gICAgICAgIG1hcmtlclN0YXRlID0gXCJ1bmRlci12YWx1ZVwiO1xuICAgICAgfSBlbHNlIGlmIChwcm9wczIudmFsdWUgPiBsYXN0KHNsaWRlclZhbHVlKSkge1xuICAgICAgICBtYXJrZXJTdGF0ZSA9IFwib3Zlci12YWx1ZVwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWFya2VyU3RhdGUgPSBcImF0LXZhbHVlXCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gbm9ybWFsaXplMi5lbGVtZW50KHtcbiAgICAgICAgLi4ucGFydHMubWFya2VyLmF0dHJzLFxuICAgICAgICBpZDogZ2V0TWFya2VySWQoc2NvcGUsIHByb3BzMi52YWx1ZSksXG4gICAgICAgIHJvbGU6IFwicHJlc2VudGF0aW9uXCIsXG4gICAgICAgIGRpcjogcHJvcChcImRpclwiKSxcbiAgICAgICAgXCJkYXRhLW9yaWVudGF0aW9uXCI6IHByb3AoXCJvcmllbnRhdGlvblwiKSxcbiAgICAgICAgXCJkYXRhLXZhbHVlXCI6IHByb3BzMi52YWx1ZSxcbiAgICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGRhdGFBdHRyKGRpc2FibGVkKSxcbiAgICAgICAgXCJkYXRhLXN0YXRlXCI6IG1hcmtlclN0YXRlLFxuICAgICAgICBzdHlsZVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXREcmFnZ2luZ0luZGljYXRvclByb3BzKHByb3BzMikge1xuICAgICAgY29uc3QgeyBpbmRleCA9IDAgfSA9IHByb3BzMjtcbiAgICAgIGNvbnN0IGlzRHJhZ2dpbmcgPSBpbmRleCA9PT0gZm9jdXNlZEluZGV4ICYmIGRyYWdnaW5nO1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZTIuZWxlbWVudCh7XG4gICAgICAgIC4uLnBhcnRzLmRyYWdnaW5nSW5kaWNhdG9yLmF0dHJzLFxuICAgICAgICByb2xlOiBcInByZXNlbnRhdGlvblwiLFxuICAgICAgICBkaXI6IHByb3AoXCJkaXJcIiksXG4gICAgICAgIGhpZGRlbjogIWlzRHJhZ2dpbmcsXG4gICAgICAgIFwiZGF0YS1vcmllbnRhdGlvblwiOiBwcm9wKFwib3JpZW50YXRpb25cIiksXG4gICAgICAgIFwiZGF0YS1zdGF0ZVwiOiBpc0RyYWdnaW5nID8gXCJvcGVuXCIgOiBcImNsb3NlZFwiLFxuICAgICAgICBzdHlsZTogZ2V0VGh1bWJTdHlsZShzZXJ2aWNlLCBpbmRleClcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1cbnZhciBpc0VxdWFsU2l6ZSA9IChhLCBiKSA9PiB7XG4gIHJldHVybiBhPy53aWR0aCA9PT0gYj8ud2lkdGggJiYgYT8uaGVpZ2h0ID09PSBiPy5oZWlnaHQ7XG59O1xudmFyIG5vcm1hbGl6ZSA9ICh2YWx1ZSwgbWluLCBtYXgsIHN0ZXAsIG1pblN0ZXBzQmV0d2VlblRodW1icykgPT4ge1xuICBjb25zdCByYW5nZXMgPSBnZXRWYWx1ZVJhbmdlcyh2YWx1ZSwgbWluLCBtYXgsIG1pblN0ZXBzQmV0d2VlblRodW1icyAqIHN0ZXApO1xuICByZXR1cm4gcmFuZ2VzLm1hcCgocmFuZ2UpID0+IHtcbiAgICBjb25zdCBzbmFwVmFsdWUgPSBzbmFwVmFsdWVUb1N0ZXAocmFuZ2UudmFsdWUsIHJhbmdlLm1pbiwgcmFuZ2UubWF4LCBzdGVwKTtcbiAgICBjb25zdCByYW5nZVZhbHVlID0gY2xhbXBWYWx1ZShzbmFwVmFsdWUsIHJhbmdlLm1pbiwgcmFuZ2UubWF4KTtcbiAgICBpZiAoIWlzVmFsdWVXaXRoaW5SYW5nZShyYW5nZVZhbHVlLCBtaW4sIG1heCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJbemFnLWpzL3NsaWRlcl0gVGhlIGNvbmZpZ3VyZWQgYG1pbmAsIGBtYXhgLCBgc3RlcGAgb3IgYG1pblN0ZXBzQmV0d2VlblRodW1ic2AgdmFsdWVzIGFyZSBpbnZhbGlkXCJcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiByYW5nZVZhbHVlO1xuICB9KTtcbn07XG52YXIgbWFjaGluZSA9IGNyZWF0ZU1hY2hpbmUoe1xuICBwcm9wcyh7IHByb3BzOiBwcm9wczIgfSkge1xuICAgIGNvbnN0IG1pbiA9IHByb3BzMi5taW4gPz8gMDtcbiAgICBjb25zdCBtYXggPSBwcm9wczIubWF4ID8/IDEwMDtcbiAgICBjb25zdCBzdGVwID0gcHJvcHMyLnN0ZXAgPz8gMTtcbiAgICBjb25zdCBkZWZhdWx0VmFsdWUgPSBwcm9wczIuZGVmYXVsdFZhbHVlID8/IFttaW5dO1xuICAgIGNvbnN0IG1pblN0ZXBzQmV0d2VlblRodW1icyA9IHByb3BzMi5taW5TdGVwc0JldHdlZW5UaHVtYnMgPz8gMDtcbiAgICByZXR1cm4ge1xuICAgICAgZGlyOiBcImx0clwiLFxuICAgICAgdGh1bWJBbGlnbm1lbnQ6IFwiY29udGFpblwiLFxuICAgICAgb3JpZ2luOiBcInN0YXJ0XCIsXG4gICAgICBvcmllbnRhdGlvbjogXCJob3Jpem9udGFsXCIsXG4gICAgICBtaW5TdGVwc0JldHdlZW5UaHVtYnMsXG4gICAgICAuLi5wcm9wczIsXG4gICAgICBkZWZhdWx0VmFsdWU6IG5vcm1hbGl6ZShkZWZhdWx0VmFsdWUsIG1pbiwgbWF4LCBzdGVwLCBtaW5TdGVwc0JldHdlZW5UaHVtYnMpLFxuICAgICAgdmFsdWU6IHByb3BzMi52YWx1ZSA/IG5vcm1hbGl6ZShwcm9wczIudmFsdWUsIG1pbiwgbWF4LCBzdGVwLCBtaW5TdGVwc0JldHdlZW5UaHVtYnMpIDogdm9pZCAwLFxuICAgICAgbWF4LFxuICAgICAgc3RlcCxcbiAgICAgIG1pblxuICAgIH07XG4gIH0sXG4gIGluaXRpYWxTdGF0ZSgpIHtcbiAgICByZXR1cm4gXCJpZGxlXCI7XG4gIH0sXG4gIGNvbnRleHQoeyBwcm9wLCBiaW5kYWJsZSwgZ2V0Q29udGV4dCB9KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRodW1iU2l6ZTogYmluZGFibGUoKCkgPT4gKHtcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBwcm9wKFwidGh1bWJTaXplXCIpIHx8IG51bGxcbiAgICAgIH0pKSxcbiAgICAgIHZhbHVlOiBiaW5kYWJsZSgoKSA9PiAoe1xuICAgICAgICBkZWZhdWx0VmFsdWU6IHByb3AoXCJkZWZhdWx0VmFsdWVcIiksXG4gICAgICAgIHZhbHVlOiBwcm9wKFwidmFsdWVcIiksXG4gICAgICAgIGlzRXF1YWwsXG4gICAgICAgIGhhc2goYSkge1xuICAgICAgICAgIHJldHVybiBhLmpvaW4oXCIsXCIpO1xuICAgICAgICB9LFxuICAgICAgICBvbkNoYW5nZSh2YWx1ZSkge1xuICAgICAgICAgIHByb3AoXCJvblZhbHVlQ2hhbmdlXCIpPy4oeyB2YWx1ZSB9KTtcbiAgICAgICAgfVxuICAgICAgfSkpLFxuICAgICAgZm9jdXNlZEluZGV4OiBiaW5kYWJsZSgoKSA9PiAoe1xuICAgICAgICBkZWZhdWx0VmFsdWU6IC0xLFxuICAgICAgICBvbkNoYW5nZSh2YWx1ZSkge1xuICAgICAgICAgIGNvbnN0IGN0eCA9IGdldENvbnRleHQoKTtcbiAgICAgICAgICBwcm9wKFwib25Gb2N1c0NoYW5nZVwiKT8uKHsgZm9jdXNlZEluZGV4OiB2YWx1ZSwgdmFsdWU6IGN0eC5nZXQoXCJ2YWx1ZVwiKSB9KTtcbiAgICAgICAgfVxuICAgICAgfSkpLFxuICAgICAgZmllbGRzZXREaXNhYmxlZDogYmluZGFibGUoKCkgPT4gKHtcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBmYWxzZVxuICAgICAgfSkpXG4gICAgfTtcbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBpc0hvcml6b250YWw6ICh7IHByb3AgfSkgPT4gcHJvcChcIm9yaWVudGF0aW9uXCIpID09PSBcImhvcml6b250YWxcIixcbiAgICBpc1ZlcnRpY2FsOiAoeyBwcm9wIH0pID0+IHByb3AoXCJvcmllbnRhdGlvblwiKSA9PT0gXCJ2ZXJ0aWNhbFwiLFxuICAgIGlzUnRsOiAoeyBwcm9wIH0pID0+IHByb3AoXCJvcmllbnRhdGlvblwiKSA9PT0gXCJob3Jpem9udGFsXCIgJiYgcHJvcChcImRpclwiKSA9PT0gXCJydGxcIixcbiAgICBpc0Rpc2FibGVkOiAoeyBjb250ZXh0LCBwcm9wIH0pID0+ICEhcHJvcChcImRpc2FibGVkXCIpIHx8IGNvbnRleHQuZ2V0KFwiZmllbGRzZXREaXNhYmxlZFwiKSxcbiAgICBpc0ludGVyYWN0aXZlOiAoeyBwcm9wLCBjb21wdXRlZCB9KSA9PiAhKHByb3AoXCJyZWFkT25seVwiKSB8fCBjb21wdXRlZChcImlzRGlzYWJsZWRcIikpLFxuICAgIGhhc01lYXN1cmVkVGh1bWJTaXplOiAoeyBjb250ZXh0IH0pID0+IGNvbnRleHQuZ2V0KFwidGh1bWJTaXplXCIpICE9IG51bGwsXG4gICAgdmFsdWVQZXJjZW50KHsgY29udGV4dCwgcHJvcCB9KSB7XG4gICAgICByZXR1cm4gY29udGV4dC5nZXQoXCJ2YWx1ZVwiKS5tYXAoKHZhbHVlKSA9PiAxMDAgKiBnZXRWYWx1ZVBlcmNlbnQodmFsdWUsIHByb3AoXCJtaW5cIiksIHByb3AoXCJtYXhcIikpKTtcbiAgICB9XG4gIH0sXG4gIHdhdGNoKHsgdHJhY2ssIGFjdGlvbiwgY29udGV4dCB9KSB7XG4gICAgdHJhY2soWygpID0+IGNvbnRleHQuaGFzaChcInZhbHVlXCIpXSwgKCkgPT4ge1xuICAgICAgYWN0aW9uKFtcInN5bmNJbnB1dEVsZW1lbnRzXCIsIFwiZGlzcGF0Y2hDaGFuZ2VFdmVudFwiXSk7XG4gICAgfSk7XG4gIH0sXG4gIGVmZmVjdHM6IFtcInRyYWNrRm9ybUNvbnRyb2xTdGF0ZVwiLCBcInRyYWNrVGh1bWJTaXplXCJdLFxuICBvbjoge1xuICAgIFNFVF9WQUxVRTogW1xuICAgICAge1xuICAgICAgICBndWFyZDogXCJoYXNJbmRleFwiLFxuICAgICAgICBhY3Rpb25zOiBbXCJzZXRWYWx1ZUF0SW5kZXhcIl1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGFjdGlvbnM6IFtcInNldFZhbHVlXCJdXG4gICAgICB9XG4gICAgXSxcbiAgICBJTkNSRU1FTlQ6IHtcbiAgICAgIGFjdGlvbnM6IFtcImluY3JlbWVudFRodW1iQXRJbmRleFwiXVxuICAgIH0sXG4gICAgREVDUkVNRU5UOiB7XG4gICAgICBhY3Rpb25zOiBbXCJkZWNyZW1lbnRUaHVtYkF0SW5kZXhcIl1cbiAgICB9XG4gIH0sXG4gIHN0YXRlczoge1xuICAgIGlkbGU6IHtcbiAgICAgIG9uOiB7XG4gICAgICAgIFBPSU5URVJfRE9XTjoge1xuICAgICAgICAgIHRhcmdldDogXCJkcmFnZ2luZ1wiLFxuICAgICAgICAgIGFjdGlvbnM6IFtcInNldENsb3Nlc3RUaHVtYkluZGV4XCIsIFwic2V0UG9pbnRlclZhbHVlXCIsIFwiZm9jdXNBY3RpdmVUaHVtYlwiXVxuICAgICAgICB9LFxuICAgICAgICBGT0NVUzoge1xuICAgICAgICAgIHRhcmdldDogXCJmb2N1c1wiLFxuICAgICAgICAgIGFjdGlvbnM6IFtcInNldEZvY3VzZWRJbmRleFwiXVxuICAgICAgICB9LFxuICAgICAgICBUSFVNQl9QT0lOVEVSX0RPV046IHtcbiAgICAgICAgICB0YXJnZXQ6IFwiZHJhZ2dpbmdcIixcbiAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRGb2N1c2VkSW5kZXhcIiwgXCJmb2N1c0FjdGl2ZVRodW1iXCJdXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGZvY3VzOiB7XG4gICAgICBlbnRyeTogW1wiZm9jdXNBY3RpdmVUaHVtYlwiXSxcbiAgICAgIG9uOiB7XG4gICAgICAgIFBPSU5URVJfRE9XTjoge1xuICAgICAgICAgIHRhcmdldDogXCJkcmFnZ2luZ1wiLFxuICAgICAgICAgIGFjdGlvbnM6IFtcInNldENsb3Nlc3RUaHVtYkluZGV4XCIsIFwic2V0UG9pbnRlclZhbHVlXCIsIFwiZm9jdXNBY3RpdmVUaHVtYlwiXVxuICAgICAgICB9LFxuICAgICAgICBUSFVNQl9QT0lOVEVSX0RPV046IHtcbiAgICAgICAgICB0YXJnZXQ6IFwiZHJhZ2dpbmdcIixcbiAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRGb2N1c2VkSW5kZXhcIiwgXCJmb2N1c0FjdGl2ZVRodW1iXCJdXG4gICAgICAgIH0sXG4gICAgICAgIEFSUk9XX0RFQzoge1xuICAgICAgICAgIGFjdGlvbnM6IFtcImRlY3JlbWVudFRodW1iQXRJbmRleFwiLCBcImludm9rZU9uQ2hhbmdlRW5kXCJdXG4gICAgICAgIH0sXG4gICAgICAgIEFSUk9XX0lOQzoge1xuICAgICAgICAgIGFjdGlvbnM6IFtcImluY3JlbWVudFRodW1iQXRJbmRleFwiLCBcImludm9rZU9uQ2hhbmdlRW5kXCJdXG4gICAgICAgIH0sXG4gICAgICAgIEhPTUU6IHtcbiAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRGb2N1c2VkVGh1bWJUb01pblwiLCBcImludm9rZU9uQ2hhbmdlRW5kXCJdXG4gICAgICAgIH0sXG4gICAgICAgIEVORDoge1xuICAgICAgICAgIGFjdGlvbnM6IFtcInNldEZvY3VzZWRUaHVtYlRvTWF4XCIsIFwiaW52b2tlT25DaGFuZ2VFbmRcIl1cbiAgICAgICAgfSxcbiAgICAgICAgQkxVUjoge1xuICAgICAgICAgIHRhcmdldDogXCJpZGxlXCIsXG4gICAgICAgICAgYWN0aW9uczogW1wiY2xlYXJGb2N1c2VkSW5kZXhcIl1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZHJhZ2dpbmc6IHtcbiAgICAgIGVudHJ5OiBbXCJmb2N1c0FjdGl2ZVRodW1iXCJdLFxuICAgICAgZWZmZWN0czogW1widHJhY2tQb2ludGVyTW92ZVwiXSxcbiAgICAgIG9uOiB7XG4gICAgICAgIFBPSU5URVJfVVA6IHtcbiAgICAgICAgICB0YXJnZXQ6IFwiZm9jdXNcIixcbiAgICAgICAgICBhY3Rpb25zOiBbXCJpbnZva2VPbkNoYW5nZUVuZFwiXVxuICAgICAgICB9LFxuICAgICAgICBQT0lOVEVSX01PVkU6IHtcbiAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRQb2ludGVyVmFsdWVcIl1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgaW1wbGVtZW50YXRpb25zOiB7XG4gICAgZ3VhcmRzOiB7XG4gICAgICBoYXNJbmRleDogKHsgZXZlbnQgfSkgPT4gZXZlbnQuaW5kZXggIT0gbnVsbFxuICAgIH0sXG4gICAgZWZmZWN0czoge1xuICAgICAgdHJhY2tGb3JtQ29udHJvbFN0YXRlKHsgY29udGV4dCwgc2NvcGUgfSkge1xuICAgICAgICByZXR1cm4gdHJhY2tGb3JtQ29udHJvbChnZXRSb290RWwoc2NvcGUpLCB7XG4gICAgICAgICAgb25GaWVsZHNldERpc2FibGVkQ2hhbmdlKGRpc2FibGVkKSB7XG4gICAgICAgICAgICBjb250ZXh0LnNldChcImZpZWxkc2V0RGlzYWJsZWRcIiwgZGlzYWJsZWQpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgb25Gb3JtUmVzZXQoKSB7XG4gICAgICAgICAgICBjb250ZXh0LnNldChcInZhbHVlXCIsIGNvbnRleHQuaW5pdGlhbChcInZhbHVlXCIpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHRyYWNrUG9pbnRlck1vdmUoeyBzY29wZSwgc2VuZCB9KSB7XG4gICAgICAgIHJldHVybiB0cmFja1BvaW50ZXJNb3ZlKHNjb3BlLmdldERvYygpLCB7XG4gICAgICAgICAgb25Qb2ludGVyTW92ZShpbmZvKSB7XG4gICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJQT0lOVEVSX01PVkVcIiwgcG9pbnQ6IGluZm8ucG9pbnQgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvblBvaW50ZXJVcCgpIHtcbiAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIlBPSU5URVJfVVBcIiB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHRyYWNrVGh1bWJTaXplKHsgY29udGV4dCwgc2NvcGUsIHByb3AgfSkge1xuICAgICAgICBpZiAocHJvcChcInRodW1iQWxpZ25tZW50XCIpICE9PSBcImNvbnRhaW5cIiB8fCBwcm9wKFwidGh1bWJTaXplXCIpKSByZXR1cm47XG4gICAgICAgIHJldHVybiB0cmFja0VsZW1lbnRSZWN0KGdldFRodW1iRWxzKHNjb3BlKSwge1xuICAgICAgICAgIGJveDogXCJib3JkZXItYm94XCIsXG4gICAgICAgICAgbWVhc3VyZShlbCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldE9mZnNldFJlY3QoZWwpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgb25FbnRyeSh7IHJlY3RzIH0pIHtcbiAgICAgICAgICAgIGlmIChyZWN0cy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHNpemUgPSBwaWNrKHJlY3RzWzBdLCBbXCJ3aWR0aFwiLCBcImhlaWdodFwiXSk7XG4gICAgICAgICAgICBpZiAoaXNFcXVhbFNpemUoY29udGV4dC5nZXQoXCJ0aHVtYlNpemVcIiksIHNpemUpKSByZXR1cm47XG4gICAgICAgICAgICBjb250ZXh0LnNldChcInRodW1iU2l6ZVwiLCBzaXplKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgYWN0aW9uczoge1xuICAgICAgZGlzcGF0Y2hDaGFuZ2VFdmVudCh7IGNvbnRleHQsIHNjb3BlIH0pIHtcbiAgICAgICAgZGlzcGF0Y2hDaGFuZ2VFdmVudChzY29wZSwgY29udGV4dC5nZXQoXCJ2YWx1ZVwiKSk7XG4gICAgICB9LFxuICAgICAgc3luY0lucHV0RWxlbWVudHMoeyBjb250ZXh0LCBzY29wZSB9KSB7XG4gICAgICAgIGNvbnRleHQuZ2V0KFwidmFsdWVcIikuZm9yRWFjaCgodmFsdWUsIGluZGV4KSA9PiB7XG4gICAgICAgICAgY29uc3QgaW5wdXRFbCA9IGdldEhpZGRlbklucHV0RWwoc2NvcGUsIGluZGV4KTtcbiAgICAgICAgICBzZXRFbGVtZW50VmFsdWUoaW5wdXRFbCwgdmFsdWUudG9TdHJpbmcoKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGludm9rZU9uQ2hhbmdlRW5kKHsgcHJvcCwgY29udGV4dCB9KSB7XG4gICAgICAgIHF1ZXVlTWljcm90YXNrKCgpID0+IHtcbiAgICAgICAgICBwcm9wKFwib25WYWx1ZUNoYW5nZUVuZFwiKT8uKHsgdmFsdWU6IGNvbnRleHQuZ2V0KFwidmFsdWVcIikgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHNldENsb3Nlc3RUaHVtYkluZGV4KHBhcmFtcykge1xuICAgICAgICBjb25zdCB7IGNvbnRleHQsIGV2ZW50IH0gPSBwYXJhbXM7XG4gICAgICAgIGNvbnN0IHBvaW50VmFsdWUgPSBnZXRQb2ludFZhbHVlKHBhcmFtcywgZXZlbnQucG9pbnQpO1xuICAgICAgICBpZiAocG9pbnRWYWx1ZSA9PSBudWxsKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGZvY3VzZWRJbmRleCA9IGdldENsb3Nlc3RJbmRleChwYXJhbXMsIHBvaW50VmFsdWUpO1xuICAgICAgICBjb250ZXh0LnNldChcImZvY3VzZWRJbmRleFwiLCBmb2N1c2VkSW5kZXgpO1xuICAgICAgfSxcbiAgICAgIHNldEZvY3VzZWRJbmRleCh7IGNvbnRleHQsIGV2ZW50IH0pIHtcbiAgICAgICAgY29udGV4dC5zZXQoXCJmb2N1c2VkSW5kZXhcIiwgZXZlbnQuaW5kZXgpO1xuICAgICAgfSxcbiAgICAgIGNsZWFyRm9jdXNlZEluZGV4KHsgY29udGV4dCB9KSB7XG4gICAgICAgIGNvbnRleHQuc2V0KFwiZm9jdXNlZEluZGV4XCIsIC0xKTtcbiAgICAgIH0sXG4gICAgICBzZXRQb2ludGVyVmFsdWUocGFyYW1zKSB7XG4gICAgICAgIHF1ZXVlTWljcm90YXNrKCgpID0+IHtcbiAgICAgICAgICBjb25zdCB7IGNvbnRleHQsIGV2ZW50IH0gPSBwYXJhbXM7XG4gICAgICAgICAgY29uc3QgcG9pbnRWYWx1ZSA9IGdldFBvaW50VmFsdWUocGFyYW1zLCBldmVudC5wb2ludCk7XG4gICAgICAgICAgaWYgKHBvaW50VmFsdWUgPT0gbnVsbCkgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IGZvY3VzZWRJbmRleCA9IGNvbnRleHQuZ2V0KFwiZm9jdXNlZEluZGV4XCIpO1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gY29uc3RyYWluVmFsdWUocGFyYW1zLCBwb2ludFZhbHVlLCBmb2N1c2VkSW5kZXgpO1xuICAgICAgICAgIGNvbnRleHQuc2V0KFwidmFsdWVcIiwgKHByZXYpID0+IHNldFZhbHVlQXRJbmRleChwcmV2LCBmb2N1c2VkSW5kZXgsIHZhbHVlKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGZvY3VzQWN0aXZlVGh1bWIoeyBzY29wZSwgY29udGV4dCB9KSB7XG4gICAgICAgIHJhZigoKSA9PiB7XG4gICAgICAgICAgY29uc3QgdGh1bWJFbCA9IGdldFRodW1iRWwoc2NvcGUsIGNvbnRleHQuZ2V0KFwiZm9jdXNlZEluZGV4XCIpKTtcbiAgICAgICAgICB0aHVtYkVsPy5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGRlY3JlbWVudFRodW1iQXRJbmRleChwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgeyBjb250ZXh0LCBldmVudCB9ID0gcGFyYW1zO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGRlY3JlbWVudChwYXJhbXMsIGV2ZW50LmluZGV4LCBldmVudC5zdGVwKTtcbiAgICAgICAgY29udGV4dC5zZXQoXCJ2YWx1ZVwiLCB2YWx1ZSk7XG4gICAgICB9LFxuICAgICAgaW5jcmVtZW50VGh1bWJBdEluZGV4KHBhcmFtcykge1xuICAgICAgICBjb25zdCB7IGNvbnRleHQsIGV2ZW50IH0gPSBwYXJhbXM7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gaW5jcmVtZW50KHBhcmFtcywgZXZlbnQuaW5kZXgsIGV2ZW50LnN0ZXApO1xuICAgICAgICBjb250ZXh0LnNldChcInZhbHVlXCIsIHZhbHVlKTtcbiAgICAgIH0sXG4gICAgICBzZXRGb2N1c2VkVGh1bWJUb01pbihwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgeyBjb250ZXh0IH0gPSBwYXJhbXM7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gY29udGV4dC5nZXQoXCJmb2N1c2VkSW5kZXhcIik7XG4gICAgICAgIGNvbnN0IHsgbWluIH0gPSBnZXRSYW5nZUF0SW5kZXgocGFyYW1zLCBpbmRleCk7XG4gICAgICAgIGNvbnRleHQuc2V0KFwidmFsdWVcIiwgKHByZXYpID0+IHNldFZhbHVlQXRJbmRleChwcmV2LCBpbmRleCwgbWluKSk7XG4gICAgICB9LFxuICAgICAgc2V0Rm9jdXNlZFRodW1iVG9NYXgocGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IHsgY29udGV4dCB9ID0gcGFyYW1zO1xuICAgICAgICBjb25zdCBpbmRleCA9IGNvbnRleHQuZ2V0KFwiZm9jdXNlZEluZGV4XCIpO1xuICAgICAgICBjb25zdCB7IG1heCB9ID0gZ2V0UmFuZ2VBdEluZGV4KHBhcmFtcywgaW5kZXgpO1xuICAgICAgICBjb250ZXh0LnNldChcInZhbHVlXCIsIChwcmV2KSA9PiBzZXRWYWx1ZUF0SW5kZXgocHJldiwgaW5kZXgsIG1heCkpO1xuICAgICAgfSxcbiAgICAgIHNldFZhbHVlQXRJbmRleChwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgeyBjb250ZXh0LCBldmVudCB9ID0gcGFyYW1zO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGNvbnN0cmFpblZhbHVlKHBhcmFtcywgZXZlbnQudmFsdWUsIGV2ZW50LmluZGV4KTtcbiAgICAgICAgY29udGV4dC5zZXQoXCJ2YWx1ZVwiLCAocHJldikgPT4gc2V0VmFsdWVBdEluZGV4KHByZXYsIGV2ZW50LmluZGV4LCB2YWx1ZSkpO1xuICAgICAgfSxcbiAgICAgIHNldFZhbHVlKHBhcmFtcykge1xuICAgICAgICBjb25zdCB7IGNvbnRleHQsIGV2ZW50IH0gPSBwYXJhbXM7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gbm9ybWFsaXplVmFsdWVzKHBhcmFtcywgZXZlbnQudmFsdWUpO1xuICAgICAgICBjb250ZXh0LnNldChcInZhbHVlXCIsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0pO1xudmFyIHByb3BzID0gY3JlYXRlUHJvcHMoKShbXG4gIFwiYXJpYS1sYWJlbFwiLFxuICBcImFyaWEtbGFiZWxsZWRieVwiLFxuICBcImRpclwiLFxuICBcImRpc2FibGVkXCIsXG4gIFwiZm9ybVwiLFxuICBcImdldEFyaWFWYWx1ZVRleHRcIixcbiAgXCJnZXRSb290Tm9kZVwiLFxuICBcImlkXCIsXG4gIFwiaWRzXCIsXG4gIFwiaW52YWxpZFwiLFxuICBcIm1heFwiLFxuICBcIm1pblwiLFxuICBcIm1pblN0ZXBzQmV0d2VlblRodW1ic1wiLFxuICBcIm5hbWVcIixcbiAgXCJvbkZvY3VzQ2hhbmdlXCIsXG4gIFwib25WYWx1ZUNoYW5nZVwiLFxuICBcIm9uVmFsdWVDaGFuZ2VFbmRcIixcbiAgXCJvcmllbnRhdGlvblwiLFxuICBcIm9yaWdpblwiLFxuICBcInJlYWRPbmx5XCIsXG4gIFwic3RlcFwiLFxuICBcInRodW1iQWxpZ25tZW50XCIsXG4gIFwidGh1bWJBbGlnbm1lbnRcIixcbiAgXCJ0aHVtYlNpemVcIixcbiAgXCJ2YWx1ZVwiLFxuICBcImRlZmF1bHRWYWx1ZVwiXG5dKTtcbnZhciBzcGxpdFByb3BzID0gY3JlYXRlU3BsaXRQcm9wcyhwcm9wcyk7XG52YXIgdGh1bWJQcm9wcyA9IGNyZWF0ZVByb3BzKCkoW1wiaW5kZXhcIiwgXCJuYW1lXCJdKTtcbnZhciBzcGxpdFRodW1iUHJvcHMgPSBjcmVhdGVTcGxpdFByb3BzKHRodW1iUHJvcHMpO1xuXG5leHBvcnQgeyBhbmF0b215LCBjb25uZWN0LCBtYWNoaW5lLCBwcm9wcywgc3BsaXRQcm9wcywgc3BsaXRUaHVtYlByb3BzLCB0aHVtYlByb3BzIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/@zag-js+slider@1.21.7/node_modules/@zag-js/slider/dist/index.mjs\n");

/***/ })

};
;